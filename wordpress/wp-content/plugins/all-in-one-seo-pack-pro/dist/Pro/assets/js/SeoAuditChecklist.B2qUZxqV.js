import{q as C,o as R,p as x,f as O,u as T,c as B,e as D}from"./links.D18SrdNe.js";import{C as M}from"./Card.ltM1bBnP.js";import{C as H}from"./Tabs.jOaaGWf1.js";import{C as E}from"./SeoSiteAnalysisResults.ClZdYstp.js";import{p as G}from"./popup.Dv7cb5WI.js";import"./default-i18n.Bd0Z306Z.js";import{u as $,S as K}from"./SeoSiteScore.DrP4c7Kx.js";import{x as o,o as i,c as u,C as n,d as _,a as r,t as c,F as j,K as w,l as S,m as l,D as b,H as I}from"./vue.esm-bundler.DqIKZLqK.js";import{_ as k}from"./_plugin-vue_export-helper.BN1snXvA.js";import{C as N}from"./Blur.BIgRC1HX.js";import{C as U}from"./Index.H3mVv_Fk.js";import{S as P}from"./Book.BGEBZa2g.js";import{S as V}from"./Lab.BMBO5rUG.js";import{C as q}from"./Tooltip.Gayc6MvE.js";import{S as F}from"./Refresh.DC2oJKxO.js";import{a as W}from"./index.BWln78-O.js";import"./helpers.BOFCPzAH.js";import"./Caret.CE8P-qnG.js";import"./Slide.Qz9BWVTI.js";import"./TruSeoScore.TjofuHRQ.js";import"./Ellipse.CwJ4-j4Z.js";import"./Information.DFP4LhAC.js";import"./Tags.C8dN262w.js";import"./postSlug.DgPEdjzX.js";import"./metabox.DtF8nuvV.js";import"./cleanForSlug.1AmsoVq6.js";import"./toString.BNLSY1cq.js";import"./_baseTrim.BYZhh0MR.js";import"./_stringToArray.DnK4tKcY.js";import"./deburr.CJsb_ehd.js";import"./get.CYs9ONpq.js";import"./GoogleSearchPreview.COiebX3i.js";import"./strings.6as-7VnG.js";import"./isString.CT51n-I9.js";import"./constants.DpuIWwJ9.js";import"./Gear.CG2jqT3t.js";import"./params.B3T1WKlC.js";import"./Index.C434cYCW.js";const Y={setup(){const e=$();return{analyzerStore:C(),composableStrings:e.strings,errorObject:e.errorObject}},components:{CoreSiteScore:U,SvgBook:P,SvgDannieLab:V},props:{score:Number,loading:Boolean,description:String,summary:{type:Object,default(){return{}}}},data(){return{strings:R({yourOverallSiteScore:this.$t.__("Your Overall Site Score",this.$td),goodResult:this.$t.sprintf(this.$t.__("A very good score is between %1$s%3$d and %4$d%2$s.",this.$td),"<strong>","</strong>",50,75),forBestResults:this.$t.sprintf(this.$t.__("For best results, you should strive for %1$s%3$d and above%2$s.",this.$td),"<strong>","</strong>",70),readUltimateSeoGuide:this.$t.__("Read the Ultimate WordPress SEO Guide",this.$td)},this.composableStrings)}}},Q={class:"aioseo-seo-analysis"},J={key:0,class:"seo-analysis-score"},X={key:1,class:"seo-analysis-description"},Z=["innerHTML"],ee=["innerHTML"],te={class:"d-flex"},se=["href"],oe={key:2,class:"seo-analysis-error"},re={class:"error-title"},ne=["innerHTML"],ie={class:"error-action-buttons"};function ae(e,v,h,t,a,d){const m=o("core-site-score"),p=o("svg-book"),y=o("svg-dannie-lab"),g=o("base-button");return i(),u("div",Q,[t.analyzerStore.analyzeError?_("",!0):(i(),u("div",J,[n(m,{loading:h.loading,score:h.score,description:h.description,strokeWidth:1.75},null,8,["loading","score","description"])])),t.analyzerStore.analyzeError?_("",!0):(i(),u("div",X,[r("h2",null,c(a.strings.yourOverallSiteScore),1),r("div",{innerHTML:a.strings.goodResult},null,8,Z),r("div",{innerHTML:a.strings.forBestResults},null,8,ee),r("div",te,[n(p),r("a",{href:e.$links.getDocUrl("ultimateGuide"),target:"_blank"},c(a.strings.readUltimateSeoGuide),9,se)])])),t.analyzerStore.analyzeError&&t.errorObject?(i(),u("div",oe,[n(y),r("p",re,c(a.strings.anErrorOccurred),1),r("p",{class:"error-description",innerHTML:t.errorObject.description},null,8,ne),r("div",ie,[(i(!0),u(j,null,w(t.errorObject.buttons,(s,f)=>(i(),S(g,{key:f,type:s.type,tag:s.tag?s.tag:"button",target:"_blank",href:s.url?s.url:"",size:"medium",loading:(s==null?void 0:s.runAgain)&&t.analyzerStore.analyzing,onClick:A=>s!=null&&s.runAgain?t.analyzerStore.runSiteAnalyzer():""},{default:l(()=>[b(c(s.text),1)]),_:2},1032,["type","tag","href","loading","onClick"]))),128))])])):_("",!0)])}const le=k(Y,[["render",ae]]),ce={setup(){const{strings:e}=$();return{analyzerStore:C(),connectStore:x(),licenseStore:O(),optionsStore:T(),rootStore:B(),strings:e}},components:{CoreBlur:N,CoreSiteScoreAnalyze:le},mixins:[K],data(){return{score:0}},watch:{"optionsStore.internalOptions.internal.siteAnalysis.score"(e){this.score=e}},computed:{getSummary(){return{recommended:this.analyzerStore.recommendedCount(),critical:this.analyzerStore.criticalCount(),good:this.analyzerStore.goodCount()}}},methods:{openPopup(e){G(e,this.connectWithAioseo,600,630,!0,["token"],this.completedCallback,this.closedCallback)},completedCallback(e){return this.connectStore.saveConnectToken(e.token)},closedCallback(e){e&&this.analyzerStore.runSiteAnalyzer(),this.analyzerStore.analyzing=!0}},mounted(){!this.optionsStore.internalOptions.internal.siteAnalysis.score&&this.licenseStore.licenseKey&&(this.analyzerStore.analyzing=!0,this.analyzerStore.runSiteAnalyzer()),this.score=this.optionsStore.internalOptions.internal.siteAnalysis.score}},ue={class:"aioseo-seo-site-score"},_e={key:1,class:"aioseo-seo-site-score-cta"},de=["href"];function me(e,v,h,t,a,d){const m=o("core-site-score-analyze"),p=o("core-blur");return i(),u("div",ue,[t.licenseStore.licenseKey?_("",!0):(i(),S(p,{key:0},{default:l(()=>[n(m,{score:85,description:e.description},null,8,["description"])]),_:1})),t.licenseStore.licenseKey?_("",!0):(i(),u("div",_e,[r("a",{href:t.rootStore.aioseo.urls.aio.settings},c(t.strings.enterLicenseKey),9,de),b(" "+c(t.strings.toSeeYourSiteScore),1)])),t.licenseStore.licenseKey?(i(),S(m,{key:2,score:a.score,description:e.description,loading:t.analyzerStore.analyzing,summary:d.getSummary},null,8,["score","description","loading","summary"])):_("",!0)])}const pe=k(ce,[["render",me]]),he={setup(){return{analyzerStore:C(),licenseStore:O(),optionsStore:T(),settingsStore:D()}},components:{CoreCard:M,CoreMainTabs:H,CoreSeoSiteAnalysisResults:E,CoreSeoSiteScoreAnalyze:pe,CoreTooltip:q,SvgCircleQuestionMark:W,SvgRefresh:F},data(){return{internalDebounce:!1,strings:{completeSeoChecklist:this.$t.__("Complete SEO Checklist",this.$td),refreshResults:this.$t.__("Refresh Results",this.$td),cardDescription:this.$t.__("These are the results our SEO Analzyer has generated after analyzing the homepage of your website.",this.$td)+" "+this.$links.getDocLink(this.$constants.GLOBAL_STRINGS.learnMore,"seoAnalyzer",!0)}}},computed:{tabs(){const e=this.optionsStore.internalOptions.internal.siteAnalysis;return[{slug:"all-items",label:this.$t.__("All Items",this.$td),analyze:{classColor:"black",count:e.score?this.analyzerStore.allItemsCount():0}},{slug:"critical",label:this.$t.__("Important Issues",this.$td),analyze:{classColor:"red",count:e.score?this.analyzerStore.criticalCount():0}},{slug:"recommended-improvements",label:this.$t.__("Recommended Improvements",this.$td),analyze:{classColor:"blue",count:e.score?this.analyzerStore.recommendedCount():0}},{slug:"good-results",label:this.$t.__("Good Results",this.$td),analyze:{classColor:"green",count:e.score?this.analyzerStore.goodCount():0}}]}},methods:{processChangeTab(e){this.internalDebounce||(this.internalDebounce=!0,this.settingsStore.changeTab({slug:"seoAuditChecklist",value:e}),setTimeout(()=>{this.internalDebounce=!1},50))},refresh(){this.analyzerStore.analyzing=!0,this.analyzerStore.runSiteAnalyzer({refresh:!0})}}},Se={class:"aioseo-seo-audit-checklist"},ye=["innerHTML"],ge={class:"label"};function fe(e,v,h,t,a,d){const m=o("core-seo-site-score-analyze"),p=o("core-card"),y=o("svg-circle-question-mark"),g=o("core-tooltip"),s=o("svg-refresh"),f=o("base-button"),A=o("core-main-tabs"),L=o("core-seo-site-analysis-results");return i(),u("div",Se,[n(p,{slug:"connectOrScore","hide-header":"","no-slide":"",toggles:!1},{default:l(()=>[n(m)]),_:1}),(e.$isPro&&t.licenseStore.licenseKey||t.optionsStore.internalOptions.internal.siteAnalysis.connectToken)&&t.optionsStore.internalOptions.internal.siteAnalysis.score?(i(),S(p,{key:0,slug:"completeSeoChecklist","no-slide":"",toggles:!1},{header:l(()=>[r("span",null,c(a.strings.completeSeoChecklist),1),n(g,null,{tooltip:l(()=>[r("span",{innerHTML:a.strings.cardDescription},null,8,ye)]),default:l(()=>[n(y)]),_:1})]),"header-extra":l(()=>[n(f,{class:"refresh-results",type:"gray",size:"small",onClick:d.refresh,loading:t.analyzerStore.analyzing},{default:l(()=>[n(s),b(" "+c(a.strings.refreshResults),1)]),_:1},8,["onClick","loading"])]),tabs:l(()=>[n(A,{tabs:d.tabs,showSaveButton:!1,active:t.settingsStore.settings.internalTabs.seoAuditChecklist,internal:"",onChanged:d.processChangeTab,"skinny-tabs":""},{"var-tab":l(({tab:z})=>[r("span",{class:I(["round",z.analyze.classColor])},c(z.analyze.count||0),3),r("span",ge,c(z.label),1)]),_:1},8,["tabs","active","onChanged"])]),default:l(()=>[n(L,{section:t.settingsStore.settings.internalTabs.seoAuditChecklist,"all-results":t.analyzerStore.getSiteAnalysisResults,"show-instructions":""},null,8,["section","all-results"])]),_:1})):_("",!0)])}const rt=k(he,[["render",fe]]);export{rt as default};
