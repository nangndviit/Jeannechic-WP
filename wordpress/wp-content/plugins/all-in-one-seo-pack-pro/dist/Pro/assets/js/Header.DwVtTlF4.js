import{K as H,f as L,L as V,i as U,c as M,e as F}from"./links.D18SrdNe.js";import{a as S}from"./addons.DR5v859-.js";import{S as q}from"./ScrollAndHighlight.BC_yHgSj.js";import{C as D,a as E}from"./LicenseKeyBar.CAbsDtWP.js";import{U as W}from"./AnimatedNumber.ghEv8KMR.js";import{x as c,o as t,c as i,C as l,m as g,a as u,T as C,D as w,t as h,q as G,H as T,l as p,d as a,G as v}from"./vue.esm-bundler.DqIKZLqK.js";import{_}from"./_plugin-vue_export-helper.BN1snXvA.js";import{S as Y}from"./Caret.CE8P-qnG.js";import{S as Z}from"./Logo.OekohoeO.js";import{a as j}from"./index.BWln78-O.js";const K={components:{UtilAnimatedNumber:W},props:{percentage:Number},data(){return{fromNumber:0,number:0}},watch:{percentage:{deep:!0,handler(e){e!==this.number&&(this.fromNumber=this.number,this.number=e)}}},mounted(){this.number=this.percentage}},O={class:"aioseo-percent-circle"},R={class:"aioseo-seo-site-score-svg",viewBox:"0 0 33.83098862 33.83098862",xmlns:"http://www.w3.org/2000/svg"},z=u("circle",{class:"aioseo-percent-circle-score__background",stroke:"#BFD6F7","stroke-width":"2",fill:"none",cx:"16.91549431",cy:"16.91549431",r:"15.91549431"},null,-1),I=["stroke-dasharray"],Q={class:"aioseo-percent-circle-percent"};function J(e,n,s,o,d,r){const m=c("util-animated-number");return t(),i("div",O,[l(C,{name:"fill-percent-circle"},{default:g(()=>[(t(),i("svg",R,[z,u("circle",{class:"aioseo-percent-circle-score__circle",stroke:"#005AE0","stroke-width":"2","stroke-dasharray":`${s.percentage},100`,fill:"none",cx:"16.91549431",cy:"16.91549431",r:"15.91549431"},null,8,I)]))]),_:1}),u("div",Q,[u("div",null,[l(m,{number:d.number,"from-number":d.fromNumber},null,8,["number","from-number"]),w("% ")])])])}const A=_(K,[["render",J]]),X={emits:["close"],components:{CorePercentCircle:A,SvgClose:Y},props:{strings:Object,percentage:Number}},ee={class:"aioseo-processing-popup"},te=u("br",null,null,-1);function oe(e,n,s,o,d,r){const m=c("core-percent-circle"),f=c("svg-close");return t(),i("div",ee,[l(m,{percentage:s.percentage},null,8,["percentage"]),u("div",null,[u("strong",null,h(s.strings.header),1),te,w(h(s.strings.description),1)]),l(f,{onClick:n[0]||(n[0]=b=>e.$emit("close"))})])}const se=_(X,[["render",oe]]),ne={};function re(e,n){return t(),i("div")}const ie=_(ne,[["render",re]]),ae={props:{hero:{type:Boolean,default:!1},fluid:{type:Boolean,default:!1},fullWidth:Boolean,small:Boolean},computed:{classes(){let e=this.fluid?"aioseo-container-fluid ":"aioseo-container ";return e+=this.hero?"aioseo-hero ":"",e+=this.fullWidth?"full-width ":"",e+=this.small?"small ":"",e}}};function ce(e,n,s,o,d,r){return t(),i("div",{class:T(r.classes)},[G(e.$slots,"default")],2)}const le=_(ae,[["render",ce]]),ue={},de={viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"aioseo-notifications"},pe=u("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.8333 2.5H4.16667C3.25 2.5 2.5 3.25 2.5 4.16667V15.8333C2.5 16.75 3.24167 17.5 4.16667 17.5H15.8333C16.75 17.5 17.5 16.75 17.5 15.8333V4.16667C17.5 3.25 16.75 2.5 15.8333 2.5ZM15.8333 15.8333H4.16667V13.3333H7.13333C7.70833 14.325 8.775 15 10.0083 15C11.2417 15 12.3 14.325 12.8833 13.3333H15.8333V15.8333ZM11.675 11.6667H15.8333V4.16667H4.16667V11.6667H8.34167C8.34167 12.5833 9.09167 13.3333 10.0083 13.3333C10.925 13.3333 11.675 12.5833 11.675 11.6667Z",fill:"currentColor"},null,-1),_e=[pe];function me(e,n){return t(),i("svg",de,_e)}const ge=_(ue,[["render",me]]),he={setup(){return{helpPanelStore:H(),licenseStore:L(),linkAssistantStore:V(),notificationsStore:U(),rootStore:M(),settingsStore:F()}},components:{CoreApiBar:D,CoreLicenseKeyBar:E,CorePercentCircle:A,CoreProcessingPopup:se,CoreUpgradeBar:ie,GridContainer:le,SvgAioseoLogo:Z,SvgCircleQuestionMark:j,SvgNotifications:ge},mixins:[q],props:{fullWidth:Boolean,small:Boolean,pageName:String,actions:{type:Boolean,default(){return!0}},upgradeBar:{type:Boolean,default(){return!0}}},data(){return{activeScan:null,strings:{linkAssistantPopup:{header:this.$t.__("Link suggestions are being processed.",this.$td),description:this.$t.__("Depending on the number of posts being scanned, this process can take some time. You can safely leave this page and check back later.",this.$td)},searchStatisticsPopup:{header:this.$t.__("Search statistics are being fetched.",this.$td),description:this.$t.__("Depending on the amount of content on your site, this process can take some time. You can safely leave this page and check back later.",this.$td)}}}},computed:{percentage(){switch(this.activeScan){case"linkAssistant":return this.linkAssistantStore.suggestionsScan.percent;default:return null}},showPopup(){switch(this.activeScan){case"linkAssistant":return this.linkAssistantStore.suggestionsScan.showProcessingPopup&&this.linkAssistantStore.suggestionsScan.percent!==100;default:return null}},popupStrings(){switch(this.activeScan){case"linkAssistant":return this.strings.linkAssistantPopup;default:return null}}},methods:{debounce(e){let n;return(...s)=>{n&&cancelAnimationFrame(n),n=requestAnimationFrame(()=>{e(...s)})}},storeScroll(){document.documentElement.dataset.scroll=window.scrollY},toggleModal(){document.getElementById("aioseo-help-modal").classList.toggle("visible"),document.body.classList.toggle("modal-open")},checkForActiveScan(){this.rootStore.aioseo.page==="link-assistant"&&S.isActive("aioseo-link-assistant")&&!S.requiresUpgrade("aioseo-link-assistant")&&S.hasMinimumVersion("aioseo-link-assistant")&&(this.$route.name==="links-report"||this.$route.name==="overview")&&this.linkAssistantStore.suggestionsScan.percent!==100&&(this.activeScan="linkAssistant")},toggleCirclePopup(){switch(this.activeScan){case"linkAssistant":return this.linkAssistantStore.toggleProcessingPopup();default:return null}}},mounted(){this.storeScroll(),document.addEventListener("scroll",this.debounce(this.storeScroll),{passive:!0}),this.checkForActiveScan()}},fe={class:"aioseo-header"},ke={class:"aioseo-header-content"},Se=["href"],ve={key:2,class:"spacer"},Ce={key:3,class:"page-name"},be={key:4,class:"header-actions"},ye={key:0,class:"round number"};function we(e,n,s,o,d,r){const m=c("core-upgrade-bar"),f=c("core-license-key-bar"),b=c("core-api-bar"),y=c("svg-aioseo-logo"),B=c("core-percent-circle"),N=c("core-processing-popup"),P=c("svg-notifications"),x=c("svg-circle-question-mark"),$=c("grid-container");return t(),i("div",fe,[!e.$isPro&&o.settingsStore.settings.showUpgradeBar&&s.upgradeBar&&o.rootStore.pong?(t(),p(m,{key:0})):a("",!0),e.$isPro&&o.licenseStore.isUnlicensed&&o.rootStore.pong?(t(),p(f,{key:1})):a("",!0),o.rootStore.pong?a("",!0):(t(),p(b,{key:2})),l($,{"full-width":s.fullWidth,small:s.small},{default:g(()=>[u("div",ke,[o.licenseStore.isUnlicensed?(t(),i("a",{key:0,href:e.$links.utmUrl("header-logo"),target:"_blank"},[l(y)],8,Se)):a("",!0),o.licenseStore.isUnlicensed?a("",!0):(t(),p(y,{key:1})),s.pageName?(t(),i("span",ve)):a("",!0),s.pageName?(t(),i("span",Ce,h(s.pageName),1)):a("",!0),s.actions?(t(),i("div",be,[l(C,{name:"fade-percent-circle"},{default:g(()=>[d.activeScan&&r.percentage!==100?(t(),p(B,{key:0,percentage:r.percentage,onClick:r.toggleCirclePopup},null,8,["percentage","onClick"])):a("",!0)]),_:1}),l(C,{name:"fade-processing-popup"},{default:g(()=>[r.showPopup?(t(),p(N,{key:0,strings:r.popupStrings,percentage:r.percentage,onClose:r.toggleCirclePopup},null,8,["strings","percentage","onClose"])):a("",!0)]),_:1}),u("span",{class:"round",onClick:n[0]||(n[0]=v((...k)=>o.notificationsStore.toggleNotifications&&o.notificationsStore.toggleNotifications(...k),["stop"]))},[o.notificationsStore.activeNotificationsCount?(t(),i("span",ye,h(o.notificationsStore.activeNotificationsCount>9?"!":o.notificationsStore.activeNotificationsCount),1)):a("",!0),l(P,{onClick:v(o.notificationsStore.toggleNotifications,["stop"])},null,8,["onClick"])]),o.helpPanelStore.docs&&Object.keys(o.helpPanelStore.docs).length?(t(),i("span",{key:0,class:"round",onClick:n[1]||(n[1]=v((...k)=>r.toggleModal&&r.toggleModal(...k),["stop"]))},[l(x)])):a("",!0)])):a("",!0)])]),_:1},8,["full-width","small"])])}const Me=_(he,[["render",we]]);export{Me as C,le as G,se as a};
