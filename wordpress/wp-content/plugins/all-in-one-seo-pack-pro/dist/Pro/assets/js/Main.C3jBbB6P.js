import{k as D,c as B,f as pe,D as K,e as W,o as ge}from"./links.D18SrdNe.js";import{R as me,a as _e}from"./RequiresUpdate.DpGTZenH.js";import{a as fe}from"./addons.DR5v859-.js";import{C as Se}from"./Index.D78owy0A.js";import{s as ve,t as Y,n as be}from"./helpers.BOFCPzAH.js";import{C as E}from"./Card.ltM1bBnP.js";import{C as j}from"./SettingsRow.BjeXKLX-.js";import{S as X,R as we,m as ye,C as Pe}from"./Index.CO5KW6Qm.js";import{x as d,o as c,l as S,$ as $e,m as n,D as h,t as l,C as i,a as r,c as _,H as x,d as m,F as A,K as O,L as Re,M as Ce,G as M,v as Ve}from"./vue.esm-bundler.DqIKZLqK.js";import{_ as T}from"./_plugin-vue_export-helper.BN1snXvA.js";import{C as N}from"./Tooltip.Gayc6MvE.js";import{S as te}from"./Plus.D1ndwb34.js";import{S as q,e as ke,B as Te,a as Le,b as He}from"./index.BWln78-O.js";import{C as z,e as De,c as Ue,d as G,S as se}from"./Caret.CE8P-qnG.js";import{S as J,R as Ae}from"./Redirects.D36MiMAn.js";import{B as Ee}from"./Checkbox.DUOJ_PLM.js";import{G as oe,a as re}from"./Row.DKhn_IWV.js";import{S as Ie}from"./Upload.CPdBmhOB.js";import{a as Oe}from"./strings.6as-7VnG.js";import{C as Q}from"./Index.Dd1ElObi.js";import{C as ee}from"./Table.DPPHow5O.js";import{S as ie}from"./Download.DkvZRXi0.js";import{S as Me}from"./Exclamation.BWU5OCVZ.js";import{_ as L}from"./default-i18n.Bd0Z306Z.js";import{D as xe}from"./Date.iGI3tgmf.js";import{J as ne}from"./JsonValues.D25FTfEu.js";import{W as le}from"./WpTable.yjBoG_Qq.js";import{S as ae}from"./Information.DFP4LhAC.js";import{S as Fe}from"./Redirect.COodItXb.js";import{T as Be}from"./Slide.Qz9BWVTI.js";import{B as de,S as Ne}from"./Php.DfC70dTG.js";import{C as ze}from"./PostTypeOptions.DQWobezP.js";import{T as Je,a as We}from"./Row.CkLy7DTq.js";import{l as je}from"./license.CZ_ULMsy.js";import"./RequiresUpdate.8qIPup-E.js";import"./upperFirst.DLef_sD0.js";import"./_stringToArray.DnK4tKcY.js";import"./toString.BNLSY1cq.js";import"./allowed.CaQjD8oQ.js";import"./deburr.CJsb_ehd.js";/* empty css             */import"./params.B3T1WKlC.js";import"./Ellipse.CwJ4-j4Z.js";import"./Header.DwVtTlF4.js";import"./ScrollAndHighlight.BC_yHgSj.js";import"./LicenseKeyBar.CAbsDtWP.js";import"./LogoGear.8AAnR2nD.js";import"./AnimatedNumber.ghEv8KMR.js";import"./numbers.zAmItkHM.js";import"./Logo.OekohoeO.js";import"./Support.BwN8Esgn.js";import"./Tabs.jOaaGWf1.js";import"./TruSeoScore.TjofuHRQ.js";import"./Url.0a1-NMVj.js";import"./Gear.CG2jqT3t.js";import"./constants.DpuIWwJ9.js";import"./ProBadge.CjKJMApR.js";import"./External.BpSjuEvK.js";import"./DatePicker.CNqmEwaR.js";import"./Calendar.q2eLUa1q.js";import"./get.CYs9ONpq.js";import"./isUndefined.CjgJ8jPS.js";import"./_getTag.B9PhEBdR.js";import"./debounce.BTlgoBNC.js";import"./toNumber.DjUzv07w.js";import"./_baseTrim.BYZhh0MR.js";import"./isEqual.Bp2Tc6kH.js";import"./_baseIsEqual.BHFzsQkp.js";import"./Redirects.DpK5t7wJ.js";import"./AddonConditions.BlFrcZ9R.js";import"./Index.uAkj14B_.js";import"./Blur.BIgRC1HX.js";import"./RequiredPlans.BQ_aHZ5c.js";import"./Checkmark.CUxYD2Fh.js";import"./isString.CT51n-I9.js";import"./HighlightToggle.DakSfZ82.js";import"./Radio.DHWLjgLM.js";import"./PostTypes.Cef6XkQ_.js";const qe={setup(){return{redirectsStore:D(),rootStore:B()}},components:{CoreCard:E,CoreSettingsRow:j,SvgRightArrow:X},data(){return{strings:{relocateSite:this.$t.__("Relocate Site",this.$tdPro),descriptionClosed:this.$t.__("Would you like to relocate your entire site to a new domain? Everything will be redirected except WordPress login and admin. Enabling this option will disable any site aliases or canonical settings.",this.$tdPro),description:this.$t.__("By enabling this option you disabled any site aliases or canonical settings. Enter a domain to redirect everything, except WordPress login and admin.",this.$tdPro),oldSiteAddress:this.$t.__("Your old site address",this.$tdPro),newSiteAddress:this.$t.__("Your new site address",this.$tdPro),relocateToDomain:this.$t.__("Relocate to domain",this.$tdPro)+":"}}},methods:{validateUrl:function(e){return e.length===0?null:ve(e)}}},Ye={key:0},Ge={class:"urls aioseo-row"},Ze={class:"relocate-address"},Ke={class:"desc"},Xe={class:"address"},Qe={class:"right-arrow"},et={class:"relocate-address"},tt={class:"desc"},st={class:"address"},ot={class:"aioseo-section-description"};function rt(e,t,p,o,s,a){const g=d("base-toggle"),f=d("svg-right-arrow"),y=d("base-input"),C=d("core-settings-row"),R=d("core-card");return c(),S(R,{slug:"fullSiteRedirectsRelocate",toggles:o.redirectsStore.options.fullSite.relocate.enabled,disabled:!o.redirectsStore.options.fullSite.relocate.enabled},$e({header:n(()=>[i(g,{modelValue:o.redirectsStore.options.fullSite.relocate.enabled,"onUpdate:modelValue":t[0]||(t[0]=P=>o.redirectsStore.options.fullSite.relocate.enabled=P)},null,8,["modelValue"]),r("span",null,l(s.strings.relocateSite),1)]),default:n(()=>[o.redirectsStore.options.fullSite.relocate.enabled?(c(),_("div",Ye,[r("div",Ge,[r("div",Ze,[r("div",Ke,l(s.strings.oldSiteAddress)+":",1),r("div",Xe,l(o.rootStore.aioseo.urls.home),1)]),r("div",Qe,[i(f)]),r("div",et,[r("div",tt,l(s.strings.newSiteAddress)+":",1),r("div",st,l(o.redirectsStore.options.fullSite.relocate.newDomain),1)])]),r("div",ot,l(s.strings.description),1),i(C,{name:s.strings.relocateToDomain},{content:n(()=>[i(y,{type:"text",size:"medium",modelValue:o.redirectsStore.options.fullSite.relocate.newDomain,"onUpdate:modelValue":t[1]||(t[1]=P=>o.redirectsStore.options.fullSite.relocate.newDomain=P),class:x({"aioseo-error":a.validateUrl(o.redirectsStore.options.fullSite.relocate.newDomain)===!1,"aioseo-active":a.validateUrl(o.redirectsStore.options.fullSite.relocate.newDomain)===!0}),spellcheck:!1,"append-icon":"circle-check"},null,8,["modelValue","class"])]),_:1},8,["name"])])):m("",!0)]),_:2},[o.redirectsStore.options.fullSite.relocate.enabled?void 0:{name:"disabled",fn:n(()=>[h(l(s.strings.descriptionClosed),1)]),key:"0"}]),1032,["toggles","disabled"])}const it=T(qe,[["render",rt],["__scopeId","data-v-f402c34e"]]),nt={aliasedDomain:null},lt={setup(){return{redirectsStore:D(),rootStore:B()}},components:{CoreCard:E,CoreTooltip:N,SvgCirclePlus:te,SvgRightArrow:X,SvgTrash:q},data(){return{strings:{siteAliases:this.$t.__("Site Aliases",this.$tdPro),descriptionClosed:this.$t.__("Site aliases are disabled because you have relocated your site to another domain.",this.$tdPro),description:this.$t.__("A site alias is another domain that you want to be redirected to this site. For example, an old domain, or a subdomain. This will redirect all URLs, including WordPress login and admin. You will need to configure your system (DNS and server) to pass requests for these domains to this WordPress install.",this.$tdPro),aliasedDomain:this.$t.__("Aliased Domain",this.$tdPro),alias:this.$t.__("Alias",this.$tdPro),addNew:this.$t.__("Add New",this.$tdPro),delete:this.$t.__("Delete",this.$tdPro),addAliasesMessage:this.$t.__("Add an alias redirect by clicking in 'Add New'.",this.$tdPro)},validRelocationURL:null}},computed:{parsedAliases(){return this.redirectsStore.options.fullSite.aliases.map(e=>e?JSON.parse(e):{})}},methods:{removeRow(e){this.redirectsStore.options.fullSite.aliases.splice(e,1),this.redirectsStore.options.fullSite.aliases.length===0&&this.addRow()},addRow(){this.redirectsStore.options.fullSite.aliases.push(JSON.stringify({...nt}))},updatePage(e,t,p){const o=JSON.parse(this.redirectsStore.options.fullSite.aliases[p]);o[e]=t,this.redirectsStore.options.fullSite.aliases[p]=JSON.stringify(o)}},mounted(){this.redirectsStore.options.fullSite.aliases.length===0&&this.addRow()}},at={class:"aioseo-section-description"},dt={class:"redirects-options-table",cellspacing:"0",cellpadding:"0","aria-label":"Site Aliases"},ct=r("td",null,null,-1),ut=r("td",null,null,-1),ht={key:0,class:"even"},pt={colspan:"4"},gt={class:"aliased-domain"},mt={class:"arrow-col"},_t={class:"actions"},ft={colspan:"4"};function St(e,t,p,o,s,a){const g=d("base-input"),f=d("svg-right-arrow"),y=d("svg-trash"),C=d("core-tooltip"),R=d("svg-circle-plus"),P=d("base-button"),$=d("core-card");return c(),S($,{slug:"fullSiteRedirectsAliases",disabled:o.redirectsStore.options.fullSite.relocate.enabled},{header:n(()=>[r("span",null,l(s.strings.siteAliases),1)]),disabled:n(()=>[h(l(s.strings.descriptionClosed),1)]),default:n(()=>[r("div",at,l(s.strings.description),1),r("table",dt,[r("thead",null,[r("tr",null,[r("td",null,l(s.strings.aliasedDomain),1),ct,r("td",null,l(s.strings.alias),1),ut])]),r("tbody",null,[a.parsedAliases.length?m("",!0):(c(),_("tr",ht,[r("td",pt,l(s.strings.addAliasesMessage),1)])),(c(!0),_(A,null,O(a.parsedAliases,(b,u)=>(c(),_("tr",{class:x({even:u%2===0}),key:u},[r("td",gt,[i(g,{size:"medium",modelValue:b.aliasedDomain,"onUpdate:modelValue":[v=>b.aliasedDomain=v,v=>a.updatePage("aliasedDomain",v,u)]},null,8,["modelValue","onUpdate:modelValue"])]),r("td",mt,[r("div",null,[i(f)])]),r("td",null,l(o.rootStore.aioseo.urls.home),1),r("td",_t,[i(C,{type:"action"},{tooltip:n(()=>[h(l(s.strings.delete),1)]),default:n(()=>[i(y,{onClick:v=>a.removeRow(u)},null,8,["onClick"])]),_:2},1024)])],2))),128))]),r("tfoot",null,[r("tr",null,[r("td",ft,[i(P,{size:"small-table",type:"black",onClick:a.addRow},{default:n(()=>[i(R),h(" "+l(s.strings.addNew),1)]),_:1},8,["onClick"])])])])])]),_:1},8,["disabled"])}const vt=T(lt,[["render",St]]),bt={setup(){return{redirectsStore:D(),rootStore:B()}},components:{CoreAlert:z,CoreCard:E,CoreSettingsRow:j,SvgRightArrow:X},data(){return{strings:{canonicalSettings:this.$t.__("Canonical Settings",this.$tdPro),descriptionClosed:this.$t.__("Canonical Settings are disabled because you have relocated your site to another domain.",this.$tdPro),currentSiteAddress:this.$t.__("Your current site address",this.$tdPro),newSiteAddress:this.$t.__("Your new site address",this.$tdPro),httpToHttps:this.$t.__("Redirect from HTTP to HTTPS",this.$tdPro),httpToHttpsDesc:this.$t.__("Force a redirect from HTTP to HTTPS",this.$tdPro),preferredDomain:this.$t.__("Preferred domain",this.$tdPro),configureSiteUrl:this.$t.sprintf(this.$t.__("You'll need to update your Site Address URL to match your new site address. %1$sUpdate Site Address URL%2$s.",this.$tdPro),`<a href="${this.rootStore.aioseo.urls.admin.generalSettings}">`,"</a>"),httpsAlert:this.$t.sprintf(this.$t.__("%1$sWarning:%2$s ensure your HTTPS is working before forcing a redirect. %3$s",this.$tdPro),"<strong>","</strong>",this.$links.getDocLink(this.$constants.GLOBAL_STRINGS.learnMore,"redirectCanonicalHttps",!0))},preferredDomainOptions:[{label:this.$t.__("Leave domain as-is",this.$tdPro),value:""},{label:this.$t.__("Add www to domain",this.$tdPro),value:"add-www"},{label:this.$t.__("Remove www from domain",this.$tdPro),value:"remove-www"}]}},computed:{canonicalSiteAddress(){let e=this.rootStore.aioseo.urls.home;switch(this.redirectsStore.options.fullSite.canonical.httpToHttps&&(e=e.replace(/^http:/,"https:")),this.redirectsStore.options.fullSite.canonical.preferredDomain){case"add-www":e=e.match(/:\/\/www./)?e:e.replace(/:\/\//,"://www.");break;case"remove-www":e=e.replace(/:\/\/www./,"://");break}return e},preferredDomainValue(){let e=this.preferredDomainOptions.filter(t=>t.value===this.redirectsStore.options.fullSite.canonical.preferredDomain);return e||(e=this.preferredDomainOptions.filter(t=>t.value==="")),e}}},wt={key:0},yt={class:"urls aioseo-row"},Pt={class:"preview"},$t={class:"canonical-address"},Rt={class:"desc"},Ct={class:"address"},Vt={class:"right-arrow"},kt={class:"canonical-address"},Tt={class:"desc"},Lt={class:"address"},Ht={key:0};function Dt(e,t,p,o,s,a){const g=d("base-toggle"),f=d("svg-right-arrow"),y=d("core-alert"),C=d("core-settings-row"),R=d("base-select"),P=d("core-card");return c(),S(P,{slug:"fullSiteRedirectsCanonical",toggles:o.redirectsStore.options.fullSite.canonical.enabled,disabled:o.redirectsStore.options.fullSite.relocate.enabled},{header:n(()=>[o.redirectsStore.options.fullSite.relocate.enabled?m("",!0):(c(),S(g,{key:0,modelValue:o.redirectsStore.options.fullSite.canonical.enabled,"onUpdate:modelValue":t[0]||(t[0]=$=>o.redirectsStore.options.fullSite.canonical.enabled=$)},null,8,["modelValue"])),r("span",null,l(s.strings.canonicalSettings),1)]),disabled:n(()=>[h(l(s.strings.descriptionClosed),1)]),default:n(()=>[o.redirectsStore.options.fullSite.canonical.enabled?(c(),_("div",wt,[r("div",yt,[r("div",Pt,[r("div",$t,[r("div",Rt,l(s.strings.currentSiteAddress)+":",1),r("div",Ct,l(o.rootStore.aioseo.urls.home),1)]),r("div",Vt,[i(f)]),r("div",kt,[r("div",Tt,l(s.strings.newSiteAddress)+":",1),r("div",Lt,l(a.canonicalSiteAddress),1)])]),a.canonicalSiteAddress!==o.rootStore.aioseo.urls.home?(c(),_("div",Ht,[i(y,{type:"red",innerHTML:s.strings.configureSiteUrl},null,8,["innerHTML"])])):m("",!0)]),i(C,{name:s.strings.httpToHttps,class:"http-to-https"},{content:n(()=>[i(g,{modelValue:o.redirectsStore.options.fullSite.canonical.httpToHttps,"onUpdate:modelValue":t[1]||(t[1]=$=>o.redirectsStore.options.fullSite.canonical.httpToHttps=$)},null,8,["modelValue"]),h(" "+l(s.strings.httpToHttpsDesc)+" ",1),o.redirectsStore.options.fullSite.canonical.httpToHttps?(c(),S(y,{key:0,type:"yellow",innerHTML:s.strings.httpsAlert},null,8,["innerHTML"])):m("",!0)]),_:1},8,["name"]),i(C,{name:s.strings.preferredDomain,align:""},{content:n(()=>[i(R,{size:"large",options:s.preferredDomainOptions,modelValue:a.preferredDomainValue,"onUpdate:modelValue":t[2]||(t[2]=$=>o.redirectsStore.options.fullSite.canonical.preferredDomain=$.value)},null,8,["options","modelValue"])]),_:1},8,["name"])])):m("",!0)]),_:1},8,["toggles","disabled"])}const Ut=T(bt,[["render",Dt],["__scopeId","data-v-6c699866"]]),At={location:"site",header:null,value:null},Et={setup(){return{redirectsStore:D()}},components:{CoreCard:E,CoreTooltip:N,SvgCirclePlus:te,SvgTrash:q},data(){return{strings:{httpHeaders:this.$t.__("HTTP Headers",this.$tdPro),description:this.$t.__("Site headers are added across your site, including redirects. Redirect headers are only added to redirects.",this.$tdPro),location:this.$t.__("Location",this.$tdPro),header:this.$t.__("Header",this.$tdPro),value:this.$t.__("Value",this.$tdPro),delete:this.$t.__("Delete",this.$tdPro),addHeader:this.$t.__("Add Header",this.$tdPro),addSecurityPresets:this.$t.__("Add Security Presets",this.$tdPro),addCorsPresets:this.$t.__("Add CORS Presets",this.$tdPro),addHeadersMessage:this.$t.__("Add headers by clicking in the options below.",this.$tdPro),headerPlaceholder:this.$t.__("Select a header",this.$tdPro)}}},computed:{parsedHeaders(){return this.redirectsStore.options.fullSite.httpHeaders.map(e=>e?JSON.parse(e):{})},locationOptions(){return[{label:this.$t.__("Site",this.$tdPro),value:"site"},{label:this.$t.__("Redirect",this.$tdPro),value:"redirect"}]},headerOptions(){const e=this.$constants.HTTP_RESPONSE_HEADERS;return e.find(t=>t.groupLabel===this.$t.__("Custom",this.$tdPro))||e.push({groupLabel:this.$t.__("Custom",this.$tdPro),options:[{label:this.$t.__("Custom",this.$tdPro),value:"custom"}]}),e}},methods:{removeRow(e){this.redirectsStore.options.fullSite.httpHeaders.splice(e,1),this.redirectsStore.options.fullSite.httpHeaders.length===0&&this.addRow()},addRow(e,t=!1){e||(e=At),e=JSON.stringify({...e}),(!t||t&&this.redirectsStore.options.fullSite.httpHeaders.filter(p=>p===e).length===0)&&this.redirectsStore.options.fullSite.httpHeaders.push(e)},addRows(e,t=!1){e.forEach(p=>this.addRow(p,t))},updateHeader(e,t,p){const o=JSON.parse(this.redirectsStore.options.fullSite.httpHeaders[p]);t=typeof t.value<"u"?t.value:t,t=typeof t=="object"&&t.length?t.map(s=>s.value):t,o[e]=t,e==="header"&&(o.value=""),this.redirectsStore.options.fullSite.httpHeaders[p]=JSON.stringify(o)},getHeaderValue(e,t,p=!1){let s=JSON.parse(this.redirectsStore.options.fullSite.httpHeaders[t])[e],a=null;if(p)return s;switch(e){case"location":s=this.locationOptions.find(g=>s===g.value),s||(s=this.locationOptions.find(g=>g.value==="site"));break;case"header":this.$constants.HTTP_RESPONSE_HEADERS.forEach(g=>{const f=g.options.find(y=>s===y.value);f&&(s=f)});break;case"value":a=this.getHeaderValue("header",t),s&&a&&typeof(a==null?void 0:a.options)<"u"&&(typeof s=="object"?s=s.map(g=>a.options.find(f=>g===f.value)).filter(g=>!!g):s=a.options.find(g=>s===g.value));break}return s},getHeaderOptions(e){const t=this.getHeaderValue("header",e);return t&&typeof t.options<"u"?t.options:[]},getHeaderMultiple(e){const t=this.getHeaderValue("header",e);return t&&typeof t.multiple<"u"?t.multiple:!1},isHeaderValueCustom(e){return typeof this.getHeaderValue("value",e,!0)=="string"&&this.getHeaderValue("value",e,!0).match(/\[[a-zA-Z0-9_-]+\]/)},addSecurityPresets(){this.addRows([{location:"site",header:"X-Frame-Options",value:"deny"},{location:"site",header:"X-XSS-Protection",value:"1; mode=block"},{location:"site",header:"X-Content-Type-Options",value:"nosniff"},{location:"site",header:"Content-Security-Policy",value:"default-src 'self'; script-src 'unsafe-inline' 'unsafe-eval' http:; style-src 'unsafe-inline' http:; img-src http: data:; font-src http: data:; sandbox allow-forms allow-scripts"},{location:"site",header:"Referrer-Policy",value:"no-referrer-when-downgrade"}],!0)},addCorsPresets(){this.addRows([{location:"site",header:"Access-Control-Allow-Origin",value:"*"},{location:"site",header:"Access-Control-Allow-Credentials",value:"true"},{location:"site",header:"Access-Control-Allow-Methods",value:["GET","POST","OPTIONS"]},{location:"site",header:"Access-Control-Allow-Headers",value:"origin"},{location:"site",header:"Referrer-Policy",value:"no-referrer-when-downgrade"},{location:"site",header:"P3P",value:'CP="CAO PSA OUR"'}],!0)}},mounted(){this.redirectsStore.options.fullSite.httpHeaders.length===0&&this.addRow()}},It=e=>(Re("data-v-e047ca8a"),e=e(),Ce(),e),Ot={class:"aioseo-section-description"},Mt={class:"redirects-options-table",cellspacing:"0",cellpadding:"0","aria-label":"HTTP Headers"},xt=It(()=>r("td",null,null,-1)),Ft={key:0,class:"even"},Bt={colspan:"4"},Nt={class:"location"},zt={class:"httpHeader"},Jt={class:"actions"},Wt={colspan:"4"};function jt(e,t,p,o,s,a){const g=d("base-select"),f=d("base-input"),y=d("svg-trash"),C=d("core-tooltip"),R=d("svg-circle-plus"),P=d("base-button"),$=d("core-card");return c(),S($,{slug:"fullSiteRedirectsHttpHeaders"},{header:n(()=>[r("span",null,l(s.strings.httpHeaders),1)]),default:n(()=>[r("div",Ot,l(s.strings.description),1),r("table",Mt,[r("thead",null,[r("tr",null,[r("td",null,l(s.strings.location),1),r("td",null,l(s.strings.header),1),r("td",null,l(s.strings.value),1),xt])]),r("tbody",null,[a.parsedHeaders.length?m("",!0):(c(),_("tr",Ft,[r("td",Bt,l(s.strings.addHeadersMessage),1)])),(c(!0),_(A,null,O(a.parsedHeaders,(b,u)=>(c(),_("tr",{class:x({even:u%2===0}),key:u},[r("td",Nt,[i(g,{size:"medium",options:a.locationOptions,modelValue:a.getHeaderValue("location",u),"onUpdate:modelValue":v=>a.updateHeader("location",v,u)},null,8,["options","modelValue","onUpdate:modelValue"])]),r("td",zt,[a.getHeaderValue("header",u,!0)!=="custom"?(c(),S(g,{key:0,size:"medium",filterable:!0,options:a.headerOptions,"group-label":"groupLabel","group-values":"options",modelValue:a.getHeaderValue("header",u),"onUpdate:modelValue":v=>a.updateHeader("header",v,u),placeholder:s.strings.headerPlaceholder},null,8,["options","modelValue","onUpdate:modelValue","placeholder"])):m("",!0),a.getHeaderValue("header",u,!0)==="custom"?(c(),S(f,{key:1,size:"medium",modelValue:a.getHeaderValue("customHeader",u),"onUpdate:modelValue":v=>a.updateHeader("customHeader",v,u),"append-icon":"circle-close",onAppendIconClick:v=>a.updateHeader("header","",u)},null,8,["modelValue","onUpdate:modelValue","onAppendIconClick"])):m("",!0)]),r("td",{class:x(["value",{custom:a.isHeaderValueCustom(u)}])},[a.getHeaderOptions(u).length?m("",!0):(c(),S(f,{key:0,size:"medium",modelValue:a.getHeaderValue("value",u),"onUpdate:modelValue":v=>a.updateHeader("value",v,u)},null,8,["modelValue","onUpdate:modelValue"])),a.getHeaderOptions(u).length?(c(),S(g,{key:1,size:"medium",filterable:!0,options:a.getHeaderOptions(u),modelValue:a.getHeaderValue("value",u),"onUpdate:modelValue":v=>a.updateHeader("value",v,u),multiple:a.getHeaderMultiple(u)},null,8,["options","modelValue","onUpdate:modelValue","multiple"])):m("",!0),a.isHeaderValueCustom(u)?(c(),S(f,{key:2,size:"medium",modelValue:a.getHeaderValue("customValue",u),"onUpdate:modelValue":v=>a.updateHeader("customValue",v,u)},null,8,["modelValue","onUpdate:modelValue"])):m("",!0)],2),r("td",Jt,[i(C,{type:"action"},{tooltip:n(()=>[h(l(s.strings.delete),1)]),default:n(()=>[i(y,{onClick:v=>a.removeRow(u)},null,8,["onClick"])]),_:2},1024)])],2))),128))]),r("tfoot",null,[r("tr",null,[r("td",Wt,[i(P,{size:"small-table",type:"black",onClick:t[0]||(t[0]=b=>a.addRow(null))},{default:n(()=>[i(R),h(" "+l(s.strings.addHeader),1)]),_:1}),i(P,{size:"small-table",type:"black",onClick:a.addSecurityPresets},{default:n(()=>[i(R),h(" "+l(s.strings.addSecurityPresets),1)]),_:1},8,["onClick"]),i(P,{size:"small-table",type:"black",onClick:a.addCorsPresets},{default:n(()=>[i(R),h(" "+l(s.strings.addCorsPresets),1)]),_:1},8,["onClick"])])])])])]),_:1})}const qt=T(Et,[["render",jt],["__scopeId","data-v-e047ca8a"]]),Yt={components:{RelocateSite:it,SiteAliases:vt,CanonicalSettings:Ut,HttpHeaders:qt,ServerConfigReloadWarning:J}},Gt={class:"aioseo-full-site-redirects"};function Zt(e,t,p,o,s,a){const g=d("server-config-reload-warning"),f=d("relocate-site"),y=d("site-aliases"),C=d("canonical-settings"),R=d("http-headers");return c(),_("div",Gt,[i(g),i(f),i(y),i(C),i(R)])}const Kt=T(Yt,[["render",Zt]]),Xt={setup(){return{licenseStore:pe(),redirectsStore:D()}},components:{BaseCheckbox:Ee,CoreCard:E,GridColumn:oe,GridRow:re,SvgUpload:Ie},data(){return{exportingRedirectLogs:!1,exporting404Logs:!1,exportOptions:{},postOptions:{},loading:!1,exportType:{label:this.$t.__("Complete Data (JSON)",this.$tdPro),value:"json"},exportTypes:[{label:this.$t.__("Complete Data (JSON)",this.$tdPro),value:"json"},{label:this.$t.__("Apache Redirects (.htaccess)",this.$tdPro),value:"htaccess"},{label:this.$t.__("Nginx Redirects (.nginx)",this.$tdPro),value:"nginx"}],strings:{exportRedirects:this.$t.__("Export Redirects",this.$tdPro),exportDescription:this.$t.__("Export to JSON, .htaccess or .nginx. The JSON format contains full information (and can be re-imported), while the other formats only contain partial information relevant to that format.",this.$tdPro),allRedirects:this.$t.__("Export All Redirects",this.$tdPro),logs:this.$t.__("Logs",this.$tdPro),exportRedirectLogs:this.$t.__("Export Redirect Logs",this.$tdPro),export404Logs:this.$t.__("Export 404 Logs",this.$tdPro)}}},computed:{settings(){const e=[{value:"webmasterTools",label:this.$t.__("Webmaster Tools",this.$tdPro)},{value:"rssContent",label:this.$t.__("RSS Content",this.$tdPro)},{value:"advanced",label:this.$t.__("Advanced",this.$tdPro)},{value:"searchAppearance",label:this.$t.__("Search Appearance",this.$tdPro)},{value:"social",label:this.$t.__("Social Networks",this.$tdPro)},{value:"sitemap",label:this.$t.__("Sitemaps",this.$tdPro)},{value:"tools",label:this.$t.__("Tools",this.$tdPro)}];return this.$isPro&&e.push({value:"accessControl",label:this.$t.__("Access Control",this.$tdPro)}),!this.licenseStore.isUnlicensed&&this.showImageSeoReset&&e.push({value:"image",label:this.$t.__("Image SEO",this.$tdPro)}),!this.licenseStore.isUnlicensed&&this.showLocalBusinessReset&&e.push({value:"localBusiness",label:this.$t.__("Local Business SEO",this.$tdPro)}),!this.licenseStore.isUnlicensed&&this.showLinkAssistantReset&&e.push({value:"linkAssistant",label:this.$t.__("Link Assistant",this.$tdPro)}),e},canExport(){const e=[];return Object.keys(this.exportOptions).forEach(t=>{e.push(this.exportOptions[t])}),Object.keys(this.postOptions).forEach(t=>{e.push(this.postOptions[t])}),e.some(t=>t)}},methods:{processExportRedirects(){const e=[];this.exportOptions.all?this.$constants.REDIRECT_GROUPS.filter(p=>p.value!=="all").forEach(p=>{e.push(p.value)}):Object.keys(this.exportOptions).forEach(p=>{this.exportOptions[p]&&e.push(p)});const t=this.exportType.value;this.loading=!0,this.redirectsStore.exportRedirects({groups:e,type:t}).then(p=>{let o=new Blob([p.body.redirects]);t==="json"&&(o=new Blob([JSON.stringify(p.body.redirects)],{type:"application/json"})),this.loading=!1,this.exportOptions={},this.postOptions={};const s=document.createElement("a");s.href=URL.createObjectURL(o),s.download=`aioseo-export-redirects-${K.now().toFormat("yyyy-MM-dd")}.${t}`,s.click(),URL.revokeObjectURL(s.href)})},processExportLogs(e){this["exporting"+e.charAt(0).toUpperCase()+e.slice(1)+"Logs"]=!0,this.redirectsStore.exportLogs(e).then(t=>{this["exporting"+e.charAt(0).toUpperCase()+e.slice(1)+"Logs"]=!1;const p=new Blob([t.body.redirects]),o=document.createElement("a");o.href=URL.createObjectURL(p),o.download=`aioseo-export-redirects-log-${e}-${K.now().toFormat("yyyy-MM-dd")}.log`,o.click(),URL.revokeObjectURL(o.href)})}}},Qt={class:"export-redirects aioseo-settings-row"},es={class:"export-description"},ts={class:"export-logs-wrapper"},ss={class:"export-logs"};function os(e,t,p,o,s,a){const g=d("svg-upload"),f=d("base-checkbox"),y=d("grid-column"),C=d("grid-row"),R=d("base-select"),P=d("base-button"),$=d("core-card");return c(),S($,{class:"aioseo-export-redirects",slug:"exportRedirects",toggles:!1,"no-slide":"","header-text":s.strings.exportRedirects},{"header-icon":n(()=>[i(g)]),default:n(()=>[r("div",Qt,[r("div",es,l(s.strings.exportDescription),1),i(C,null,{default:n(()=>[i(y,{class:"export-logs"},{default:n(()=>[i(f,{size:"medium",modelValue:s.exportOptions.all,"onUpdate:modelValue":t[0]||(t[0]=b=>s.exportOptions.all=b)},{default:n(()=>[h(l(s.strings.allRedirects),1)]),_:1},8,["modelValue"])]),_:1}),(c(!0),_(A,null,O(e.$constants.REDIRECT_GROUPS,(b,u)=>(c(),S(y,{key:u,sm:"12"},{default:n(()=>[s.exportOptions.all?m("",!0):(c(),S(f,{key:0,size:"medium",modelValue:s.exportOptions[b.value],"onUpdate:modelValue":v=>s.exportOptions[b.value]=v},{default:n(()=>[h(l(b.label),1)]),_:2},1032,["modelValue","onUpdate:modelValue"])),b.value!=="all"&&s.exportOptions.all?(c(),S(f,{key:1,size:"medium",modelValue:!0,disabled:""},{default:n(()=>[h(l(b.label),1)]),_:2},1024)):m("",!0)]),_:2},1024))),128))]),_:1}),i(R,{size:"medium",options:s.exportTypes,modelValue:s.exportType,"onUpdate:modelValue":t[1]||(t[1]=b=>s.exportType=b)},null,8,["options","modelValue"]),i(P,{type:"blue",size:"medium",class:"import",onClick:a.processExportRedirects,disabled:!a.canExport,loading:s.loading},{default:n(()=>[h(l(s.strings.exportRedirects),1)]),_:1},8,["onClick","disabled","loading"])]),r("div",ts,[r("div",ss,l(s.strings.logs),1),o.redirectsStore.options.logs.redirects.enabled&&o.redirectsStore.options.main.method!=="server"?(c(),S(P,{key:0,type:"gray",size:"medium",loading:s.exportingRedirectLogs,onClick:t[2]||(t[2]=b=>a.processExportLogs("redirect"))},{default:n(()=>[h(l(s.strings.exportRedirectLogs),1)]),_:1},8,["loading"])):m("",!0),o.redirectsStore.options.logs.log404.enabled?(c(),S(P,{key:1,type:"gray",size:"medium",loading:s.exporting404Logs,onClick:t[3]||(t[3]=b=>a.processExportLogs("404"))},{default:n(()=>[h(l(s.strings.export404Logs),1)]),_:1},8,["loading"])):m("",!0)])]),_:1},8,["header-text"])}const rs=T(Xt,[["render",os]]),is=""+window.__aioseoDynamicImportPreload__("images/import-from-csv.o-kLT6_x.png"),Z={redirection:{url:{type:Object,default(){return{url:null,regex:null,ignoreSlash:null,ignoreCase:null}}},targetUrl:null,type:null}},ns={setup(){return{redirectsStore:D(),rootStore:B()}},mixins:[we],components:{CoreAlert:z,CoreCard:E,CoreModal:Q,CoreWpTable:ee,SvgDownload:ie,SvgCircleClose:De,SvgCircleExclamation:Me,SvgCircleCheck:Ue},data(){return{csvFileImage:is,redirection:Y(Z.redirection),inputFile:null,filename:null,file:null,uploadError:!1,uploadSuccess:!1,loading:!1,errors:[],showErrorModal:!1,importedRows:0,strings:{importNotSure:this.$t.__("Importing a CSV? To ensure you have the right columns, ",this.$tdPro),imgAltText:this.$t.__("CSV example file",this.$tdPro),clickHere:this.$t.__("click here",this.$tdPro),importDescription:this.$t.sprintf(this.$t.__("You can import redirects using a CSV file. The following 6 columns are required: %1$sSource URL, Target URL, Redirect Type, Ignore Slash, Ignore Case, Regex.%2$s",this.$tdPro),"<strong>","</strong>"),typeAdvise:this.$t.sprintf(this.$t.__("* Use Redirect Type = 0 for %1$sPass Through%2$s",this.$tdPro),"<strong>","</strong>"),importRestoreAioseoRedirects:this.$t.__("Import Redirects from a JSON or CSV File",this.$tdPro),fileUploadPlaceholder:this.$t.__("Import from a JSON or CSV file...",this.$tdPro),chooseAFile:this.$t.__("Choose a File",this.$tdPro),fileUploadDescription:this.$t.__("Imported redirects will overwrite existing redirects and will not be merged.",this.$tdPro),import:this.$t.__("Import",this.$tdPro),jsonFileTypeRequired:this.$t.__("A JSON or CSV file is required to import redirects.",this.$tdPro),fileUploadedSuccessfully:this.$t.__("Success! Your redirects have been imported.",this.$tdPro),fileUploadFailed:this.$t.__("There was an error importing your redirects. Please make sure you are uploading the correct file or it is in the proper format.",this.$tdPro),downloadSampleFile:this.$t.__("Download Sample CSV File",this.$tdPro),csvFileTypeRequired:this.$t.__("The file that you've selected is not a CSV file.",this.$tdPro),invalidCSV:this.$t.__("Unable to read CSV file. Please check if the file is valid and try again.",this.$tdPro),importFailed:this.$t.__("There was an error importing your redirects. Please make sure you are uploading the correct file or it is in the proper format.",this.$tdPro),rowsErrors:this.$t.__("Some redirects couldn't be imported. Click here to see.",this.$tdPro),errorRedirectType:this.$t.__("Invalid Redirect Type.",this.$tdPro),errorEmptyField:this.$t.__("Source and Target URL can't be empty.",this.$tdPro),errorInvalidURL:this.$t.__("Invalid URL.",this.$tdPro),messageError:this.$t.__("Redirect Import Errors",this.$tdPro),listErrorsBelow:this.$t.__("The following redirects couldn’t be imported:",this.$tdPro)},showDownloadSample:!1,sampleCSVData:`Source URL,Target URL,Redirect Type,Ignore Slash,Ignore Case,Regex\r
/sample_model/,/,301,yes,yes,no`}},computed:{importValidated(){return!!(this.file.type==="text/csv"||this.file.type==="application/json"||this.file.name.endsWith(".ini"))},redirectTypes(){return this.$constants.REDIRECT_TYPES.map(e=>e.value)},columns(){return[{slug:"sourceUrl",label:this.$t.__("URL",this.$tdPro)},{slug:"targetUrl",label:this.$t.__("Target",this.$tdPro)},{slug:"messages",label:this.$t.__("Error",this.$tdPro)}]},successErrorMessageImported(){return 0<this.importedRows?this.$t.sprintf(this.$t.__("Successfully imported %1$s %2$s %3$sredirects.",this.$tdPro),"<strong>",this.importedRows,"</strong>"):null},successErrorMessageFailed(){return this.$t.sprintf(this.$t.__("%1$s%2$s%3$s Redirects could not be imported. %4$sClick here%5$s for more info.",this.$tdPro),"<strong>",this.errors.length,"</strong>","<a>","</a>")}},methods:{getAssetUrl:be,reset(){this.uploadSuccess=!1,this.uploadError=!1,this.loading=!1,this.filename=null,this.file=null,this.inputFile=null},triggerFileUpload(){this.reset(),this.$refs.file.$el.querySelector("input").focus(),this.$refs.file.$el.querySelector("input").click()},parseFile(){const e=new FileReader;return e.readAsText(this.file),new Promise((t,p)=>{e.onerror=()=>{e.abort(),p(new DOMException)},e.onload=()=>{const s=e.result.split(/\r?\n/).map(a=>a.split(",")).filter((a,g)=>g!==0&&/\S/.test(a.join("")));t(s)}})},submitFile(){this.file.type==="application/json"&&this.importJSON(),this.file.type==="text/csv"&&this.importCSV()},handleFileUpload(){this.reset(),this.file=this.$refs.file.$el.querySelector("input").files[0],this.file&&(this.filename=this.file.name,this.file.type!=="application/json"&&this.file.type!=="text/csv"&&(this.uploadError=this.strings.jsonFileTypeRequired))},async importJSON(){this.loading=!0,await this.redirectsStore.uploadFile({file:this.file,filename:this.filename}).then(()=>{this.reset(),this.uploadSuccess=!0,this.loading=!1}).catch(()=>{this.reset(),this.loading=!1,this.uploadError=this.strings.fileUploadFailed}),G(()=>{this.uploadSuccess=!1},1e4)},async importCSV(){this.errors=[],this.loading=!0;try{const e=await this.parseFile(),t=[];e.forEach(p=>{const o=this.prepareRedirection(p);o&&t.push(o)}),this.redirectsStore.importCsvRedirects(t).then(p=>{this.reset(),this.redirectsStore.setLateRefresh({value:!0,type:"redirects"}),p.body.success?(this.uploadSuccess=!0,this.importedRows=p.body.importedRows,this.errors.length===0&&G(()=>{this.uploadSuccess=!1},1e4)):this.uploadError=this.strings.importFailed}).catch(()=>{this.reset(),this.loading=!1,this.uploadError=this.strings.importFailed})}catch{this.uploadError=this.strings.invalidCSV}G(()=>{this.uploadError=!1},1e4),this.reset(),this.redirects=Y(Z.redirection)},allowSourceEmpty(e){return 400<=parseInt(e)&&600>parseInt(e)},beginsWith(e,t){return t.indexOf(e)===0||e.substr(0,t.length)===t},setURL(e,t){if(t)return e;const p=ye(Oe(e),this.rootStore.aioseo.urls.home);return/['"]/g.test(p)?null:p},prepareRedirection(e){try{const t=Y(Z.redirection);if(this.isEmptySourceOrTarget(e))return this.errors.push(this.createError(e,this.strings.errorEmptyField)),!1;if(!this.isValidRedirectType(e))return this.errors.push(this.createError(e,this.strings.errorRedirectType)),!1;if(t.url.ignoreSlash=e[3].toLowerCase()==="yes",t.url.ignoreCase=e[4].toLowerCase()==="yes",t.url.regex=e[5].toLowerCase()==="yes",t.url.url=this.setURL(e[0],t.url.regex),t.targetUrl=this.setURL(e[1],t.url.regex),t.type=parseInt(e[2]),t.url.url===null||t.targetUrl===null||!t.url.regex&&!this.isValidUrl(t.url.url)||e[1]!==""&&!this.isValidUrl(t.targetUrl))return this.errors.push(this.createError(e,this.strings.errorInvalidURL)),!1;const p=this.validateRedirect(t);return 0<p.length?(this.errors.push(this.createError(e,p)),!1):t}catch{return!1}},isEmptySourceOrTarget(e){return e[0]===""||e[1]===""&&!this.allowSourceEmpty(e[2])},isValidRedirectType(e){return this.redirectTypes.includes(parseInt(e[2]))},isValidUrl(e){return this.beginsWith(e,"/")||this.beginsWith(e,"http://")||this.beginsWith(e,"https://")},createError(e,t){return{sourceUrl:e[0],targetUrl:e[1],messages:Array.isArray(t)?t:[t]}}}},ls={class:"aioseo-modal-body import-redirects"},as={key:0},ds={key:1},cs=["innerHTML"],us=["innerHTML"],hs=["href"],ps=["src","alt"],gs={class:"file-upload"},ms={class:"icon"},_s={class:"icon"},fs={class:"icon"},Ss=["innerHTML"],vs=["innerHTML"],bs={class:"aioseo-description"},ws={class:"aioseo-modal-body"},ys={class:"error-description"},Ps=["name"];function $s(e,t,p,o,s,a){const g=d("svg-download"),f=d("core-alert"),y=d("base-input"),C=d("base-button"),R=d("svg-circle-close"),P=d("svg-circle-check"),$=d("svg-circle-exclamation"),b=d("core-card"),u=d("core-wp-table"),v=d("core-modal");return c(),_("div",null,[i(b,{class:"aioseo-redirects-import-aioseo",slug:"importAioseoRedirects",toggles:!1,"no-slide":"","header-text":s.strings.importRestoreAioseoRedirects},{"header-icon":n(()=>[i(g)]),default:n(()=>[r("div",ls,[s.showDownloadSample?m("",!0):(c(),_("div",as,[h(l(s.strings.importNotSure)+" ",1),r("a",{onClick:t[0]||(t[0]=M(V=>s.showDownloadSample=!0,["stop"]))},l(s.strings.clickHere),1)])),s.showDownloadSample?(c(),_("div",ds,[i(f,{type:"yellow"},{default:n(()=>[r("p",{innerHTML:s.strings.importDescription},null,8,cs),r("p",{innerHTML:s.strings.typeAdvise},null,8,us),r("a",{download:"aioseo-redirects-sample.csv",href:"data:text/csv;charset=utf-8,"+s.sampleCSVData,onClick:t[1]||(t[1]=M(V=>s.showDownloadSample=!1,["stop"]))},l(s.strings.downloadSampleFile),9,hs)]),_:1}),r("img",{src:a.getAssetUrl(s.csvFileImage),alt:s.strings.imgAltText},null,8,ps)])):m("",!0),r("div",gs,[i(y,{modelValue:s.filename,"onUpdate:modelValue":t[2]||(t[2]=V=>s.filename=V),size:"medium",onFocus:a.triggerFileUpload,placeholder:s.strings.fileUploadPlaceholder,class:x({"aioseo-error":s.uploadError})},null,8,["modelValue","onFocus","placeholder","class"]),i(C,{type:"black",size:"medium",onClick:a.triggerFileUpload},{default:n(()=>[h(l(s.strings.chooseAFile),1)]),_:1},8,["onClick"])]),s.uploadError?(c(),S(f,{key:2,type:"red",class:"import-error",onClick:t[3]||(t[3]=M(V=>s.uploadError=!1,["stop"]))},{default:n(()=>[r("div",ms,[i(R)]),h(" "+l(s.uploadError),1)]),_:1})):m("",!0),s.uploadSuccess&&s.errors.length===0?(c(),S(f,{key:3,type:"green",class:"import-error",onClick:t[4]||(t[4]=M(V=>s.uploadSuccess=!1,["stop"]))},{default:n(()=>[r("div",_s,[i(P)]),h(" "+l(s.strings.fileUploadedSuccessfully),1)]),_:1})):m("",!0),s.uploadSuccess&&s.errors.length!==0?(c(),S(f,{key:4,type:"yellow",class:"import-success-error"},{default:n(()=>[r("div",fs,[i($)]),r("div",null,[r("div",{innerHTML:a.successErrorMessageImported},null,8,Ss),r("div",{onClick:t[5]||(t[5]=V=>s.showErrorModal=!0),innerHTML:a.successErrorMessageFailed},null,8,vs)])]),_:1})):m("",!0),i(y,{modelValue:s.inputFile,"onUpdate:modelValue":t[6]||(t[6]=V=>s.inputFile=V),type:"file",onClick:a.reset,onChange:a.handleFileUpload,ref:"file"},null,8,["modelValue","onClick","onChange"]),r("div",bs,l(s.strings.fileUploadDescription),1),i(C,{type:"blue",size:"medium",class:"import",onClick:a.submitFile,disabled:!s.file||!a.importValidated,loading:s.loading},{default:n(()=>[h(l(s.strings.import),1)]),_:1},8,["onClick","disabled","loading"])])]),_:1},8,["header-text"]),i(v,{show:s.showErrorModal,onClose:t[7]||(t[7]=V=>s.showErrorModal=!1),classes:["error-modal"]},{headerTitle:n(()=>[i($),h(" "+l(s.strings.messageError),1)]),body:n(()=>[r("div",ws,[r("div",ys,l(s.strings.listErrorsBelow),1),i(u,{id:"tableId",columns:a.columns,key:"1",rows:s.errors,totals:s.errors.length,showSearch:!1,showBulkActions:!1,showPagination:!1,showTableFooter:!1,showHeader:!1},{messages:n(({row:V})=>[r("ul",null,[(c(!0),_(A,null,O(V.messages,(I,k)=>(c(),_("li",{name:I,key:k},l(I),9,Ps))),128))])]),_:1},8,["columns","rows","totals"])])]),_:1},8,["show"])])}const Rs=T(ns,[["render",$s]]),Cs={setup(){return{redirectsStore:D()}},components:{CoreAlert:z,CoreCard:E,SvgDownload:ie},data(){return{importSuccess:!1,importError:!1,options:{},plugin:null,loading:!1,strings:{importRedirectsFromOtherPlugins:this.$t.__("Import Redirects from Other Plugins",this.$tdPro),importOthersDescription:this.$t.sprintf(this.$t.__("Choose a plugin to import redirects directly into %1$s.",this.$tdPro),"AIOSEO"),selectPlugin:this.$t.__("Select a plugin...",this.$tdPro),import:this.$t.__("Import",this.$tdPro),allRedirects:this.$t.__("All Redirects",this.$tdPro),notInstalled:this.$t.__("not installed",this.$tdPro)}}},watch:{plugin(){this.importSuccess=!1,this.importError=!1,this.options={}}},computed:{plugins(){const e=[];return this.redirectsStore.importers.forEach(t=>{e.push({value:t.slug,label:t.name,canImport:t.canImport,version:t.version,$isDisabled:!t.installed})}),e},importSuccessful(){return this.$t.sprintf(this.$t.__("%1$s was successfully imported!",this.$tdPro),this.plugin.label)},importErrorMessage(){return this.$t.sprintf(this.$t.__("An error occurred while importing %1$s. Please try again.",this.$tdPro),this.plugin.label)}},methods:{processImportPlugin(){this.importSuccess=!1,this.importError=!1,this.loading=!0;const e=[];this.options.all?this.settings.filter(t=>t.value!=="all").forEach(t=>{e.push(t.value)}):Object.keys(this.options).forEach(t=>{this.options[t]&&e.push(t)}),this.redirectsStore.importPlugins([{plugin:this.plugin.value,settings:e}]).then(()=>{this.loading=!1,this.importSuccess=!0,this.options={}}).catch(()=>{this.loading=!1,this.importError=!0,this.options={}})},invalidVersion(e){return this.$t.sprintf(this.$t.__("We do not support importing from the currently installed version of %1$s (%2$s). Please upgrade to the latest version and try again.",this.$tdPro),e.label,e.version)}}},Vs={class:"aioseo-section-description"},ks={class:"import-plugin-label"},Ts={class:"plugin-label"},Ls={key:0,class:"plugin-status"};function Hs(e,t,p,o,s,a){const g=d("svg-download"),f=d("core-alert"),y=d("base-select"),C=d("base-button"),R=d("core-card");return c(),S(R,{id:"aioseo-redirects-import-others",class:"aioseo-redirects-import-others",slug:"importOtherPluginsRedirects",toggles:!1,"no-slide":"","header-text":s.strings.importRedirectsFromOtherPlugins},{"header-icon":n(()=>[i(g)]),default:n(()=>[r("div",Vs,l(s.strings.importOthersDescription),1),s.importSuccess?(c(),S(f,{key:0,class:"import-success",type:"green"},{default:n(()=>[h(l(a.importSuccessful),1)]),_:1})):m("",!0),s.importError?(c(),S(f,{key:1,class:"import-error",type:"red"},{default:n(()=>[h(l(a.importErrorMessage),1)]),_:1})):m("",!0),i(y,{size:"medium",modelValue:s.plugin,"onUpdate:modelValue":t[0]||(t[0]=P=>s.plugin=P),options:a.plugins,placeholder:s.strings.selectPlugin},{option:n(({option:P})=>[r("div",ks,[r("span",Ts,l(P.label),1),P.$isDisabled?(c(),_("span",Ls,l(s.strings.notInstalled),1)):m("",!0)])]),_:1},8,["modelValue","options","placeholder"]),i(C,{type:"blue",size:"medium",class:"import",onClick:a.processImportPlugin,disabled:!s.plugin,loading:s.loading},{default:n(()=>[h(l(s.strings.import),1)]),_:1},8,["onClick","disabled","loading"])]),_:1},8,["header-text"])}const Ds=T(Cs,[["render",Hs]]),Us={components:{ExportRedirects:rs,GridColumn:oe,GridRow:re,ImportAioseo:Rs,ImportOthers:Ds,ServerConfigReloadWarning:J}},As={class:"aioseo-redirects-import-export"};function Es(e,t,p,o,s,a){const g=d("server-config-reload-warning"),f=d("import-aioseo"),y=d("import-others"),C=d("grid-column"),R=d("export-redirects"),P=d("grid-row");return c(),_("div",As,[i(g),i(P,null,{default:n(()=>[i(C,{md:"6"},{default:n(()=>[i(f),i(y)]),_:1}),i(C,{md:"6"},{default:n(()=>[i(R)]),_:1})]),_:1})])}const Is=T(Us,[["render",Es]]),H="aioseo-pro",ce=()=>({strings:{lastIp:L("Last IP",H),headers:L("Headers",H),at:L("at",H),additionalInfo:L("Additional Info",H),delete:L("Delete",H),areYouSureDeleteLog:L("Are you sure you want to delete this record?",H),actionCannotBeUndone:L("This action cannot be undone.",H),yesDeleteLog:L("Yes, I want to delete this record",H),noChangedMind:L("No, I changed my mind",H),url:L("URL",H),hits:L("Hits",H),lastAccessed:L("Last Accessed",H),referrers:L("Referrers",H)}}),ue={mixins:[ne,xe],data(){return{orderBy:"last_accessed",activeRow:null,logUrls:[],deletingLog:!1,showDeleteModal:!1,shouldDeleteLog:null}},methods:{showInfo(e){this.activeRow=e},getHeaderInfo(e){const t=JSON.parse(e.request_data);return t.headers?t.headers:null},processDeleteLog(){const e=D();if(this.deletingLog=!0,Array.isArray(this.shouldDeleteLog))return e.deleteLog({slug:this.slug,urls:this.shouldDeleteLog}).then(()=>{this.deletingLog=!1,this.showDeleteModal=!1,this.shouldDeleteLog=null,this.refreshTable()});e.deleteLog({slug:this.slug,urls:[this.shouldDeleteLog]}).then(()=>{this.deletingLog=!1,this.showDeleteModal=!1,this.shouldDeleteLog=null,this.refreshTable()})},processBulkAction({action:e,selectedRows:t}){if(t.length){if(e==="delete"){this.shouldDeleteLog=t,this.showDeleteModal=!0;return}this.logUrls=t}},processChangeItemsPerPage(e){this.pageNumber=1,this.wpTableLoading=!0,W().changeItemsPerPage({slug:this.slug==="logs"?"redirectLogs":"redirect404Logs",value:e}).then(()=>this.processFetchLogs(e)).then(()=>this.wpTableLoading=!1)},processFetchLogs(e){const t=W(),p=this.slug==="logs"?t.settings.tablePagination.redirectLogs:t.settings.tablePagination.redirect404Logs;return e=e||p,this.fetchLogs({slug:this.slug,orderBy:this.orderBy,orderDir:this.orderDir,limit:e||p,offset:this.pageNumber===1?0:(this.pageNumber-1)*e,searchTerm:this.searchTerm,filter:this.filter})},sqlDateToLogFormat(e,t){return t?this.dateSqlToLocalRelative(e):this.dateSqlToLocal(e,"MMMM d, yyyy")+" "+this.strings.at+" "+this.dateSqlToLocal(e,"h:mm a")}}},Os={setup(){const e=D(),{strings:t}=ce();return{redirectsStore:e,settingsStore:W(),fetchData:e.fetchLogs,strings:t}},components:{CoreModal:Q,CoreTooltip:N,CoreWpTable:ee,ServerConfigReloadWarning:J,SvgClose:se,SvgCircleInformation:ae,SvgTrash:q},mixins:[ue,le],data(){return{tableId:"aioseo-redirects-logs-wp-table",slug:"logs",changeItemsPerPageSlug:"redirectLogs",bulkOptions:[{label:this.$t.__("Delete",this.$tdPro),value:"delete"}]}},watch:{"redirectsStore.logs":{deep:!0,handler(){this.wpTableKey+=1}}},computed:{columns(){return[{slug:"url",label:this.strings.url,sortable:!0,sortDir:this.orderBy==="url"?this.orderDir:"asc",sorted:this.orderBy==="url"},{slug:"hits",label:this.strings.hits,width:"97px",sortable:!0,sortDir:this.orderBy==="hits"?this.orderDir:"asc",sorted:this.orderBy==="hits"},{slug:"last_accessed",label:this.strings.lastAccessed,width:"210px",sortable:!0,sortDir:this.orderBy==="last_accessed"?this.orderDir:"asc",sorted:this.orderBy==="last_accessed"},{slug:"actions",label:"",width:"65px"}]}},methods:{maybeDeleteLog(e){const t=this.redirectsStore.logs.find((p,o)=>o===e);t&&(this.showDeleteModal=!0,this.shouldDeleteLog=t.url)}},mounted(){this.redirectsStore.lateRefresh.logs&&(this.refreshTable(),this.redirectsStore.setLateRefresh({value:!1,type:"logs"}))}},Ms={class:"aioseo-redirects-logs"},xs={class:"actions-wrapper"},Fs={class:"aioseo-modal-body"},Bs=["innerHTML"],Ns={class:"aioseo-modal-body info"},zs={key:0},Js={key:1},Ws={"aria-label":"Logs",class:"header-table"},js={key:2},qs={"aria-label":"Logs",class:"header-table"};function Ys(e,t,p,o,s,a){const g=d("server-config-reload-warning"),f=d("svg-circle-information"),y=d("core-tooltip"),C=d("svg-trash"),R=d("core-wp-table"),P=d("svg-close"),$=d("base-button"),b=d("core-modal");return c(),_("div",Ms,[i(g),(c(),S(R,{id:s.tableId,"bulk-options":s.bulkOptions,columns:a.columns,filters:[],"initial-items-per-page":o.settingsStore.settings.tablePagination.redirectLogs,"initial-page-number":e.pageNumber,"initial-search-term":e.searchTerm,key:e.wpTableKey,loading:e.wpTableLoading,rows:o.redirectsStore.logs,"show-search":!0,totals:o.redirectsStore.totals.logs,"show-items-per-page":"",onPaginate:e.processPagination,onProcessBulkAction:e.processBulkAction,onProcessChangeItemsPerPage:e.processChangeItemsPerPage,onSearch:e.processSearch,onSortColumn:e.processSort},{last_accessed:n(({column:u})=>[h(l(e.sqlDateToLogFormat(u,!0)),1)]),actions:n(({index:u,row:v})=>[r("div",xs,[i(y,{type:"action"},{tooltip:n(()=>[h(l(o.strings.additionalInfo),1)]),default:n(()=>[i(f,{class:"log-info",onClick:V=>e.showInfo(v)},null,8,["onClick"])]),_:2},1024),i(y,{type:"action"},{tooltip:n(()=>[h(l(o.strings.delete),1)]),default:n(()=>[i(C,{class:"remove-log",onClick:V=>a.maybeDeleteLog(u)},null,8,["onClick"])]),_:2},1024)])]),_:1},8,["id","bulk-options","columns","initial-items-per-page","initial-page-number","initial-search-term","loading","rows","totals","onPaginate","onProcessBulkAction","onProcessChangeItemsPerPage","onSearch","onSortColumn"])),i(b,{show:e.showDeleteModal,"no-header":"",onClose:e.showDeleteModal,classes:["aioseo-redirects-logs-modal"]},{body:n(()=>[r("div",Fs,[r("button",{class:"close",onClick:t[1]||(t[1]=M(u=>e.showDeleteModal=!1,["stop"]))},[i(P,{onClick:t[0]||(t[0]=u=>e.showDeleteModal=!1)})]),r("h3",null,l(o.strings.areYouSureDeleteLog),1),r("div",{class:"reset-description",innerHTML:o.strings.actionCannotBeUndone},null,8,Bs),i($,{type:"blue",size:"medium",onClick:e.processDeleteLog,loading:e.deletingLog},{default:n(()=>[h(l(o.strings.yesDeleteLog),1)]),_:1},8,["onClick","loading"]),i($,{type:"gray",size:"medium",onClick:t[2]||(t[2]=u=>e.showDeleteModal=!1)},{default:n(()=>[h(l(o.strings.noChangedMind),1)]),_:1})])]),_:1},8,["show","onClose"]),i(b,{show:e.activeRow,onClose:t[3]||(t[3]=u=>e.activeRow=null),classes:["aioseo-redirects-logs-modal"]},{headerTitle:n(()=>[h(l(o.strings.additionalInfo),1)]),body:n(()=>[r("div",Ns,[r("div",null,[r("strong",null,l(o.strings.url)+":",1),h(" "+l(e.activeRow.url),1)]),r("div",null,[r("strong",null,l(o.strings.hits)+":",1),h(" "+l(e.activeRow.hits),1)]),r("div",null,[r("strong",null,l(o.strings.lastAccessed)+":",1),h(" "+l(e.sqlDateToLogFormat(e.activeRow.last_accessed)),1)]),e.activeRow.ip?(c(),_("div",zs,[r("strong",null,l(o.strings.lastIp)+":",1),h(),r("code",null,l(e.activeRow.ip),1)])):m("",!0),e.activeRow.referrers.length?(c(),_("div",Js,[r("strong",null,l(o.strings.referrers)+":",1),r("table",Ws,[(c(!0),_(A,null,O(e.activeRow.referrers,(u,v)=>(c(),_("tr",{key:v},[r("td",null,l(u),1)]))),128))])])):m("",!0),e.getHeaderInfo(e.activeRow)?(c(),_("div",js,[r("strong",null,l(o.strings.headers)+":",1),r("table",qs,[(c(!0),_(A,null,O(e.getHeaderInfo(e.activeRow),(u,v)=>(c(),_("tr",{key:v},[r("td",null,[r("strong",null,l(v)+":",1)]),r("td",null,l(u),1)]))),128))])])):m("",!0)])]),_:1},8,["show"])])}const Gs=T(Os,[["render",Ys]]),Zs={setup(){const e=D(),{strings:t}=ce();return{redirectsStore:e,settingsStore:W(),fetchData:e.fetchLogs,composableStrings:t}},components:{CoreAddRedirection:Pe,CoreCard:E,CoreModal:Q,CoreTooltip:N,CoreWpTable:ee,ServerConfigReloadWarning:J,SvgClose:se,SvgCircleInformation:ae,SvgRedirect:Fe,SvgTrash:q,TransitionSlide:Be},mixins:[ue,le],data(){return{tableId:"aioseo-redirects-404-logs-wp-table",changeItemsPerPageSlug:"redirect404Logs",slug:"404",redirect404UrlsKey:1,showBulkAddRedirections:!1,bulkOptions:[{label:this.$t.__("Add Redirects",this.$tdPro),value:"add-redirects"},{label:this.$t.__("Delete",this.$tdPro),value:"delete"}],strings:ge(this.composableStrings,{addRedirect:this.$t.__("Add Redirect",this.$tdPro),addNewRedirections:this.$t.__("Add New Redirections",this.$tdPro)})}},watch:{"redirectsStore.logs404":{deep:!0,handler(){this.wpTableKey+=1}}},computed:{columns(){return[{slug:"url",label:this.strings.url,sortable:!0,sortDir:this.orderBy==="url"?this.orderDir:"asc",sorted:this.orderBy==="url"},{slug:"hits",label:this.strings.hits,width:"97px",sortable:!0,sortDir:this.orderBy==="hits"?this.orderDir:"asc",sorted:this.orderBy==="hits"},{slug:"last_accessed",label:this.strings.lastAccessed,width:"210px",sortable:!0,sortDir:this.orderBy==="last_accessed"?this.orderDir:"asc",sorted:this.orderBy==="last_accessed"},{slug:"redirect",label:this.$t.__("Redirect",this.$tdPro),width:"120px"},{slug:"actions",label:"",width:"65px"}]},get404RedirectUrls(){return this.logUrls.map(e=>({url:e,errors:[],warnings:[]}))}},methods:{addedRedirect(){this.processPagination(this.$refs.table.pageNumber),this.showBulkAddRedirections=!1},maybeDelete404(e){const t=this.redirectsStore.logs404.find((p,o)=>o===e);t&&(this.showDeleteModal=!0,this.shouldDeleteLog=t.url)},beginProcessBulkAction(e){this.processBulkAction(e),e.action==="add-redirects"&&(this.showBulkAddRedirections=!0,this.redirect404UrlsKey+=1)}},mounted(){this.redirectsStore.lateRefresh.logs404&&(this.refreshTable(),this.redirectsStore.setLateRefresh({value:!1,type:"logs404"}))}},Ks={class:"aioseo-redirects-404-logs"},Xs={class:"add-bulk-redirects-wrapper"},Qs=["onClick"],eo={class:"actions-404-wrapper"},to={class:"aioseo-modal-body"},so=["innerHTML"],oo={class:"aioseo-modal-body info"},ro={key:0},io={key:1},no={"aria-label":"Logs",class:"header-table"},lo={key:2},ao={"aria-label":"404 Logs",class:"header-table"};function co(e,t,p,o,s,a){const g=d("server-config-reload-warning"),f=d("core-add-redirection"),y=d("core-card"),C=d("transition-slide"),R=d("svg-redirect"),P=d("svg-circle-information"),$=d("core-tooltip"),b=d("svg-trash"),u=d("core-wp-table"),v=d("svg-close"),V=d("base-button"),I=d("core-modal");return c(),_("div",Ks,[i(g),i(C,{active:s.showBulkAddRedirections},{default:n(()=>[r("div",Xs,[i(y,{slug:"bulkAddNewRedirection","header-text":s.strings.addNewRedirections,toggles:!1,"no-slide":"",closes:"",onCloseCard:t[0]||(t[0]=k=>s.showBulkAddRedirections=!1)},{default:n(()=>[(c(),S(f,{key:s.redirect404UrlsKey,log404:"",onAddedRedirect:a.addedRedirect,urls:a.get404RedirectUrls},null,8,["onAddedRedirect","urls"]))]),_:1},8,["header-text"])])]),_:1},8,["active"]),(c(),S(u,{ref:"table",id:s.tableId,"bulk-options":s.bulkOptions,columns:a.columns,filters:[],"initial-items-per-page":o.settingsStore.settings.tablePagination.redirect404Logs,"initial-page-number":e.pageNumber,"initial-search-term":e.searchTerm,key:e.wpTableKey,loading:e.wpTableLoading,rows:o.redirectsStore.logs404,"show-search":!0,totals:o.redirectsStore.totals.total404,"show-items-per-page":"",onPaginate:e.processPagination,onProcessBulkAction:a.beginProcessBulkAction,onProcessChangeItemsPerPage:e.processChangeItemsPerPage,onSearch:e.processSearch,onSortColumn:e.processSort},{last_accessed:n(({column:k})=>[h(l(e.sqlDateToLogFormat(k,!0)),1)]),redirect:n(({index:k,editRow:U})=>[r("a",{class:"add-redirect",href:"#",onClick:M(F=>U(k),["prevent"])},[i(R),h(l(s.strings.addRedirect),1)],8,Qs)]),actions:n(({index:k,row:U})=>[r("div",eo,[i($,{type:"action"},{tooltip:n(()=>[h(l(s.strings.additionalInfo),1)]),default:n(()=>[i(P,{class:"log-info",onClick:F=>e.showInfo(U)},null,8,["onClick"])]),_:2},1024),i($,{type:"action"},{tooltip:n(()=>[h(l(s.strings.delete),1)]),default:n(()=>[i(b,{class:"remove-404",onClick:F=>a.maybeDelete404(k)},null,8,["onClick"])]),_:2},1024)])]),"edit-row":n(({row:k,editRow:U})=>[i(f,{log404:"",onAddedRedirect:t[1]||(t[1]=F=>e.processPagination(e.$refs.table.pageNumber)),url:{id:k.id,url:k.url,errors:[],warnings:[]},onCancel:F=>U(null)},null,8,["url","onCancel"])]),_:1},8,["id","bulk-options","columns","initial-items-per-page","initial-page-number","initial-search-term","loading","rows","totals","onPaginate","onProcessBulkAction","onProcessChangeItemsPerPage","onSearch","onSortColumn"])),i(I,{show:e.showDeleteModal,"no-header":"",onClose:t[5]||(t[5]=k=>e.showDeleteModal=!1),classes:["aioseo-redirects-logs-modal"]},{body:n(()=>[r("div",to,[r("button",{class:"close",onClick:t[3]||(t[3]=M(k=>e.showDeleteModal=!1,["stop"]))},[i(v,{onClick:t[2]||(t[2]=k=>e.showDeleteModal=!1)})]),r("h3",null,l(s.strings.areYouSureDeleteLog),1),r("div",{class:"reset-description",innerHTML:s.strings.actionCannotBeUndone},null,8,so),i(V,{type:"blue",size:"medium",onClick:e.processDeleteLog,loading:e.deletingLog},{default:n(()=>[h(l(s.strings.yesDeleteLog),1)]),_:1},8,["onClick","loading"]),i(V,{type:"gray",size:"medium",onClick:t[4]||(t[4]=k=>e.showDeleteModal=!1)},{default:n(()=>[h(l(s.strings.noChangedMind),1)]),_:1})])]),_:1},8,["show"]),i(I,{show:e.activeRow,onClose:t[6]||(t[6]=k=>e.activeRow=null),classes:["aioseo-redirects-logs-modal"]},{headerTitle:n(()=>[h(l(s.strings.additionalInfo),1)]),body:n(()=>[r("div",oo,[r("div",null,[r("strong",null,l(s.strings.url)+":",1),h(" "+l(e.activeRow.url),1)]),r("div",null,[r("strong",null,l(s.strings.hits)+":",1),h(" "+l(e.activeRow.hits),1)]),r("div",null,[r("strong",null,l(s.strings.lastAccessed)+":",1),h(" "+l(e.sqlDateToLogFormat(e.activeRow.last_accessed)),1)]),e.activeRow.ip?(c(),_("div",ro,[r("strong",null,l(s.strings.lastIp)+":",1),h(),r("code",null,l(e.activeRow.ip),1)])):m("",!0),e.activeRow.referrers.length?(c(),_("div",io,[r("strong",null,l(s.strings.referrers)+":",1),r("table",no,[(c(!0),_(A,null,O(e.activeRow.referrers,(k,U)=>(c(),_("tr",{key:U},[r("td",null,l(k),1)]))),128))])])):m("",!0),e.getHeaderInfo(e.activeRow)?(c(),_("div",lo,[r("strong",null,l(s.strings.headers)+":",1),r("table",ao,[(c(!0),_(A,null,O(e.getHeaderInfo(e.activeRow),(k,U)=>(c(),_("tr",{key:U},[r("td",null,[r("strong",null,l(U)+":",1)]),r("td",null,l(k),1)]))),128))])])):m("",!0)])]),_:1},8,["show"])])}const uo=T(Zs,[["render",co]]),ho={},po={viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"aioseo-globe"},go=r("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M28 4.6665C15.12 4.6665 4.66669 15.1198 4.66669 27.9998C4.66669 40.8798 15.12 51.3332 28 51.3332C40.88 51.3332 51.3334 40.8798 51.3334 27.9998C51.3334 15.1198 40.88 4.6665 28 4.6665ZM9.33335 27.9998C9.33335 26.5765 9.52002 25.1765 9.82335 23.8465L20.9767 34.9998V37.3331C20.9767 39.8998 23.0767 41.9998 25.6434 41.9998V46.5031C16.4734 45.3365 9.33335 37.4965 9.33335 27.9998ZM37.3103 37.3333C39.4103 37.3333 41.137 38.71 41.7437 40.6C44.777 37.2866 46.667 32.8533 46.667 28C46.667 20.1833 41.8137 13.4633 34.977 10.71V11.6666C34.977 14.2333 32.877 16.3333 30.3103 16.3333H25.6437V21C25.6437 22.2833 24.5937 23.3333 23.3103 23.3333H18.6437V28H32.6437C33.927 28 34.977 29.05 34.977 30.3333V37.3333H37.3103Z",fill:"currentColor"},null,-1),mo=[go];function _o(e,t){return c(),_("svg",po,mo)}const fo=T(ho,[["render",_o]]),So={},vo={width:"54",height:"45",viewBox:"0 0 54 45",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"aioseo-home"},bo=r("path",{d:"M9.125 44.2148V24.2148H0.9375L27 0.839844L39.125 11.4648V4.71484H44.875V16.8398L53.0625 24.2148H44.875V44.2148H29.75V29.4648H24.25V44.2148H9.125ZM13.625 39.7148H19.75V24.9023H34.25V39.7148H40.375V18.9648L27 6.83984L13.625 18.9648V39.7148ZM19.75 24.9023H34.25H19.75ZM21.5 18.9023H32.5C32.5 17.444 31.9583 16.2357 30.875 15.2773C29.7917 14.319 28.5 13.8398 27 13.8398C25.5 13.8398 24.2083 14.319 23.125 15.2773C22.0417 16.2357 21.5 17.444 21.5 18.9023Z",fill:"#434960"},null,-1),wo=[bo];function yo(e,t){return c(),_("svg",vo,wo)}const Po=T(So,[["render",yo]]),$o={},Ro={width:"50",height:"48",viewBox:"0 0 50 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"aioseo-controls"},Co=r("path",{d:"M21.3254 47.1523V32.2773H26.1154V37.4648H49.2782V42.0273H26.1154V47.1523H21.3254ZM0.721741 42.0273V37.4648H17.7821V42.0273H0.721741ZM12.9921 31.2148V26.0898H0.721741V21.5898H12.9921V16.3398H17.7821V31.2148H12.9921ZM21.3254 26.0898V21.5898H49.2782V26.0898H21.3254ZM32.2178 15.4023V0.527344H37.0078V5.65234H49.2782V10.2148H37.0078V15.4023H32.2178ZM0.721741 10.2148V5.65234H28.6745V10.2148H0.721741Z",fill:"#434960"},null,-1),Vo=[Co];function ko(e,t){return c(),_("svg",Ro,Vo)}const To=T($o,[["render",ko]]),Lo={setup(){return{redirectsStore:D()}},components:{CoreAlert:z,CoreSettingsRow:j,BaseToggle:ke,BaseInput:Te,CoreCard:E,SvgHome:Po,SvgControls:To,BaseBoxToggle:de},data(){return{strings:{advanced404s:this.$t.__("Advanced 404 Settings",this.$tdPro),descriptionClosed:this.$t.__("Our advanced 404 settings are not for everyone. While a 404 page may not seem like the best user experience, redirecting all your 404's may confuse your users who are looking for specific content. Instead it's always better to redirect content to real pages. If you're not sure what to do, just leave these settings off.",this.$tdPro),default404:this.$t.__("Default 404 Redirect",this.$tdPro),descriptionDefault404:this.$t.__("Enable default 404 redirect",this.$tdPro),home:this.$t.__("Home Page",this.$tdPro),custom:this.$t.__("Custom URL",this.$tdPro),advanced404:this.$t.__("Advanced 404 Settings",this.$tdPro),redirectToHome:this.$t.__("Redirect 404's to the Home Page",this.$tdPro),redirectToParent:this.$t.__("Redirect 404's to the Parent Page or Parent Category",this.$tdPro),redirectingToHome:this.$t.__("Your 404's will now be redirected to the Home Page. We'll still keep track of them in the 404 Logs.",this.$tdPro),redirectingToParent:this.$t.__("Your 404's will now be redirected to their parent page or post. We'll still keep track of them in the 404 Logs.",this.$tdPro),redirectToParentWoocommerce:this.$t.__("WooCommerce Support",this.$tdPro),redirectingToParentWoocommerce:this.$t.__("Products and Product Categories will redirect to the shop page.",this.$tdPro),redirectingToParentUpgrade:this.$t.sprintf(this.$t.__("Advanced 404 Management is not available for your current plan. %1$s",this.$tdPro),this.$links.getUpsellLink("redirects",this.$constants.GLOBAL_STRINGS.learnMore,"404-settings",!0)),redirectingToCustom:this.$t.__("Your 404's will now be redirected to the Custom URL below.",this.$tdPro),redirectingToCustomDescription:this.$t.__("The Custom URL can be a Relative or Full URL.",this.$tdPro),redirectToSmart:this.$t.__("Smart Slug Redirect",this.$tdPro),redirectingToSmart:this.$t.__("Your 404's will now be redirected by the URL slug.",this.$tdPro)}}},computed:{has404ParentRedirect(){return je.hasAddonFeature("aioseo-redirects","404-parent-redirect")}}},Ho={class:"enable"},Do={key:0},Uo={class:"option"},Ao={key:0,class:"aioseo-description background"},Eo={key:1,class:"aioseo-description background"},Io={class:"option"},Oo={key:0,class:"aioseo-description"},Mo={key:2,class:"aioseo-description"},xo={key:0,class:"aioseo-description"};function Fo(e,t,p,o,s,a){const g=d("base-toggle"),f=d("svg-home"),y=d("svg-controls"),C=d("base-box-toggle"),R=d("base-input"),P=d("core-alert"),$=d("core-settings-row"),b=d("core-card");return c(),S(b,{slug:"404Settings",toggles:o.redirectsStore.options.advanced404s.enabled,disabled:!o.redirectsStore.options.advanced404s.enabled},{header:n(()=>[i(g,{modelValue:o.redirectsStore.options.advanced404s.enabled,"onUpdate:modelValue":t[0]||(t[0]=u=>o.redirectsStore.options.advanced404s.enabled=u)},null,8,["modelValue"]),r("span",null,l(s.strings.advanced404s),1)]),disabled:n(()=>[h(l(s.strings.descriptionClosed),1)]),default:n(()=>[i($,{name:s.strings.default404,class:"redirects-defaults default-404"},{content:n(()=>[r("div",Ho,[i(g,{modelValue:o.redirectsStore.options.advanced404s.redirectDefaultEnabled,"onUpdate:modelValue":t[1]||(t[1]=u=>o.redirectsStore.options.advanced404s.redirectDefaultEnabled=u)},{default:n(()=>[h(l(s.strings.descriptionDefault404),1)]),_:1},8,["modelValue"])]),o.redirectsStore.options.advanced404s.redirectDefaultEnabled?(c(),_("div",Do,[r("div",Uo,[i(C,{name:"redirect404Default",modelValue:o.redirectsStore.options.advanced404s.redirectDefault,"onUpdate:modelValue":t[2]||(t[2]=u=>o.redirectsStore.options.advanced404s.redirectDefault=u),options:[{value:"home",slot:"home"},{value:"custom",slot:"custom"}]},{home:n(()=>[i(f),r("p",null,l(s.strings.home),1)]),custom:n(()=>[i(y),r("p",null,l(s.strings.custom),1)]),_:1},8,["modelValue"]),o.redirectsStore.options.advanced404s.redirectDefault==="home"?(c(),_("div",Ao,l(s.strings.redirectingToHome),1)):m("",!0),o.redirectsStore.options.advanced404s.redirectDefault==="custom"?(c(),_("div",Eo,[h(l(s.strings.redirectingToCustom)+" ",1),i(R,{modelValue:o.redirectsStore.options.advanced404s.redirectToCustomUrl,"onUpdate:modelValue":t[3]||(t[3]=u=>o.redirectsStore.options.advanced404s.redirectToCustomUrl=u)},null,8,["modelValue"]),h(" "+l(s.strings.redirectingToCustomDescription),1)])):m("",!0)])])):m("",!0),i(P,{type:"yellow",innerHTML:s.strings.descriptionClosed},null,8,["innerHTML"])]),_:1},8,["name"]),i($,{name:s.strings.advanced404,class:"redirects-defaults"},{content:n(()=>[r("div",Io,[i(g,{modelValue:o.redirectsStore.options.advanced404s.redirectToSmart,"onUpdate:modelValue":t[4]||(t[4]=u=>o.redirectsStore.options.advanced404s.redirectToSmart=u)},{default:n(()=>[h(l(s.strings.redirectToSmart),1)]),_:1},8,["modelValue"]),o.redirectsStore.options.advanced404s.redirectToSmart?(c(),_("div",Oo,l(s.strings.redirectingToSmart),1)):m("",!0)]),r("div",{class:x(["option",{disabled:!a.has404ParentRedirect}])},[a.has404ParentRedirect?(c(),S(g,{key:0,modelValue:o.redirectsStore.options.advanced404s.redirectToParent,"onUpdate:modelValue":t[5]||(t[5]=u=>o.redirectsStore.options.advanced404s.redirectToParent=u)},{default:n(()=>[h(l(s.strings.redirectToParent),1)]),_:1},8,["modelValue"])):m("",!0),a.has404ParentRedirect?m("",!0):(c(),S(g,{key:1,modelValue:!1,disabled:!0},{default:n(()=>[h(l(s.strings.redirectToParent),1)]),_:1})),a.has404ParentRedirect&&o.redirectsStore.options.advanced404s.redirectToParent?(c(),_("div",Mo,l(s.strings.redirectingToParent),1)):m("",!0),a.has404ParentRedirect?m("",!0):(c(),S(P,{key:3,type:"yellow",innerHTML:s.strings.redirectingToParentUpgrade},null,8,["innerHTML"]))],2),a.has404ParentRedirect&&o.redirectsStore.options.advanced404s.redirectToParent?(c(),_("div",{key:0,class:x(["option",{disabled:!a.has404ParentRedirect}])},[i(g,{modelValue:o.redirectsStore.options.advanced404s.redirectToParentWoocommerce,"onUpdate:modelValue":t[6]||(t[6]=u=>o.redirectsStore.options.advanced404s.redirectToParentWoocommerce=u)},{default:n(()=>[h(l(s.strings.redirectToParentWoocommerce),1)]),_:1},8,["modelValue"]),o.redirectsStore.options.advanced404s.redirectToParentWoocommerce?(c(),_("div",xo,l(s.strings.redirectingToParentWoocommerce),1)):m("",!0)],2)):m("",!0)]),_:1},8,["name"])]),_:1},8,["toggles","disabled"])}const Bo=T(Lo,[["render",Fo],["__scopeId","data-v-7e093e0e"]]),No={setup(){return{redirectsStore:D(),rootStore:B()}},components:{BaseBoxToggle:de,CoreAlert:z,CoreCard:E,CorePostTypeOptions:ze,CoreSettingsRow:j,CoreTooltip:N,ServerConfigReloadWarning:J,SvgCircleQuestionMark:Le,SvgGlobe:fo,SvgPhp:Ne,TableColumn:Je,TableRow:We,BaseSelect:He,Advanced404s:Bo},mixins:[ne],data(){return{saving:!1,nginxLoading:!1,apacheLoading:!1,strings:{redirectSettings:this.$t.__("Redirect Settings",this.$tdPro),redirectMethod:this.$t.__("Redirect Method",this.$tdPro),unknownServer:this.$t.sprintf(this.$t.__("We cannot detect your web server. Server redirects are disabled. %1$s",this.$tdPro),this.$links.getDocLink(this.$constants.GLOBAL_STRINGS.learnMore,"redirectUnknownWebserver",!0)),php:this.$t.__("PHP",this.$tdPro),webServer:this.$t.__("Web Server",this.$tdPro),logs:this.$t.__("Logs",this.$tdPro),ipLogging:this.$t.__("IP Logging",this.$tdPro),httpCacheHeader:this.$t.__("HTTP Cache Header",this.$tdPro),redirectDefaults:this.$t.__("Redirect Defaults",this.$tdPro),logs404:this.$t.__("404 Logs",this.$tdPro),redirectLogs:this.$t.__("Redirect Logs",this.$tdPro),logExternal:this.$t.__("Log External Redirects",this.$tdPro),logHttpHeader:this.$t.__("Log HTTP Header Information",this.$tdPro),ignoreCase:this.$t.__("Ignore Case",this.$tdPro),ignoreSlash:this.$t.__("Ignore Slash",this.$tdPro),cacheRedirects:this.$t.__("Cache Redirects",this.$tdPro),objectCache:this.$t.__("Object Cache",this.$tdPro),ipLoggingDescription:this.$t.sprintf(this.$t.__("%1$sGDPR / Privacy information%2$s",this.$tdPro),'<a target="_blank" href="'+this.$links.getDocUrl("redirectGdpr")+'">',"</a>"),logIpAddresses:this.$t.__("Log IP Addresses",this.$tdPro),redirectType:this.$t.__("Redirect Type",this.$tdPro),queryParams:this.$t.__("Query Parameters",this.$tdPro),logExternalDescription:this.$t.sprintf(this.$t.__("Log redirects that happen on your site even if the redirect happened outside of %1$s",this.$tdPro),"AIOSEO"),logHeaderInformationDescription:this.$t.__("Capture HTTP header information with the logs (except for cookies).",this.$tdPro),exportNginxConfigFile:this.$t.sprintf(this.$t.__("Export %1$s config file",this.$tdPro),"NGINX"),exportHtaccessFile:this.$t.sprintf(this.$t.__("Export %1$s file",this.$tdPro),".htaccess"),autoWriteHtaccess:this.$t.sprintf(this.$t.__("Auto-write to %1$s",this.$tdPro),".htaccess"),monitorChanges:this.$t.__("Automatic Redirects",this.$tdPro),includeAllPostTypes:this.$t.__("Include All Post Types",this.$tdPro),monitorTrash:this.$t.__("Monitor Trash",this.$tdPro),monitorChangesTooltip:this.$t.__('This allows you to monitor changes to post types and automatically add redirects based on URL changes. These will show up with a group called "Modified Posts".',this.$tdPro)},lengthOptions:[{label:this.$t.__("1 hour",this.$tdPro),value:"hour"},{label:this.$t.__("1 day",this.$tdPro),value:"day"},{label:this.$t.__("1 week",this.$tdPro),value:"week"},{label:this.$t.__("Forever",this.$tdPro),value:"forever"}],ipLoggingOptions:[{label:this.$t.__("Full Logging",this.$tdPro),value:"full"},{label:this.$t.__("Anonymize IP",this.$tdPro),value:"anonymous"}]}},computed:{serverDetected(){return this.$t.sprintf(this.$t.__("%1$s Server has been detected.",this.$tdPro),this.detectedServer)},detectedServer(){switch(this.rootStore.aioseo.data.server){case"apache":return"Apache";case"nginx":return"nginx";case"litespeed":return"LiteSpeed";default:return""}},missingInclude(){if(this.rootStore.aioseo.data.server.match(/apache|nginx/)){const e=this.rootStore.aioseo.data.server==="apache"?"Include ":"include ",t=this.rootStore.aioseo.data.server==="nginx"?";":"",p="<br><code>"+e+this.redirectsStore.server.filePath+t+"</code>";return this.$t.sprintf(this.$t.__("Make sure you include the following in your server configuration file: %1$s",this.$tdPro),p)}return this.rootStore.aioseo.data.server==="litespeed"?this.$t.sprintf(this.$t.__("Please export the .htaccess file clicking the button below and copy/paste the contents into your %1$ssite's .htaccess file%2$s.",this.$tdPro),'<a href="?page=aioseo-tools#/htaccess-editor">',"</a>"):""}},methods:{exportRedirects(e){this[e+"Loading"]=!0,this.redirectsStore.exportServerRedirects(e).then(t=>{this[e+"Loading"]=!1;const p=e==="apache"?"htaccess":e,o=new Blob([t.body.redirects]),s=document.createElement("a");s.href=URL.createObjectURL(o),s.download=`aioseo-export-redirects-${K.now().toFormat("yyyy-MM-dd")}.${p}`,s.click(),URL.revokeObjectURL(s.href)})}}},zo={class:"aioseo-redirects-settings"},Jo={key:0,class:"web-server-settings"},Wo=["innerHTML"],jo={class:"option"},qo={class:"option"},Yo={class:"option"},Go={class:"option"},Zo={class:"option"},Ko={class:"aioseo-description"},Xo={class:"option"},Qo={class:"aioseo-description"};function er(e,t,p,o,s,a){const g=d("server-config-reload-warning"),f=d("svg-php"),y=d("svg-globe"),C=d("base-box-toggle"),R=d("core-alert"),P=d("base-button"),$=d("core-settings-row"),b=d("base-toggle"),u=d("table-column"),v=d("base-select"),V=d("table-row"),I=d("svg-circle-question-mark"),k=d("core-tooltip"),U=d("core-post-type-options"),F=d("core-card"),he=d("advanced-404s");return c(),_("div",zo,[i(g),i(F,{slug:"redirectSettings","header-text":s.strings.redirectSettings},{default:n(()=>[i($,{name:s.strings.redirectMethod},{content:n(()=>[i(C,{modelValue:o.redirectsStore.options.main.method,"onUpdate:modelValue":t[0]||(t[0]=w=>o.redirectsStore.options.main.method=w),name:"breadcrumbsType",options:[{value:"php",slot:"php"},{value:"server",slot:"server"}]},{php:n(()=>[i(f),r("p",null,l(s.strings.php),1)]),server:n(()=>[i(y),r("p",null,l(s.strings.webServer),1)]),_:1},8,["modelValue"]),o.redirectsStore.options.main.method==="server"?(c(),_("div",Jo,[a.detectedServer?m("",!0):(c(),S(R,{key:0,class:"detected-web-server unknown",type:"red",innerHTML:s.strings.unknownServer},null,8,["innerHTML"])),a.detectedServer?(c(),_(A,{key:1},[i(R,{class:"detected-web-server",type:"blue"},{default:n(()=>[h(l(a.serverDetected),1)]),_:1}),o.redirectsStore.server.redirectTest.failed===!0?(c(),S(R,{key:0,type:"yellow",class:"missing-include",innerHTML:a.missingInclude},null,8,["innerHTML"])):m("",!0)],64)):m("",!0),i(P,{type:"gray",size:"medium",onClick:t[1]||(t[1]=w=>a.exportRedirects("nginx")),loading:s.nginxLoading},{default:n(()=>[h(l(s.strings.exportNginxConfigFile),1)]),_:1},8,["loading"]),i(P,{type:"gray",size:"medium",onClick:t[2]||(t[2]=w=>a.exportRedirects("apache")),loading:s.apacheLoading},{default:n(()=>[h(l(s.strings.exportHtaccessFile),1)]),_:1},8,["loading"])])):m("",!0)]),_:1},8,["name"]),i($,{name:s.strings.logs,class:"redirects-logs"},{content:n(()=>[i(V,null,{default:n(()=>[i(u,null,{default:n(()=>[i(b,{modelValue:o.redirectsStore.options.logs.log404.enabled,"onUpdate:modelValue":t[3]||(t[3]=w=>o.redirectsStore.options.logs.log404.enabled=w)},{default:n(()=>[h(l(s.strings.logs404),1)]),_:1},8,["modelValue"])]),_:1}),i(u,null,{default:n(()=>[i(v,{size:"medium",options:s.lengthOptions,disabled:!o.redirectsStore.options.logs.log404.enabled,modelValue:e.getJsonValue(o.redirectsStore.options.logs.log404.length),"onUpdate:modelValue":t[4]||(t[4]=w=>o.redirectsStore.options.logs.log404.length=e.setJsonValue(w))},null,8,["options","disabled","modelValue"])]),_:1})]),_:1}),o.redirectsStore.options.main.method==="php"?(c(),S(V,{key:0},{default:n(()=>[i(u,null,{default:n(()=>[i(b,{modelValue:o.redirectsStore.options.logs.redirects.enabled,"onUpdate:modelValue":t[5]||(t[5]=w=>o.redirectsStore.options.logs.redirects.enabled=w)},{default:n(()=>[h(l(s.strings.redirectLogs),1)]),_:1},8,["modelValue"])]),_:1}),i(u,null,{default:n(()=>[i(v,{size:"medium",options:s.lengthOptions,disabled:!o.redirectsStore.options.logs.redirects.enabled,modelValue:e.getJsonValue(o.redirectsStore.options.logs.redirects.length),"onUpdate:modelValue":t[6]||(t[6]=w=>o.redirectsStore.options.logs.redirects.length=e.setJsonValue(w))},null,8,["options","disabled","modelValue"])]),_:1})]),_:1})):m("",!0),o.redirectsStore.options.logs.redirects.enabled&&o.redirectsStore.options.main.method==="php"?(c(),S(V,{key:1},{default:n(()=>[i(u,null,{default:n(()=>[i(b,{modelValue:o.redirectsStore.options.logs.external,"onUpdate:modelValue":t[7]||(t[7]=w=>o.redirectsStore.options.logs.external=w)},{default:n(()=>[h(l(s.strings.logExternal)+" ",1),i(k,null,{tooltip:n(()=>[h(l(s.strings.logExternalDescription),1)]),default:n(()=>[i(I)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})):m("",!0),o.redirectsStore.options.logs.redirects.enabled&&o.redirectsStore.options.main.method==="php"||o.redirectsStore.options.logs.log404.enabled?(c(),S(V,{key:2},{default:n(()=>[i(u,null,{default:n(()=>[i(b,{modelValue:o.redirectsStore.options.logs.httpHeader,"onUpdate:modelValue":t[8]||(t[8]=w=>o.redirectsStore.options.logs.httpHeader=w)},{default:n(()=>[h(l(s.strings.logHttpHeader)+" ",1),i(k,null,{tooltip:n(()=>[h(l(s.strings.logHeaderInformationDescription),1)]),default:n(()=>[i(I)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})):m("",!0)]),_:1},8,["name"]),o.redirectsStore.options.logs.redirects.enabled&&o.redirectsStore.options.main.method==="php"||o.redirectsStore.options.logs.log404.enabled?(c(),S($,{key:0,name:s.strings.ipLogging,align:"",class:"redirects-ip-logging"},{content:n(()=>[i(V,null,{default:n(()=>[i(u,null,{default:n(()=>[i(b,{modelValue:o.redirectsStore.options.logs.ipAddress.enabled,"onUpdate:modelValue":t[9]||(t[9]=w=>o.redirectsStore.options.logs.ipAddress.enabled=w)},{default:n(()=>[h(l(s.strings.logIpAddresses),1)]),_:1},8,["modelValue"])]),_:1}),i(u,null,{default:n(()=>[i(v,{size:"medium",options:s.ipLoggingOptions,disabled:!o.redirectsStore.options.logs.ipAddress.enabled,modelValue:e.getJsonValue(o.redirectsStore.options.logs.ipAddress.level),"onUpdate:modelValue":t[10]||(t[10]=w=>o.redirectsStore.options.logs.ipAddress.level=e.setJsonValue(w))},null,8,["options","disabled","modelValue"])]),_:1})]),_:1}),i(V,null,{default:n(()=>[i(u,null,{default:n(()=>[r("div",{class:"aioseo-description",innerHTML:s.strings.ipLoggingDescription},null,8,Wo)]),_:1})]),_:1})]),_:1},8,["name"])):m("",!0),o.redirectsStore.options.main.method==="php"?(c(),_(A,{key:1},[o.redirectsStore.options.logs.redirects.enabled&&o.redirectsStore.options.main.method==="php"?(c(),S($,{key:0,name:s.strings.httpCacheHeader,align:"",class:"redirects-cache"},{content:n(()=>[i(V,null,{default:n(()=>[i(u,null,{default:n(()=>[i(b,{modelValue:o.redirectsStore.options.cache.httpHeader.enabled,"onUpdate:modelValue":t[11]||(t[11]=w=>o.redirectsStore.options.cache.httpHeader.enabled=w)},{default:n(()=>[h(l(s.strings.cacheRedirects),1)]),_:1},8,["modelValue"])]),_:1}),i(u,null,{default:n(()=>[i(v,{size:"medium",options:s.lengthOptions,disabled:!o.redirectsStore.options.cache.httpHeader.enabled,modelValue:e.getJsonValue(o.redirectsStore.options.cache.httpHeader.length),"onUpdate:modelValue":t[12]||(t[12]=w=>o.redirectsStore.options.cache.httpHeader.length=e.setJsonValue(w))},null,8,["options","disabled","modelValue"])]),_:1})]),_:1})]),_:1},8,["name"])):m("",!0)],64)):m("",!0),i($,{name:s.strings.monitorChanges,class:"redirects-monitor"},{name:n(()=>[h(l(s.strings.monitorChanges)+" ",1),i(k,null,{tooltip:n(()=>[h(l(s.strings.monitorChangesTooltip),1)]),default:n(()=>[i(I)]),_:1})]),content:n(()=>[r("div",jo,[i(b,{size:"medium",modelValue:o.redirectsStore.options.monitor.postTypes.all,"onUpdate:modelValue":t[13]||(t[13]=w=>o.redirectsStore.options.monitor.postTypes.all=w)},{default:n(()=>[h(l(s.strings.includeAllPostTypes),1)]),_:1},8,["modelValue"])]),o.redirectsStore.options.monitor.postTypes.all?m("",!0):(c(),S(U,{key:0,options:o.redirectsStore.options.monitor,type:"postTypes",excluded:["attachment"]},null,8,["options"])),r("div",qo,[i(b,{size:"medium",modelValue:o.redirectsStore.options.monitor.trash,"onUpdate:modelValue":t[14]||(t[14]=w=>o.redirectsStore.options.monitor.trash=w)},{default:n(()=>[h(l(s.strings.monitorTrash),1)]),_:1},8,["modelValue"])])]),_:1},8,["name"]),i($,{name:s.strings.redirectDefaults,class:"redirects-defaults"},{content:n(()=>[r("div",Yo,[i(b,{modelValue:o.redirectsStore.options.redirectDefaults.ignoreSlash,"onUpdate:modelValue":t[15]||(t[15]=w=>o.redirectsStore.options.redirectDefaults.ignoreSlash=w)},{default:n(()=>[h(l(s.strings.ignoreSlash),1)]),_:1},8,["modelValue"])]),r("div",Go,[i(b,{modelValue:o.redirectsStore.options.redirectDefaults.ignoreCase,"onUpdate:modelValue":t[16]||(t[16]=w=>o.redirectsStore.options.redirectDefaults.ignoreCase=w)},{default:n(()=>[h(l(s.strings.ignoreCase),1)]),_:1},8,["modelValue"])]),r("div",Zo,[r("div",Ko,l(s.strings.redirectType),1),i(v,{modelValue:e.getJsonValue(o.redirectsStore.options.redirectDefaults.redirectType),"onUpdate:modelValue":t[17]||(t[17]=w=>o.redirectsStore.options.redirectDefaults.redirectType=e.setJsonValue(w)),size:"medium",options:e.$constants.REDIRECT_TYPES},null,8,["modelValue","options"])]),r("div",Xo,[r("div",Qo,l(s.strings.queryParams),1),i(v,{modelValue:e.getJsonValue(o.redirectsStore.options.redirectDefaults.queryParam),"onUpdate:modelValue":t[18]||(t[18]=w=>o.redirectsStore.options.redirectDefaults.queryParam=e.setJsonValue(w)),size:"medium",options:e.$constants.REDIRECT_QUERY_PARAMS},null,8,["modelValue","options"])])]),_:1},8,["name"])]),_:1},8,["header-text"]),i(he)])}const tr=T(No,[["render",er]]),sr={setup(){return{redirectsStore:D()}},components:{CoreMain:Se,FullSiteRedirect:Kt,ImportExport:Is,Logs:Gs,Logs404:uo,Redirects:Ae,Settings:tr},mixins:[me,_e],data(){return{strings:{pageName:this.$t.__("Redirects",this.$td)}}},computed:{showSaveButton(){return this.$route.name!=="redirects"&&this.$route.name!=="groups"&&this.$route.name!=="logs-404"&&this.$route.name!=="logs"&&this.$route.name!=="import-export"},excludeTabs(){var t,p,o,s,a,g,f,y;const e=fe.isActive("aioseo-redirects")?this.getExcludedUpdateTabs("aioseo-redirects"):this.getExcludedActivationTabs("aioseo-redirects");return(o=(p=(t=this.redirectsStore.options)==null?void 0:t.logs)==null?void 0:p.log404)!=null&&o.enabled||e.push("logs-404"),(!((g=(a=(s=this.redirectsStore.options)==null?void 0:s.logs)==null?void 0:a.redirects)!=null&&g.enabled)||((y=(f=this.redirectsStore.options)==null?void 0:f.main)==null?void 0:y.method)==="server")&&e.push("logs"),e}}};function or(e,t,p,o,s,a){const g=d("core-main");return c(),S(g,{"page-name":s.strings.pageName,"show-save-button":a.showSaveButton,"exclude-tabs":a.excludeTabs},{default:n(()=>[(c(),S(Ve(e.$route.name)))]),_:1},8,["page-name","show-save-button","exclude-tabs"])}const ki=T(sr,[["render",or]]);export{ki as default};
