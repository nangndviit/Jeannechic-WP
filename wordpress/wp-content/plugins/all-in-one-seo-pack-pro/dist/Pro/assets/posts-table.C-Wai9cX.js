import"./js/vue2.Bk-dUoBE.js";import{o as r,c as f,a as n,x as m,l as h,d as c,m as a,D as d,t as i,C as u,G as _,q as it,H as B,X as U,h as H}from"./js/vue.esm-bundler.DqIKZLqK.js";import{l as ot}from"./js/index.B-C1saKW.js";import{l as nt}from"./js/index.BWln78-O.js";import{l as lt}from"./js/index.3BJ3ZnWB.js";import{u as A,G as j,o as Z,y as S,t as G,l as V,r as q}from"./js/links.D18SrdNe.js";import{s as rt,t as at,T as ct}from"./js/postSlug.DgPEdjzX.js";import{a as dt}from"./js/allowed.CaQjD8oQ.js";import"./js/default-i18n.Bd0Z306Z.js";import{u as F,T as X}from"./js/TruSeoScore.TjofuHRQ.js";import{_ as I}from"./js/_plugin-vue_export-helper.BN1snXvA.js";import{l as O}from"./js/license.CZ_ULMsy.js";import{B as Q,b as J,f as K}from"./js/Caret.CE8P-qnG.js";import{C as W}from"./js/HtmlTagsEditor.C6R_toxB.js";import{_ as ut}from"./js/ScoreButton.BYXILR6h.js";import{C as R}from"./js/Tooltip.Gayc6MvE.js";import{_ as pt}from"./js/IndexStatus.UMK1d_xE.js";import{S as mt}from"./js/LogoGear.8AAnR2nD.js";import{S as ht,a as gt,b as _t,c as ft}from"./js/Affiliate.CZtLUjwg.js";/* empty css                */import"./js/translations.Buvln_cw.js";import"./js/constants.DpuIWwJ9.js";import"./js/helpers.BOFCPzAH.js";import"./js/metabox.DtF8nuvV.js";import"./js/cleanForSlug.1AmsoVq6.js";import"./js/toString.BNLSY1cq.js";import"./js/_baseTrim.BYZhh0MR.js";import"./js/_stringToArray.DnK4tKcY.js";import"./js/deburr.CJsb_ehd.js";import"./js/get.CYs9ONpq.js";import"./js/upperFirst.DLef_sD0.js";import"./js/Editor.DDwyDEN5.js";import"./js/UnfilteredHtml.D65MfVHK.js";import"./js/Calendar.q2eLUa1q.js";import"./js/Mobile.Bg07sdbv.js";import"./js/Checkmark.CUxYD2Fh.js";import"./js/Link.DbKgNI4p.js";import"./js/CheckSolid.BcqC1JWM.js";import"./js/CloseSolid.CKI9sS42.js";const wt={},vt={viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"aioseo-headline-analyzer"},yt=n("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.5448 1.76771H14.6665V1.79272L10.5448 4.61008V1.76771ZM5.46515 8.08232V1.76779H1.34351V4.8899L1.34378 4.71192L5.42731 8.10819L5.46515 8.08232ZM1.34351 11.4568L5.46515 14.2652V15.0999H1.34351V11.4568ZM10.5448 10.8851L14.6665 8.14027V15.0982H10.5448V10.8851Z",fill:"currentColor"},null,-1),Tt=n("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.46515 8.05739L5.42731 8.08325L1.34378 4.68698L1.34351 4.86412V1.76779H5.46515V8.05739ZM5.46515 14.2083L1.34351 11.3998V15.0999H5.46515V14.2083ZM10.5448 10.8281L14.6665 8.08332V15.0982H10.5448V10.8281ZM14.6665 1.76778L10.5448 4.58515V1.76771H14.6665V1.76778Z",fill:"currentColor"},null,-1),kt=n("path",{d:"M5.42725 9.45857L14.6665 3.14303V6.76487L5.46703 12.8912L1.33325 10.0745L1.34372 6.06231L5.42725 9.45857Z",fill:"currentColor"},null,-1),bt=[yt,Tt,kt];function Ct(e,s){return r(),f("svg",vt,bt)}const It=I(wt,[["render",Ct]]),St={setup(){const{strings:e}=F();return{composableStrings:e,optionsStore:A(),searchStatisticsStore:j()}},components:{BaseButton:Q,CoreHtmlTagsEditor:W,CoreLoader:J,CoreScoreButton:ut,CoreTooltip:R,IndexStatus:pt,SvgAioseoLogoGear:mt,SvgHeadlineAnalyzer:It,SvgPencil:K},mixins:[X],props:{post:Object,posts:Array},data(){return{allowed:dt,postId:null,columnName:null,value:null,title:null,titleParsed:null,postDescription:null,descriptionParsed:null,imageTitle:null,imageAltTag:null,showEditTitle:!1,showEditDescription:!1,showEditImageTitle:!1,showEditImageAltTag:!1,showTruSeo:!1,isSpecialPage:!1,inspectionResult:!1,inspectionResultLoading:!0,postLoading:!1,strings:Z(this.composableStrings,{title:this.$t.__("Title",this.$td),description:this.$t.__("Description",this.$td),imageTitle:this.$t.__("Image Title",this.$td),imageAltTag:this.$t.__("Image Alt Tag",this.$td),saveChanges:this.$t.__("Save Changes",this.$td),discardChanges:this.$t.__("Discard Changes",this.$td),truSeoScore:this.$t.__("TruSEO Score",this.$td),headlineScore:this.$t.__("Headline Score",this.$td)}),license:O}},computed:{showIndexStatus(){var p,t,l;if(!this.$isPro||!O.hasCoreFeature("search-statistics","index-status"))return!1;const e=!this.searchStatisticsStore.unverifiedSite,s=typeof((l=(t=(p=this.optionsStore.internalOptions.internal)==null?void 0:p.searchStatistics)==null?void 0:t.profile)==null?void 0:l.key)=="string",o=this.allowed("aioseo_search_statistics_settings");return e&&s&&o}},methods:{save(){this.showEditTitle=!1,this.showEditDescription=!1,this.post.title=this.title,this.post.description=this.postDescription,this.postLoading=!0,S.post(this.$links.restUrl("posts-list/update-details-column")).send({postId:this.post.id,title:this.post.title,description:this.post.description}).then(e=>{this.titleParsed=e.body.title,this.descriptionParsed=e.body.description,this.post.titleParsed=e.body.title,this.post.descriptionParsed=e.body.description,this.$root._data.screen.base!=="upload"&&this.runAnalysis(this.post.id)}).catch(e=>{console.error(`Unable to update post with ID ${this.post.id}: ${e}`)}).finally(()=>{this.postLoading=!1})},saveImage(){this.showEditImageTitle=!1,this.showEditImageAltTag=!1,this.post.title=this.title,this.post.description=this.postDescription,this.post.imageTitle=this.imageTitle,this.post.imageAltTag=this.imageAltTag,S.post(this.$links.restUrl("posts-list/update-details-column")).send({postId:this.post.id,isMedia:!0,title:this.post.title,description:this.post.description,imageTitle:this.post.imageTitle,imageAltTag:this.post.imageAltTag}).then(()=>{}).catch(e=>{console.error(`Unable to update attachment with ID ${this.post.id}: ${e}`)})},cancel(){this.value=this.post.value,this.showEditTitle=!1,this.showEditDescription=!1,this.showEditImageTitle=!1,this.showEditImageAltTag=!1},editTitle(){this.showEditTitle=!0},editDescription(){this.showEditDescription=!0},editImageTitle(){this.showEditImageTitle=!0},editImageAlt(){this.showEditImageAltTag=!0},truncate:G,updatePostTitle(e,s){const o=document.getElementById(`post-${e}`);if(!o)return;const p=o.getElementsByClassName("title")[0].getElementsByTagName("a")[0];if(!p)return;const t=p.getElementsByTagName("span")[0];p.innerText=s,p.prepend(t)},updateInspectionResult(e){const{inspectionResult:s,inspectionResultLoading:o}=e;this.inspectionResult=s,this.inspectionResultLoading=o}},mounted(){this.postId=this.post.id,this.columnName=this.post.columnName,this.value=this.post.value,this.imageTitle=this.post.imageTitle,this.imageAltTag=this.post.imageAltTag,this.isSpecialPage=this.post.isSpecialPage,this.title=this.post.title||this.post.defaultTitle,this.titleParsed=this.post.titleParsed,this.postDescription=this.post.description||this.post.defaultDescription,this.descriptionParsed=this.post.descriptionParsed,this.inspectionResult=this.post.inspectionResult,this.inspectionResultLoading=this.post.inspectionResultLoading,this.post.reload&&this.save(),window.aioseoBus.$on("updateInspectionResult"+this.postId,this.updateInspectionResult)},beforeUnmount(){window.aioseoBus.$off("updateInspectionResult"+this.postId,this.updateInspectionResult)},async created(){this.showTruSeo=rt()}},Et={key:0,class:"edit-row scores"},Pt={class:"edit-row edit-title"},Lt={key:0},Dt=n("strong",null,":",-1),xt={key:1,class:"edit-row"},At={class:"edit-row edit-description"},Vt=["id"],Rt=n("strong",null,":",-1),Mt={key:2,class:"edit-row"},Nt={class:"edit-row edit-image-title"},Ot=["id"],zt=n("strong",null,":",-1),Bt={key:3,class:"edit-row"},Ut={class:"edit-row edit-image-alt"},Ht=["id"],jt=n("strong",null,":",-1),Zt={key:4,class:"edit-row"};function Gt(e,s,o,p,t,l){var M,N;const y=m("index-status"),v=m("svg-headline-analyzer"),T=m("core-score-button"),g=m("core-tooltip"),w=m("svg-aioseo-logo-gear"),k=m("core-loader"),E=m("svg-pencil"),P=m("core-html-tags-editor"),b=m("base-button");return r(),f("div",{class:B(["aioseo-details-column",{editing:t.showEditTitle||t.showEditDescription||t.showEditImageTitle||t.showEditImageAltTag}])},[n("div",null,[e.$root._data.screen.base==="edit"&&!t.isSpecialPage?(r(),f("div",Et,[l.showIndexStatus?(r(),h(y,{key:0,result:(M=t.inspectionResult)==null?void 0:M.indexStatusResult,"result-link":(N=t.inspectionResult)==null?void 0:N.inspectionResultLink,loading:t.inspectionResultLoading,viewable:o.post.isPostVisible,"tooltip-offset":"-150px,0"},null,8,["result","result-link","loading","viewable"])):c("",!0),p.optionsStore.options.advanced.headlineAnalyzer?(r(),h(g,{key:1,type:"action"},{tooltip:a(()=>[d(i(t.strings.headlineScore),1)]),default:a(()=>[u(T,{score:o.post.headlineScore,postId:t.postId},{icon:a(()=>[u(v)]),_:1},8,["score","postId"])]),_:1})):c("",!0),t.showTruSeo&&t.allowed("aioseo_page_analysis")?(r(),h(g,{key:2,type:"action"},{tooltip:a(()=>[d(i(t.strings.truSeoScore),1)]),default:a(()=>[u(T,{score:o.post.value,postId:t.postId},{icon:a(()=>[u(w)]),_:1},8,["score","postId"])]),_:1})):c("",!0)])):c("",!0),n("div",null,[t.allowed("aioseo_page_general_settings")?(r(),h(g,{key:0,class:"aioseo-details-column__tooltip",disabled:t.showEditTitle},{tooltip:a(()=>[n("strong",null,i(t.strings.title)+":",1),d(" "+i(t.titleParsed),1)]),default:a(()=>[n("div",Pt,[n("strong",null,i(t.strings.title),1),t.showEditTitle?c("",!0):(r(),f("span",Lt,[Dt,d(" "+i(l.truncate(t.titleParsed,100)),1)])),t.postLoading?(r(),h(k,{key:1,dark:""})):c("",!0),t.showEditTitle?c("",!0):(r(),h(E,{key:2,class:"pencil-icon",onClick:_(l.editTitle,["prevent"])},null,8,["onClick"]))])]),_:1},8,["disabled"])):c("",!0)]),t.showEditTitle?(r(),f("div",xt,[u(P,{modelValue:t.title,"onUpdate:modelValue":s[0]||(s[0]=C=>t.title=C),"line-numbers":!1,single:"","tags-context":"postTitle",defaultMenuOrientation:"bottom",tagsDescription:"","default-tags":["post_title"]},null,8,["modelValue"]),u(b,{type:"gray",size:"small",onClick:_(l.cancel,["prevent"])},{default:a(()=>[d(i(t.strings.discardChanges),1)]),_:1},8,["onClick"]),u(b,{type:"blue",size:"small",onClick:_(l.save,["prevent"])},{default:a(()=>[d(i(t.strings.saveChanges),1)]),_:1},8,["onClick"])])):c("",!0),n("div",null,[t.allowed("aioseo_page_general_settings")?(r(),h(g,{key:0,class:"aioseo-details-column__tooltip",disabled:t.showEditDescription},{tooltip:a(()=>[n("strong",null,i(t.strings.description)+":",1),d(" "+i(l.truncate(t.descriptionParsed)),1)]),default:a(()=>[n("div",At,[n("strong",null,i(t.strings.description),1),t.showEditDescription?c("",!0):(r(),f("span",{key:0,id:`aioseo-${t.columnName}-${t.postId}-value`},[Rt,d(" "+i(l.truncate(t.descriptionParsed)),1)],8,Vt)),t.postLoading?(r(),h(k,{key:1,dark:""})):c("",!0),t.showEditDescription?c("",!0):(r(),h(E,{key:2,class:"pencil-icon",onClick:_(l.editDescription,["prevent"])},null,8,["onClick"]))])]),_:1},8,["disabled"])):c("",!0)]),t.showEditDescription?(r(),f("div",Mt,[u(P,{modelValue:t.postDescription,"onUpdate:modelValue":s[1]||(s[1]=C=>t.postDescription=C),"line-numbers":!1,"tags-context":"postDescription",defaultMenuOrientation:"bottom",tagsDescription:"","default-tags":["post_excerpt"]},null,8,["modelValue"]),u(b,{type:"gray",size:"small",onClick:_(l.cancel,["prevent"])},{default:a(()=>[d(i(t.strings.discardChanges),1)]),_:1},8,["onClick"]),u(b,{type:"blue",size:"small",onClick:_(l.save,["prevent"])},{default:a(()=>[d(i(t.strings.saveChanges),1)]),_:1},8,["onClick"])])):c("",!0),it(e.$slots,"default"),n("div",null,[e.$root._data.screen.base==="upload"&&o.post.showMedia?(r(),h(g,{key:0,class:"aioseo-details-column__tooltip",disabled:t.showEditImageTitle},{tooltip:a(()=>[n("strong",null,i(t.strings.imageTitle)+":",1),d(" "+i(t.imageTitle),1)]),default:a(()=>[n("div",Nt,[n("strong",null,i(t.strings.imageTitle),1),t.showEditImageTitle?c("",!0):(r(),f("span",{key:0,id:`aioseo-${t.columnName}-${t.postId}-value`},[zt,d(" "+i(t.imageTitle),1)],8,Ot)),t.showEditImageTitle?c("",!0):(r(),h(E,{key:1,class:"pencil-icon",onClick:_(l.editImageTitle,["prevent"])},null,8,["onClick"]))])]),_:1},8,["disabled"])):c("",!0)]),t.showEditImageTitle?(r(),f("div",Bt,[u(P,{modelValue:t.imageTitle,"onUpdate:modelValue":s[2]||(s[2]=C=>t.imageTitle=C),"line-numbers":!1,single:"","tags-context":"attachmentTitle",defaultMenuOrientation:"bottom",tagsDescription:"","default-tags":["image_title"]},null,8,["modelValue"]),u(b,{type:"gray",size:"small",onClick:_(l.cancel,["prevent"])},{default:a(()=>[d(i(t.strings.discardChanges),1)]),_:1},8,["onClick"]),u(b,{type:"blue",size:"small",onClick:_(l.saveImage,["prevent"])},{default:a(()=>[d(i(t.strings.saveChanges),1)]),_:1},8,["onClick"])])):c("",!0),n("div",null,[e.$root._data.screen.base==="upload"&&o.post.showMedia?(r(),h(g,{key:0,class:"aioseo-details-column__tooltip",disabled:t.showEditImageAltTag},{tooltip:a(()=>[n("strong",null,i(t.strings.imageAltTag)+":",1),d(" "+i(t.imageAltTag),1)]),default:a(()=>[n("div",Ut,[n("strong",null,i(t.strings.imageAltTag),1),t.showEditImageAltTag?c("",!0):(r(),f("span",{key:0,id:`aioseo-${t.columnName}-${t.postId}-value`},[jt,d(" "+i(t.imageAltTag),1)],8,Ht)),t.showEditImageAltTag?c("",!0):(r(),h(E,{key:1,class:"pencil-icon",onClick:_(l.editImageAlt,["prevent"])},null,8,["onClick"]))])]),_:1},8,["disabled"])):c("",!0)]),t.showEditImageAltTag?(r(),f("div",Zt,[u(P,{modelValue:t.imageAltTag,"onUpdate:modelValue":s[3]||(s[3]=C=>t.imageAltTag=C),"line-numbers":!1,single:"","tags-context":"attachmentDescription",defaultMenuOrientation:"bottom",tagsDescription:"","default-tags":["alt_tag"]},null,8,["modelValue"]),u(b,{type:"gray",size:"small",onClick:_(l.cancel,["prevent"])},{default:a(()=>[d(i(t.strings.discardChanges),1)]),_:1},8,["onClick"]),u(b,{type:"blue",size:"small",onClick:_(l.saveImage,["prevent"])},{default:a(()=>[d(i(t.strings.saveChanges),1)]),_:1},8,["onClick"])])):c("",!0)])],2)}const Y=I(St,[["render",Gt]]),qt={components:{CorePostColumn:Y,CoreTooltip:R,SvgLinkAffiliate:ht,SvgLinkExternal:gt,SvgLinkInternalInbound:_t,SvgLinkInternalOutbound:ft},props:{post:Object},data(){return{strings:{inboundInternal:this.$t.sprintf(this.$t.__("%1$sInbound Internal Links%2$sLinks from other posts to this post",this.$tdPro),"<strong>","</strong><br />"),outboundInternal:this.$t.sprintf(this.$t.__("%1$sOutbound Internal Links%2$sLinks from this post to other posts",this.$tdPro),"<strong>","</strong><br />"),affiliate:this.$t.__("Affiliate",this.$tdPro),external:this.$t.__("External",this.$tdPro)}}}},Ft={key:0,class:"links"},Xt=["innerHTML"],Qt=["innerHTML"];function Jt(e,s,o,p,t,l){const y=m("svg-link-internal-inbound"),v=m("core-tooltip"),T=m("svg-link-internal-outbound"),g=m("svg-link-affiliate"),w=m("svg-link-external"),k=m("core-post-column");return r(),h(k,{post:o.post},{default:a(()=>[o.post.linkCounts&&o.post.postType!=="attachment"?(r(),f("div",Ft,[u(v,{type:"action"},{tooltip:a(()=>[n("div",{innerHTML:t.strings.inboundInternal},null,8,Xt)]),default:a(()=>[n("div",null,[u(y),d(" "+i(o.post.linkCounts.inboundInternal),1)])]),_:1}),u(v,{type:"action"},{tooltip:a(()=>[n("div",{innerHTML:t.strings.outboundInternal},null,8,Qt)]),default:a(()=>[n("div",null,[u(T),d(" "+i(o.post.linkCounts.outboundInternal),1)])]),_:1}),u(v,{type:"action"},{tooltip:a(()=>[d(i(t.strings.affiliate),1)]),default:a(()=>[n("div",null,[u(g),d(" "+i(o.post.linkCounts.affiliate),1)])]),_:1}),u(v,{type:"action"},{tooltip:a(()=>[d(i(t.strings.external),1)]),default:a(()=>[n("div",null,[u(w),d(" "+i(o.post.linkCounts.external),1)])]),_:1})])):c("",!0)]),_:1},8,["post"])}const Kt=I(qt,[["render",Jt]]),Wt={components:{CorePostColumn:Y},props:{post:Object}};function Yt(e,s,o,p,t,l){const y=m("core-post-column");return r(),h(y,{post:o.post},null,8,["post"])}const $t=I(Wt,[["render",Yt]]),te={components:{PostColumn:Kt,PostColumnLite:$t},props:{post:Object}},ee={class:"aioseo-app"};function se(e,s,o,p,t,l){const y=m("PostColumn"),v=m("PostColumnLite");return r(),f("div",ee,[e.$isPro?(r(),h(y,{key:0,post:o.post},null,8,["post"])):c("",!0),e.$isPro?c("",!0):(r(),h(v,{key:1,post:o.post},null,8,["post"]))])}const ie=I(te,[["render",se]]),oe={setup(){const{strings:e}=F();return{composableStrings:e}},components:{BaseButton:Q,CoreHtmlTagsEditor:W,CoreLoader:J,CoreTooltip:R,SvgPencil:K},mixins:[X],props:{term:Object,terms:Array,index:Number},data(){return{termId:null,columnName:null,title:null,titleParsed:null,termDescription:null,descriptionParsed:null,showEditTitle:!1,showEditDescription:!1,showTruSeo:!1,termLoading:!1,strings:Z(this.composableStrings,{title:this.$t.__("Title",this.$td),description:this.$t.__("Description",this.$td),saveChanges:this.$t.__("Save Changes",this.$td),discardChanges:this.$t.__("Discard Changes",this.$td)})}},methods:{save(){this.showEditTitle=!1,this.showEditDescription=!1,this.term.title=this.title,this.term.description=this.termDescription,this.termLoading=!0,S.post(this.$links.restUrl("terms-list/update-details-column")).send({termId:this.term.id,title:this.term.title,description:this.term.description}).then(e=>{this.titleParsed=e.body.title,this.descriptionParsed=e.body.description,this.term.titleParsed=e.body.title,this.term.descriptionParsed=e.body.description}).catch(e=>{console.error(`Unable to update term with ID ${this.term.id}: ${e}`)}).finally(()=>{this.termLoading=!1})},cancel(){this.showEditTitle=!1,this.showEditDescription=!1},editTitle(){this.showEditTitle=!0},editDescription(){this.showEditDescription=!0},truncate:G},mounted(){this.termId=this.term.id,this.columnName=this.term.columnName,this.title=this.term.title,this.titleParsed=this.term.titleParsed,this.termDescription=this.term.description,this.descriptionParsed=this.term.descriptionParsed,this.term.reload&&this.save()},async created(){this.showTruSeo=at()}},ne={class:"aioseo-app"},le={class:"edit-row edit-title"},re={key:0},ae=n("strong",null,":",-1),ce={key:0,class:"edit-row"},de={class:"edit-row edit-description"},ue={key:0},pe=n("strong",null,":",-1),me={key:1,class:"edit-row"};function he(e,s,o,p,t,l){const y=m("core-loader"),v=m("svg-pencil"),T=m("core-tooltip"),g=m("core-html-tags-editor"),w=m("base-button");return r(),f("div",ne,[n("div",{class:B(["aioseo-details-column",{editing:t.showEditTitle||t.showEditDescription}])},[n("div",null,[n("div",null,[u(T,{class:"aioseo-details-column__tooltip"},{tooltip:a(()=>[n("strong",null,i(t.strings.title)+":",1),d(" "+i(t.titleParsed),1)]),default:a(()=>[n("div",le,[n("strong",null,i(t.strings.title),1),t.showEditTitle?c("",!0):(r(),f("span",re,[ae,d(" "+i(l.truncate(t.titleParsed,100)),1)])),t.termLoading?(r(),h(y,{key:1,dark:""})):c("",!0),t.showEditTitle?c("",!0):(r(),h(v,{key:2,class:"pencil-icon",onClick:_(l.editTitle,["prevent"])},null,8,["onClick"]))])]),_:1})]),t.showEditTitle?(r(),f("div",ce,[u(g,{modelValue:t.title,"onUpdate:modelValue":s[0]||(s[0]=k=>t.title=k),"line-numbers":!1,single:"","tags-context":"taxonomyTitle",defaultMenuOrientation:"bottom",tagsDescription:"","default-tags":["taxonomy_title"]},null,8,["modelValue"]),u(w,{type:"gray",size:"small",onClick:_(l.cancel,["prevent"])},{default:a(()=>[d(i(t.strings.discardChanges),1)]),_:1},8,["onClick"]),u(w,{type:"blue",size:"small",onClick:_(l.save,["prevent"])},{default:a(()=>[d(i(t.strings.saveChanges),1)]),_:1},8,["onClick"])])):c("",!0),n("div",null,[u(T,{class:"aioseo-details-column__tooltip"},{tooltip:a(()=>[n("strong",null,i(t.strings.description)+":",1),d(" "+i(t.descriptionParsed),1)]),default:a(()=>[n("div",de,[n("strong",null,i(t.strings.description),1),t.showEditDescription?c("",!0):(r(),f("span",ue,[pe,d(" "+i(l.truncate(t.descriptionParsed)),1)])),t.termLoading?(r(),h(y,{key:1,dark:""})):c("",!0),t.showEditDescription?c("",!0):(r(),h(v,{key:2,class:"pencil-icon",onClick:_(l.editDescription,["prevent"])},null,8,["onClick"]))])]),_:1})]),t.showEditDescription?(r(),f("div",me,[u(g,{modelValue:t.termDescription,"onUpdate:modelValue":s[1]||(s[1]=k=>t.termDescription=k),"line-numbers":!1,"tags-context":"taxonomyDescription",defaultMenuOrientation:"bottom",tagsDescription:"","default-tags":["taxonomy_description"]},null,8,["modelValue"]),u(w,{type:"gray",size:"small",onClick:_(l.cancel,["prevent"])},{default:a(()=>[d(i(t.strings.discardChanges),1)]),_:1},8,["onClick"]),u(w,{type:"blue",size:"small",onClick:_(l.save,["prevent"])},{default:a(()=>[d(i(t.strings.saveChanges),1)]),_:1},8,["onClick"])])):c("",!0)])],2)])}const ge=I(oe,[["render",he]]);V();const D=j(),_e=A(),{posts:L}=window.aioseo,{$emit:fe}=window.aioseoBus,z=({page:e,result:s,loading:o})=>{window.aioseo.posts=window.aioseo.posts.map(p=>(p.page===e&&(p.inspectionResult=s,p.inspectionResultLoading=o,fe("updateInspectionResult"+p.id,p)),p))},we=()=>{var p,t,l;const e=!D.unverifiedSite,s=typeof((l=(t=(p=_e.internalOptions.internal)==null?void 0:p.searchStatistics)==null?void 0:t.profile)==null?void 0:l.key)=="string",o=D.quotaExceeded.urlInspection;return e&&s&&!o};if(L!=null&&L.length&&we()){const e=Object.values(L).filter(s=>{var o;return s.isPostVisible&&(!s.inspectionResult||((o=s.inspectionResult)==null?void 0:o.length)===0)});e.length&&(e.forEach(s=>{z({page:s.page,result:s.inspectionResult,loading:!0})}),D.getInspectionResult(e.map(s=>s.page)).then(s=>{e.forEach(o=>{z({page:o.page,result:s[o.page],loading:!1})})}))}V();const $=e=>(e=ot(e),e=nt(e),e=lt(e),V(e),e.config.globalProperties.$truSeo=new ct,e),tt=e=>{const s=document.getElementById(e);s!=null&&s.__vue_app__&&s.__vue_app__.unmount()},et=e=>{tt(`${e.columnName}-${e.id}`),$(U({name:"Standalone/PostsTable/"+e.id,data(){return{screen:window.aioseo.screen}},render:()=>H(ie)},{post:e})).mount(`#${e.columnName}-${e.id}`)},st=e=>{if(!e)return;const s=document.createElement("input");s.setAttribute("type","hidden"),s.setAttribute("name","aioseo-has-details-column"),s.setAttribute("value",!0),e.append(s)};window.aioseo.posts&&0<window.aioseo.posts.length&&S.post(q.restUrl("posts-list/load-details-column")).send({ids:window.aioseo.posts.map(e=>e.id)}).then(e=>{window.aioseo.posts=window.aioseo.posts.map(s=>({...s,...e.body.posts.find(o=>o.id===s.id)})),window.aioseo.posts.forEach(s=>{et(s)})});const x=e=>{tt(`${e.columnName}-${e.id}`),$(U({name:"Standalone/TermsTable/"+e.id,data(){return{screen:window.aioseo.screen}},render:()=>H(ge)},{term:e})).mount(`#${e.columnName}-${e.id}`)};window.aioseo.terms&&0<window.aioseo.terms.length&&window.aioseo.posts.length===0&&S.post(q.restUrl("terms-list/load-details-column")).send({ids:window.aioseo.terms.map(e=>e.id)}).then(e=>{window.aioseo.terms=window.aioseo.terms.map(s=>({...s,...e.body.terms.find(o=>o.id===s.id)})),window.aioseo.terms.forEach(s=>{x(s)})});st(document.querySelector("#inline-edit div"));st(document.getElementById("addtag"));(function(e){e(document).on("ajaxComplete",(s,o,p)=>{var y,v;const t=new URLSearchParams(p.data),l=t==null?void 0:t.get("action");if(!(!t||!l)){if(l==="inline-save"){const{post_ID:T}=Object.fromEntries(t.entries()),g=window.aioseo.posts.find(w=>w.id===parseInt(T));et({...g,reload:!0})}if(l==="inline-save-tax"){const{tax_ID:T}=Object.fromEntries(t.entries()),g=window.aioseo.terms.find(w=>w.id===parseInt(T));x({...g,reload:!0})}if(l==="add-tag"){const T=e(o.responseXML).find("term_id").text(),g=e(o.responseXML).find("term taxonomy").text(),w=A();x({id:parseInt(T),columnName:"aioseo-details",title:(y=w.dynamicOptions.searchAppearance.taxonomies[g])==null?void 0:y.title,description:(v=w.dynamicOptions.searchAppearance.taxonomies[g])==null?void 0:v.metaDescription,reload:!0})}}})})(window.jQuery);
