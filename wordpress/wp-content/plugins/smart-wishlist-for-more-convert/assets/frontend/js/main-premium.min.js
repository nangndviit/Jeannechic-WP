!function a(i,n,r){function l(e,t){if(!n[e]){if(!i[e]){var o="function"==typeof require&&require;if(!t&&o)return o(e,!0);if(s)return s(e,!0);throw(t=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",t}o=n[e]={exports:{}},i[e][0].call(o.exports,function(t){return l(i[e][1][t]||t)},o,o.exports,a,i,n,r)}return n[e].exports}for(var s="function"==typeof require&&require,t=0;t<r.length;t++)l(r[t]);return l}({1:[function(t,e,o){"use strict";function n(e,t){var o,a=Object.keys(e);return Object.getOwnPropertySymbols&&(o=Object.getOwnPropertySymbols(e),t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,o)),a}function w(a){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(Object(i),!0).forEach(function(t){var e,o;e=a,o=i[t=t],(t=function(t){t=function(t,e){if("object"!=h(t)||!t)return t;var o=t[Symbol.toPrimitive];if(void 0===o)return("string"===e?String:Number)(t);o=o.call(t,e||"default");if("object"!=h(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==h(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach(function(t){Object.defineProperty(a,t,Object.getOwnPropertyDescriptor(i,t))})}return a}function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var g;(g=jQuery).noConflict(),g(document).ready(function(){var n,t,u=[],_=[],e=wlfmc_l10n.lang,a=null,o=wlfmc_l10n.wishlist_items,i=wlfmc_l10n.waitlist_items,c=!1;g.fn.WLFMC={init_prepare_qty_links:function(){var t=document.querySelectorAll(".wlfmc-wishlist-table .quantity");if(t.length<1)return!1;for(var e=0;e<t.length;e++){if(t[e].classList.contains("hidden"))return!1;var o=t[e].querySelector(".botiga-quantity-plus, a.plus, .ct-increase"),a=t[e].querySelector(".botiga-quantity-minus, a.minus, .ct-decrease");if(!o||!a||o.length<1||a.length<1)return!1;o.classList.add("show"),a.classList.add("show");var i=o.cloneNode(!0),n=a.cloneNode(!0);i.addEventListener("click",function(t){t.preventDefault();var t=this.parentNode.querySelector(".qty"),e=parseFloat(t.value,10)||0,o=document.createEvent("HTMLEvents"),a=t.getAttribute("max")&&parseFloat(t.getAttribute("max"),0)||1/0;return t.value=e<a?Math.round(100*(e+parseFloat(t.step||"1")))/100:a,o.initEvent("change",!0,!1),t.dispatchEvent(o),!1}),n.addEventListener("click",function(t){t.preventDefault();var t=this.parentNode.querySelector(".qty"),e=parseFloat(t.value,10)||0,o=document.createEvent("HTMLEvents"),a=t.getAttribute("min")?Math.round(100*parseFloat(t.getAttribute("min"),0))/100:0;return t.value=a<e?Math.round(100*(e-parseFloat(t.step||"1")))/100:a,o.initEvent("change",!0,!1),t.dispatchEvent(o),!1}),t[e].replaceChild(i,o),t[e].replaceChild(n,a)}},prepare_mini_wishlist:function(t){var e,o,a,i,n,r,l,s,c,d,f;t.hasClass("position-absolute")?(s=(c=t.offset()).left,c=c.top,d=t.outerWidth(),e=t.outerHeight(),n=s-(s=parseFloat(t.css("left"))),o=c-(c=parseFloat(t.css("top"))),s=s,c=c,l=(f=g(window).width())-n-d-50,r=50-n,i=(a=g(document).height())-o-e-50,f<=d?s=-1*n:f-(d+100)<0?s=(f-d)/2-n:0<r?s=r:l<0&&(s=l),a<e&&(t.height(a-t.outerHeight()+t.height()),e=t.outerHeight()),a<=e?c=-1*o:a-(e+100)<0?c=(a-e)/2-o:i<0&&(c=i),t.css({left:s,top:c})):void 0!==(n=g(".wlfmc-counter-wrapper."+t.attr("data-id")))&&0<n.length&&(r=n.offset(),l=g(window).scrollTop(),s=r.left,c=r.top+n.height()-l,d=t.outerWidth(),f=g(window).width(),t.css({left:s=f<s+d?f-d-20:s,top:c}))},appendtoBody:function(t){var e,o,a;0<!t.closest(".wlfmc-counter-wrapper").find(".position-fixed").length||(e=t.closest(".wlfmc-counter-wrapper").find(".wlfmc-counter-items").hasClass("wlfmc-lists-counter-dropdown")?"wlfmc-premium-list-counter":t.closest(".wlfmc-counter-wrapper").hasClass("wlfmc-waitlist-counter-wrapper")?"wlfmc-waitlist-counter":"wlfmc-wishlist-counter",0<t.closest(".elementor-widget-wlfmc-wishlist-counter").length||0<t.closest(".elementor-widget-wlfmc-waitlist-counter").length||0<t.closest(".elementor-widget-wlfmc-premium-list-counter").length?(a=t.closest(".elementor-widget-wlfmc-wishlist-counter").data("id")||t.closest(".elementor-widget-wlfmc-waitlist-counter").data("id")||t.closest(".elementor-widget-wlfmc-premium-list-counter").data("id"),o=t.closest("[data-elementor-id]").data("elementor-id"),g("<div class='wlfmc-elementor elementor elementor-"+o+" "+e+"'><div class='elementor-element elementor-element-"+a+"'></div></div>").appendTo("body"),g(".wlfmc-elementor.elementor-"+o+" .elementor-element-"+a).append(t)):0<!t.closest(".wlfmc-elementor").length&&(a=t.closest(".wlfmc-counter-wrapper").find(".wlfmc-counter-items").data("id"),g("<div class='wlfmc-elementor no-elementor-"+a+" "+e+"'></div>").appendTo("body"),g(".wlfmc-elementor.no-elementor-"+a).append(t)))},show_mini_wishlist:function(){g(".wlfmc-counter-dropdown").removeClass("lists-show");var t=g(".dropdown_"+g(this).attr("data-id"))||g(this).closest(".wlfmc-counter-wrapper").find(".wlfmc-counter-dropdown");g.fn.WLFMC.appendtoBody(t.closest(".wlfmc-counter-wrapper")),g.fn.WLFMC.prepare_mini_wishlist(t),t.addClass("lists-show")},hide_mini_wishlist:function(){var t=g(this).closest(".wlfmc-counter-wrapper").find(".wlfmc-counter-dropdown");g(".wlfmc-first-touch").removeClass("wlfmc-first-touch"),g(".wlfmc-first-click").removeClass("wlfmc-first-click"),t.removeClass("lists-show")},reInit_wlfmc:function(){g(document).trigger("wlfmc_init")},init_drag_n_drop:function(){g("table.wlfmc-wishlist-items-wrapper").filter(".sortable").not(".no-interactions").each(function(){var n=g(this),r=!1;n.sortable({items:".wlfmc-table-item[data-row-id]",handle:".sortable-handle",placeholder:"ui-sortable-placeholder",scroll:!0,scrollSensitivity:40,tolerance:"pointer",helper:function(t,e){return e.children().each(function(){var t=g(this).closest(".wishlist-items-wrapper").find(".show-meta-data");0<t.length&&t.removeClass("show-meta-data"),0<(t=g(this).closest(".wishlist-items-wrapper").find(".wlfmc-row-meta-data")).length&&t.addClass("hide")}),e},update:function(t,e){var o=n.find("[data-row-id]"),a=[],i=0;o.length&&(r&&r.abort(),o.each(function(){var t=g(this),e=(t.find('input[name*="[position]"]').val(i++),a.push(t.data("row-id")),t.closest(".wishlist-items-wrapper").find(".parent-row-id-"+t.data("row-id")));0<e.length&&t.after(e)}),r=g.ajax({data:{action:wlfmc_l10n.actions.sort_wishlist_items,nonce:g("#wlfmc-wishlist-form table.wlfmc-wishlist-table").data("nonce"),context:"frontend",positions:a,wishlist_token:n.data("token"),page:n.data("page"),per_page:n.data("per-page")},method:"POST",url:wlfmc_l10n.admin_url}))}}).disableSelection()})},init_tooltip:function(){function i(t,e){var o,e=g(e),t=g(t),a=g("body").offset(),i=(g("body").css({position:"relative"}),l.show(),l.hide(),(e.outerHeight()-t.outerHeight())/2),n=-t.outerWidth()/2+e.outerWidth()/2,n={top:[-t.outerHeight()-7,n],right:[i,e.outerWidth()+7],bottom:[e.outerHeight()+7,n],left:[i,-t.outerWidth()-7]},i=["top","right","bottom","left"];Object.keys(n),"top"===l.direction||"bottom"===l.direction?(t.css("top",e.offset().top-a.top+n[l.direction][0]),t.css("left",e.offset().left-a.left+3.5+n[l.direction][1])):(o=(o=n[l.direction][0]-3.5)<0?o+3.5:o,t.css("top",e.offset().top-a.top+o),t.css("left",e.offset().left-a.left+n[l.direction][1])),r(t)&&(l.direction=i[i.indexOf(l.direction)+1]),l.show()}var r=function(t){return t.offsetLeft+t.offsetWidth<0||t.offsetTop+t.offsetHeight<0||t.offsetLeft+t.offsetWidth>window.innerWidth||t.offsetTop+t.offsetHeight>window.innerHeight},l=new function(){var a=this;this.idSelector="wlfmc-tooltip",this.text="",this.top=0,this.left=0,this.direction=void 0!==this.direction?this.direction:"bottom",this.t_type=void 0!==this.t_type?this.t_type:"default",this.target="",this.node=document.getElementById(this.idSelector),this.node||(this.node=document.createElement("div"),this.node.setAttribute("id",this.idSelector),this.node.className=this.node.className+"tooltip__hidden",this.node.innerHTML=this.text,document.body.appendChild(this.node)),this.show=function(){var t=["top","right","bottom","left"],e=(a.node.innerHTML=a.text,a.direction),o=a.t_type;e?g(this.node).addClass("tooltip__expanded tooltip__expanded-"+e):g(this.node).addClass("tooltip__expanded"),g(this.node).addClass("wlfmc-tooltip-"+o),g(this.node).removeClass("tooltip__hidden"),r(g(l.node))&&(l.hide(),l.direction=t[t.indexOf(l.direction)+1],i(l.node,l.target))},this.hide=function(){g(a.node).css("top","0"),g(a.node).css("left","0"),g(a.node).attr("class",""),g(a.node).addClass("tooltip__hidden")}};g(document).on("mouseover",".wlfmc-tooltip",function(t){(l.target=this).className.split(" ").forEach(function(t){-1!=t.indexOf("wlfmc-tooltip-")&&(l.direction=t.split("-")[t.split("-").length-1])}),g(this).attr("data-tooltip-type")&&(l.t_type=g(this).attr("data-tooltip-type")),g(this).attr("data-tooltip-text")&&(l.text=g(this).attr("data-tooltip-text"),i(l.node,l.target))}),g(document).on("mouseout",".wlfmc-tooltip",function(t){l.hide()})},init_fix_on_image_single_position:function(){0<g(".woocommerce-product-gallery__wrapper .wlfmc-top-of-image").length&&g(".woocommerce-product-gallery__wrapper .wlfmc-top-of-image").each(function(){g(this).insertAfter(g(this).parent())})},init_wishlist_popup:function(){function e(t,e){void 0!==t.classList&&t.classList.contains("wlfmc-overlay")&&(t="remove"===e?"removeClass":"addClass",g("body")[t]("wlfmc-with-popup"))}function o(t){e(t,"add")}function a(t){e(t,"remove")}new MutationObserver(function(t){for(var e in t){e=t[e];"childList"===e.type&&(void 0!==e.addedNodes&&e.addedNodes.forEach(o),void 0!==e.removedNodes&&e.removedNodes.forEach(a))}}).observe(document.body,{childList:!0})},init_checkbox_handling:function(){var a=g(".wlfmc-wishlist-table, .wlfmc-save-for-later-table").find('tbody .product-checkbox input[type="checkbox"]'),i=g(".multiple-product-move,.multiple-product-copy");a.off("change").on("change",function(t){t.preventDefault();var e,t=g(this),o=t.parent();return t.is(":checked")||(g('input[name="'+t.attr("name")+'"]').prop("checked",!1),g("#bulk_add_to_cart").prop("checked",!1),g("#bulk_add_to_cart2").prop("checked",!1)),o.removeClass("checked").removeClass("unchecked").addClass(t.is(":checked")?"checked":"unchecked"),0<i.length&&(a.is(":checked")?i.show():i.hide(),o=g(this).closest("tr").attr("data-item-id"),e=i.attr("data-item-id"),t.is(":checked")?e=e?((e=e.split(",")).push(o),e.join(",")):o:e&&(-1!==(t=(e=e.split(",")).indexOf(o))&&e.splice(t,1),e=e.join(",")),i.attr("data-item-id",e)),!1}).trigger("change")},init_handling_after_ajax:function(){this.init_prepare_qty_links(),this.init_checkbox_handling(),this.init_drag_n_drop(),this.init_dropdown_lists(),g(document).trigger("wlfmc_init_after_ajax")},init_quantity:function(){var r,l;g(document).on("change",".wlfmc-wishlist-table .quantity :input, .wlfmc-save-for-later-table .quantity :input",function(){var t=g(this),e=t.closest("[data-row-id]"),o=e.data("row-id"),a=e.data("cart-item-key"),i=t.closest(".wlfmc-wishlist-table,.wlfmc-save-for-later-table"),n=i.data("token");clearTimeout(l),e.find(".add_to_cart_button").attr("data-quantity",t.val()),l=setTimeout(function(){r&&r.abort(),r=g.ajax({url:wlfmc_l10n.ajax_url,data:{action:wlfmc_l10n.actions.update_item_quantity,nonce:i.data("nonce"),context:"frontend",product_id:o,cart_item_key:a,wishlist_token:n,quantity:t.val()},method:"POST",beforeSend:function(t){"rest_api"===wlfmc_l10n.ajax_mode&&t.setRequestHeader("X-WP-Nonce",wlfmc_l10n.nonce),g.fn.WLFMC.block(e)},complete:function(){g.fn.WLFMC.unblock(e)},success:function(t){g.fn.WLFMC.load_fragments()}})},1e3)})},init_popups:function(){g("body").on("click",".wlfmc-popup-trigger:not(.wlfmc-disabled)",function(t){t.preventDefault();var e,t=g(this).data("popup-id"),o=g("#"+t);return g("#"+t+"_wrapper").length||(e={absolute:!1,color:"#333",transition:"all 0.3s",horizontal:o.data("horizontal"),vertical:o.data("vertical")},o.popup(e)),g("#"+t).popup("show"),!1}),g("body").on("click",".wlfmc-popup-close",function(t){t.preventDefault();t=g(this).data("popup-id");return g("#"+t).popup("hide"),!1})},init_layout:function(){var o,a;g(document).on("click",".wlfmc-toggle-layout",function(t){t.preventDefault();var e=g(this);return e.toggleClass("list").toggleClass("grid"),e.closest(".wlfmc-wishlist-form").find(".wlfmc-list").toggleClass("view-mode-list").toggleClass("view-mode-grid"),clearTimeout(a),a=setTimeout(function(){o&&o.abort(),o=g.ajax({url:wlfmc_l10n.ajax_url,data:{action:wlfmc_l10n.actions.change_layout,nonce:e.data("nonce"),context:"frontend",new_layout:e.hasClass("list")?"grid":"list"},method:"POST",beforeSend:function(t){"rest_api"===wlfmc_l10n.ajax_mode&&t.setRequestHeader("X-WP-Nonce",wlfmc_l10n.nonce)},complete:function(){}})},1e3),!1})},init_components:function(){g(document).on("click",".wlfmc-list .product-components",function(t){t.preventDefault();var t=g(this).closest("tr"),e=t.find(".wlfmc-absolute-meta-data"),o=t.next(".wlfmc-row-meta-data").filter(".wlfmc-row-meta-data"),a=o.hasClass("hide");return e.fadeToggle(),o.toggleClass("hide"),t.toggleClass("show-meta-data",a),!1}),g(document).on("click",".wlfmc-list .close-components",function(t){t.preventDefault();t=g(this).closest("tr");return t.find(".wlfmc-absolute-meta-data").fadeToggle(),t.removeClass("show-meta-data"),!1})},init_popup_checkbox_handling:function(){g(document).on("change",".list-item-checkbox",function(){var t,e=g(this).closest(".list-item"),o=g(this).closest(".wlfmc-add-to-list-container, .wlfmc-move-to-list-wrapper, .wlfmc-copy-to-list-wrapper");o.hasClass("wlfmc-add-to-list-container")&&(g(this).is(":checked")?e.addClass("selected"):e.removeClass("selected")),(o.hasClass("wlfmc-move-to-list-wrapper")||o.hasClass("wlfmc-copy-to-list-wrapper"))&&(t=o.find('input[type="checkbox"]'),o.find(".list-item").removeClass("selected"),g(this).is(":checked")&&(e.addClass("selected"),t.not(g(this)).prop("checked",!1)))})},init_dropdown_lists:function(){var t=g("#wlfmc_my_lists");t&&0!==t.length&&(t.data("editable-select")&&t.wlfmcDropDown("destroy"),t.on("select.editable-select",function(t,e){void 0!==e&&(g(this).closest(".wlfmc-dropdown-wrapper").addClass("wlfmc-action wlfmc-loading-alt wlfmc-inverse"),g(this).val(g(this).closest(".wlfmc-dropdown-wrapper").find('.list-item[data-wishlist-id="'+e.val()+'"] .list-name').text()),window.location.href=g(this).closest(".wlfmc-dropdown-wrapper").find('.list-item[data-wishlist-id="'+e.val()+'"]').data("url"))}).wlfmcDropDown({effects:"slide"}))},init_copy_wishlist_link:function(){g(document).on("click",".copy-link-trigger",function(t){t.stopImmediatePropagation(),t.preventDefault();t=g(this),t=g("<input/>",{val:t.attr("data-href"),type:"text"});return g("body").append(t),g.fn.WLFMC.isOS()?t[0].setSelectionRange(0,9999):t.select(),document.execCommand("copy"),t.remove(),toastr.success(wlfmc_l10n.labels.link_copied),!1})},retrieve_fragments:function(t){var o={},e=null;return t?"object"===h(t)?(e=(t=g.extend({fragments:null,s:"",container:g(document),firstLoad:!1},t)).fragments||t.container.find(".wlfmc-wishlist-fragment"),t.s&&(e=e.not("[data-fragment-ref]").add(e.filter('[data-fragment-ref="'+t.s+'"]'))),t.firstLoad&&(e=e.filter(".on-first-load"))):(e=g(".wlfmc-wishlist-fragment"),"string"!=typeof t&&"number"!=typeof t||(e=e.not("[data-fragment-ref]").add(e.filter('[data-fragment-ref="'+t+'"]')))):e=g(".wlfmc-wishlist-fragment"),e.length?(e.each(function(){var t=g(this),e=t.attr("class").split(" ").filter(function(t){return t.length&&"exists"!==t}).join(wlfmc_l10n.fragments_index_glue);o[e]=t.data("fragment-options")}),o):null},load_fragments:function(o,a,i){clearTimeout(t),t=setTimeout(function(){n&&n.abort(),o=g.extend({firstLoad:!0},o);var t=g.fn.WLFMC.retrieve_fragments(o),e=new FormData;e.append("action",wlfmc_l10n.actions.load_fragments),e.append("context","frontend"),t&&(t=JSON.stringify(t),t=new File([t],"fragment.json"),e.append("fragments_file",t)),n=g.ajax({url:wlfmc_l10n.admin_url,data:e,type:"POST",contentType:!1,processData:!1,success:function(t){void 0!==t.fragments&&("function"==typeof a&&a.apply(null,i),g.fn.WLFMC.replace_fragments(t.fragments),g.fn.WLFMC.init_handling_after_ajax()),g("#wlfmc-lists,#wlfmc-wishlist-form").addClass("on-first-load"),void 0!==t.products&&g.fn.WLFMC.set_products_hash(JSON.stringify(t.products)),void 0!==t.waitlist&&g.fn.WLFMC.set_waitlist_hash(JSON.stringify(t.waitlist)),void 0!==t.lang&&g.fn.WLFMC.set_lang_hash(t.lang)}})},100)},replace_fragments:function(t){g.each(t,function(t,e){var t="."+t.split(wlfmc_l10n.fragments_index_glue).filter(function(t){return t.length&&"exists"!==t&&"with-count"!==t}).join("."),o=g(t),a=g(e).filter(t);a.length||(a=g(e).find(t)),o.length&&a.length&&o.replaceWith(a)})},load_automations:function(t,e,o,a,i){g.ajax({url:wlfmc_l10n.ajax_url,data:{action:wlfmc_l10n.actions.load_automations,nonce:i,context:"frontend",product_id:parseInt(t),wishlist_id:parseInt(e),customer_id:parseInt(o),list_type:a},method:"POST",beforeSend:function(t){"rest_api"===wlfmc_l10n.ajax_mode&&t.setRequestHeader("X-WP-Nonce",wlfmc_l10n.nonce)},complete:function(){}})},add_to_save_for_later:function(t,e){t={action:wlfmc_l10n.actions.add_to_save_for_later_action,nonce:wlfmc_l10n.ajax_nonce.add_to_save_for_later_nonce,context:"frontend",add_to_save_for_later:t,merge_save_for_later:wlfmc_l10n.merge_save_for_later,remove_from_cart_item:wlfmc_l10n.remove_from_cart_item};g.fn.WLFMC.is_cookie_enabled()?g.ajax({url:wlfmc_l10n.save_for_later_ajax_url,data:t,type:"POST",cache:!1,beforeSend:function(t){"rest_api"===wlfmc_l10n.ajax_mode&&t.setRequestHeader("X-WP-Nonce",wlfmc_l10n.nonce),e&&e.length&&g.fn.WLFMC.loading(e)},complete:function(){e&&e.length&&g.fn.WLFMC.unloading(e)},success:function(t){var e,o=t.result,a=t.message;"true"===o&&(g.fn.WLFMC.load_fragments(),""!==g.trim(wlfmc_l10n.labels.sfl_product_added_text)&&toastr.success(wlfmc_l10n.labels.sfl_product_added_text),e=wlfmc_l10n.merge_save_for_later?wlfmc_l10n.merge_lists?"lists":"wishlist":"save-for-later",g.fn.WLFMC.load_automations(t.product_id,t.wishlist_id,t.customer_id,e,t.load_automation_nonce),"undefined"!==t.count&&g(".wlfmc-tabs-wrapper").attr("data-count",t.count),g(document.body).trigger("wc_update_cart")),""!==g.trim(t.message)&&"true"!==o&&toastr.error(a)}}):window.alert(wlfmc_l10n.labels.cookie_disabled)},check_waitlist_modules:function(s,c,d){var f,t;c&&d&&(f="variation",s||(d=c,f="variable"),t=g('.wlfmc-add-to-waitlist [data-parent-product-id="'+c+'"]'),g('.wlfmc-add-to-outofstock [data-parent-product-id="'+c+'"]').each(function(){var t=g(this),e=t.closest(".wlfmc-add-to-outofstock"),t=(t.attr("data-parent-product-id",c),t.attr("data-product-id",d),e.removeClass(function(t,e){return e.match(/wlfmc-add-to-outofstock-\S+/g).join(" ")}).addClass("wlfmc-add-to-outofstock-"+d).removeClass("exists"),g(".wlfmc-add-to-outofstock-"+d));0===t.length&&(t=g(".wlfmc-add-to-outofstock-"+c)),null!==s?s.is_in_stock||g.fn.WLFMC.isTrue(s.exclude_back_in_stock)?t.addClass("hide"):t.removeClass("hide"):(e=t.data("product-outofstock"),g.fn.WLFMC.isTrue(e)?t.removeClass("hide"):t.addClass("hide")),g.each(_,function(t,e){var o;void 0!==e&&e.product_id&&e.product_id===d&&((o=g(".wlfmc-add-to-outofstock-"+e.product_id)).removeClass("exists"),o.each(function(){g.fn.WLFMC.isTrue(e.back_in_stock)&&g(this).addClass("exists")}))}),t.find(".wlfmc-add-button > a").attr("data-parent-product-id",c).attr("data-product-id",d).attr("data-product-type",f)}),t.each(function(){var t=g(this),o=t.closest(".wlfmc-add-to-waitlist"),a=g("#"+t.closest(".wlfmc-add-to-waitlist").data("popup-id")),e=!!a.length&&a.find('input[name="list_back-in-stock"]'),i=!!a.length&&a.find('input[name="list_price-change"]'),n=!!a.length&&a.find('input[name="list_low-stock"]'),r=!!a.length&&a.find('input[name="list_on-sale"]'),l=o.data("available-lists");o.removeClass("opacity-half"),s&&(s.is_in_stock?(0<n.length&&(s.enable_low_stock&&g.fn.WLFMC.isTrue(s.enable_low_stock)&&!g.fn.WLFMC.isTrue(s.exclude_low_stock)?n.closest(".list-item").removeClass("hide"):n.closest(".list-item").addClass("hide")),0<i.length&&(g.fn.WLFMC.isTrue(s.exclude_price_change)?i.closest(".list-item").addClass("hide"):i.closest(".list-item").removeClass("hide")),0<e.length&&e.closest(".list-item").addClass("hide"),0<r.length&&(s.display_price!==s.display_regular_price||g.fn.WLFMC.isTrue(s.exclude_on_sale)?r.closest(".list-item").addClass("hide"):r.closest(".list-item").removeClass("hide")),a.find(".wlfmc-waitlist-select-type .list-item:not(.hide)").length||o.addClass("opacity-half")):"object"===h(l)&&"back-in-stock"in l&&!g.fn.WLFMC.isTrue(s.exclude_back_in_stock)?(0<e.length&&e.closest(".list-item").removeClass("hide"),0<i.length&&i.closest(".list-item").addClass("hide"),0<n.length&&n.closest(".list-item").addClass("hide"),0<r.length&&r.closest(".list-item").addClass("hide")):o.addClass("opacity-half")),t.attr("data-parent-product-id",c),t.attr("data-product-id",d),a.find('input[name="list_back-in-stock"]').prop("checked",!1),a.find('input[name="list_price-change"]').prop("checked",!1),a.find('input[name="list_on-sale"]').prop("checked",!1),a.find('input[name="list_low-stock"]').prop("checked",!1),o.removeClass(function(t,e){return e.match(/wlfmc-add-to-waitlist-\S+/g).join(" ")}).addClass("wlfmc-add-to-waitlist-"+d).removeClass("exists"),g.each(_,function(t,e){void 0!==e&&e.product_id&&e.product_id==d&&((g.fn.WLFMC.isTrue(e.price_change)||g.fn.WLFMC.isTrue(e.on_sale)||g.fn.WLFMC.isTrue(e.low_stock)||g.fn.WLFMC.isTrue(e.back_in_stock)&&0<a.find('input[name="list_back-in-stock"]').length)&&o.addClass("exists"),g.fn.WLFMC.isTrue(e.back_in_stock)&&a.find('input[name="list_back-in-stock"]').prop("checked",!0),g.fn.WLFMC.isTrue(e.price_change)&&a.find('input[name="list_price-change"]').prop("checked",!0),g.fn.WLFMC.isTrue(e.on_sale)&&a.find('input[name="list_on-sale"]').prop("checked",!0),g.fn.WLFMC.isTrue(e.low_stock)&&a.find('input[name="list_low-stock"]').prop("checked",!0))}),a.find(".wlfmc_add_to_waitlist").attr("data-parent-product-id",c).attr("data-product-id",d).attr("data-product-type",f),"variable"===f&&g.fn.WLFMC.isTrue(wlfmc_l10n.waitlist_required_product_variation)?o.find(".wlfmc-popup-trigger").addClass("wlfmc-disabled"):o.find(".wlfmc-popup-trigger").removeClass("wlfmc-disabled")}))},check_products:function(t){var e;null!==t&&(u=[],(e=g(".wlfmc-products-counter-wrapper .wlfmc-counter-item")).length&&u.length&&e.each(function(){var e=g(this).attr("data-row-id");g.grep(u,function(t){return t.product_id===e}).length||g(".wlfmc-products-counter-wrapper").find('[data-row-id="'+e+'"]').remove()}),(e=g(".wlfmc-wishlist-form .wlfmc-table-item")).length&&u.length&&e.each(function(){var e=g(this).attr("data-row-id");g.grep(u,function(t){return t.product_id===e}).length||g(".wlfmc-wishlist-form").find('[data-row-id="'+e+'"]').remove()}),g(".wlfmc-add-to-wishlist").removeClass("exists"),g.each(t,function(t,e){g(".wlfmc-add-to-wishlist-"+e.product_id).each(function(){g(this).addClass("exists"),g(this).find(".wlfmc_delete_item").attr("data-item-id",e.item_id),g(this).find(".wlfmc_delete_item").attr("data-wishlist-id",e.wishlist_id)}),g(".wlfmc-products-counter-wrapper  .products-counter-number").text(e.length),g(".wlfmc-products-counter-wishlist .total-products .wlfmc-total-count").text(e.length),u.push(e)}))},check_waitlist_products:function(t){var e;null!==t&&(_=[],(e=g(".wlfmc-waitlist-counter-wrapper .wlfmc-counter-item")).length&&_.length&&e.each(function(){var e=g(this).attr("data-row-id");g.grep(_,function(t){return t.product_id===e}).length||g(".wlfmc-waitlist-counter-wrapper").find('[data-row-id="'+e+'"]').remove()}),(e=g(".wlfmc-waitlist-table .wlfmc-table-item")).length&&_.length&&e.each(function(){var e=g(this).attr("data-row-id");g.grep(_,function(t){return t.product_id===e}).length||g(".wlfmc-waitlist-table").find('[data-row-id="'+e+'"]').remove()}),g(".wlfmc-add-to-outofstock").removeClass("exists"),g(".wlfmc-add-to-waitlist").removeClass("exists"),g.each(t,function(t,e){g(".wlfmc-add-to-waitlist-"+e.product_id).each(function(){var t=g("#"+g(this).data("popup-id"));(g.fn.WLFMC.isTrue(e.price_change)||g.fn.WLFMC.isTrue(e.on_sale)||g.fn.WLFMC.isTrue(e.low_stock)||g.fn.WLFMC.isTrue(e.back_in_stock)&&0<t.find('input[name="list_back-in-stock"]').length)&&g(this).addClass("exists"),g.fn.WLFMC.isTrue(e.back_in_stock)?t.find('input[name="list_back-in-stock"]').prop("checked",!0):t.find('input[name="list_back-in-stock"]').prop("checked",!1),g.fn.WLFMC.isTrue(e.price_change)?t.find('input[name="list_price-change"]').prop("checked",!0):t.find('input[name="list_price-change"]').prop("checked",!1),g.fn.WLFMC.isTrue(e.on_sale)?t.find('input[name="list_on-sale"]').prop("checked",!0):t.find('input[name="list_on-sale"]').prop("checked",!1),g.fn.WLFMC.isTrue(e.low_stock)?t.find('input[name="list_low-stock"]').prop("checked",!0):t.find('input[name="list_low-stock"]').prop("checked",!1)}),g(".wlfmc-add-to-outofstock-"+e.product_id).each(function(){g.fn.WLFMC.isTrue(e.back_in_stock)&&g(this).addClass("exists")}),g(".wlfmc-waitlist-counter-wrapper  .products-counter-number").text(e.length),g(".wlfmc-products-counter-waitlist .total-products .wlfmc-total-count").text(e.length),_.push(e)}))},set_products_hash:function(t){l&&(localStorage.setItem(d,t),sessionStorage.setItem(d,t)),g.fn.WLFMC.check_products(JSON.parse(t))},set_waitlist_hash:function(t){l&&(localStorage.setItem(f,t),sessionStorage.setItem(f,t)),g.fn.WLFMC.check_waitlist_products(JSON.parse(t))},set_lang_hash:function(t){l&&(localStorage.setItem(m,t),sessionStorage.setItem(m,t))},validateEmail:function(t){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(t).toLowerCase())},isTrue:function(t){return!0===t||"yes"===t||"1"===t||1===t||"true"===t},isOS:function(){return navigator.userAgent.match(/ipad|iphone/i)},loading:function(t){0<t.find("i").length?t.addClass("wlfmc-action wlfmc-loading"):t.addClass("wlfmc-action wlfmc-loading-alt")},unloading:function(t){t.removeClass("wlfmc-loading wlfmc-loading-alt")},block:function(t){void 0!==g.fn.block&&wlfmc_l10n.enable_ajax_loading&&t.fadeTo("400","0.6").block({message:null,overlayCSS:{background:"transparent url("+wlfmc_l10n.ajax_loader_url+") no-repeat center",backgroundSize:"40px 40px",opacity:1}})},table_block:function(){void 0!==g.fn.block&&g(".wlfmc-wishlist-table-wrapper, .wlfmc-save-for-later-table-wrapper").fadeTo("400","0.6").block({message:null,overlayCSS:{background:"transparent url("+wlfmc_l10n.ajax_loader_url+") no-repeat center",backgroundSize:"80px 80px",opacity:1}})},unblock:function(t){void 0!==g.fn.unblock&&(t.stop(!0).css("opacity","1").unblock(),g(".tooltip__expanded").removeClass().addClass("tooltip__hidden"))},is_cookie_enabled:function(){if(navigator.cookieEnabled)return!0;document.cookie="cookietest=1";var t=-1!==document.cookie.indexOf("cookietest=");return document.cookie="cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT",t},setCookie:function(t,e){var o=new Date;o.setDate(o.getDate()+9125),document.cookie=t+"="+escape(e)+"; expires="+o.toUTCString()+"; path=/"},updateURLParameter:function(t,e,o){var a="",t=(r=t.split("?"))[0],i=r[1],n="";if(i)for(var r=i.split("&"),l=0;l<r.length;l++)r[l].split("=")[0]!==e&&(a+=n+r[l],n="&");return t+"?"+a+(n+""+e+"="+o.replace("#",""))},getUrlParameter:function(t,e){for(var o,a=decodeURIComponent(t.substring(1)).split(/[&|?]+/),i=0;i<a.length;i++)if((o=a[i].split("="))[0]===e)return void 0===o[1]||o[1]}},toastr.options={tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,closeButton:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:2e4,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"default"===wlfmc_l10n.toast_position?wlfmc_l10n.is_rtl?"toast-top-right":"toast-top-left":wlfmc_l10n.toast_position,timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",newestOnTop:!0,preventDuplicates:!1,progressBar:!0,progressClass:"toast-progress",rtl:!!wlfmc_l10n.is_rtl},wlfmc_l10n.is_save_for_later_enabled&&wlfmc_l10n.is_save_for_later_popup_remove_enabled&&(g(".woocommerce-cart-form .product-remove a.remove").off("click").unbind("click").data("events",null),g("body").on("click","form.woocommerce-cart-form a.remove",function(t){t.stopImmediatePropagation(),t.preventDefault();var t=g(this),t=(a=t.attr("href"),g("#add_to_save_for_later_popup")),e={absolute:!1,color:"#333",transition:"all 0.3s",horizontal:t.data("horizontal"),vertical:t.data("vertical")};return t.popup(e),t.popup("show"),!1})),g(document).on("wlfmc_init",function(){g.fn.WLFMC.init_fix_on_image_single_position();var o,t=g(this),e=g("body"),p="undefined"!=typeof wc_add_to_cart_params&&null!==wc_add_to_cart_params?wc_add_to_cart_params.cart_redirect_after_add:"";e.on("click",'.wlfmc-list button[name="apply_bulk_actions"]',function(t){var e=g(this).closest(".action-wrapper").find('select[name="bulk_actions"]'),o=g(this).closest("form").find("input.qty");0<e.length&&"delete"===e.val()&&0<o.length&&o.attr("disabled",!0)}),e.on("change","#bulk_add_to_cart,#bulk_add_to_cart2",function(){var t=g(this),e=t.closest(".wlfmc-wishlist-table,.wlfmc-save-for-later-table").find("[data-row-id]").find('input[type="checkbox"]:not(:disabled)');t.is(":checked")?(e.prop("checked","checked").trigger("change"),g("#bulk_add_to_cart").prop("checked","checked"),g("#bulk_add_to_cart2").prop("checked","checked")):(e.prop("checked",!1).trigger("change"),g("#bulk_add_to_cart").prop("checked",!1),g("#bulk_add_to_cart2").prop("checked",!1))}),e.on("submit",".wlfmc-popup-form",function(){return!1}),t.on("found_variation",function(t,e){t=g(t.target).data("product_id");e.product_id=t,g(document).trigger("wlfmc_show_variation",e)}),t.on("wlfmc_reload_fragments",g.fn.WLFMC.load_fragments),t.on("wlfmc_fragments_loaded",function(t,e,o,a){a&&g(".variations_form").find(".variations select").last().trigger("change")}),e.on("click",".wlfmc-tabs a:not(.external-link)",function(t){t.stopImmediatePropagation(),t.preventDefault();t=g(this).data("content");return g(".wlfmc-tab-content").hide(),g(this).closest(".wlfmc-tabs-wrapper").removeClass("active-tab-cart active-tab-save-for-later"),g(this).closest(".wlfmc-tabs-wrapper").addClass("active-tab-"+t),g(this).closest(".wlfmc-tabs-wrapper").find(".wlfmc-tabs a").removeClass("nav-tab-active"),g(this).addClass("nav-tab-active"),g(".wlfmc_content_"+t).show(),window.history.replaceState("","",g.fn.WLFMC.updateURLParameter(window.location.href,"tab",t)),!1}),t.on("click","body.elementor-editor-active .wlfmc-lists-header a,body.elementor-editor-active a.wlfmc-open-list-link",function(t){var o=g(this).attr("href");if(o&&"#"!==o&&"#!"!==o)return g.fn.WLFMC.block(g(".wlfmc-tab-content")),t.stopImmediatePropagation(),t.preventDefault(),g.ajax({url:o,type:"GET",dataType:"html",success:function(t){var t=g(t),e=t.find(".wlfmc-lists-header"),t=t.find(".wlfmc-tab-content");t&&g(".wlfmc-tab-content").replaceWith(t),e&&g(".wlfmc-lists-header").replaceWith(e),o!==window.location.href&&window.history.pushState({path:o},"",o)}}),!1}),e.on("click",".wlfmc_add_to_wishlist",function(t){if(t.stopImmediatePropagation(),t.preventDefault(),c&&Array.isArray(u)&&!u.length)toastr.error(wlfmc_l10n.labels.product_adding);else{var e,r=g(this),l=r.attr("data-product-id"),t=r.attr("data-parent-product-id"),s=r.closest(".wlfmc-add-to-wishlist-"+l),o={action:wlfmc_l10n.actions.add_to_wishlist_action,context:"frontend",add_to_wishlist:l,product_type:r.attr("data-product-type")},a=(null===g(document).triggerHandler("wlfmc_add_to_wishlist_data",[r,o])&&(o=null),g('form.cart[method=post][data-product_id="'+t+'"], form.vtajaxform[method=post][data-product_id="'+t+'"]').length?e=g('form.cart[method=post][data-product_id="'+t+'"], form.vtajaxform[method=post][data-product_id="'+t+'"]').eq(0):g(this).closest("form.cart[method=post], form.vtajaxform[method=post]").length?e=g(this).closest("form.cart[method=post], form.vtajaxform[method=post]").eq(0):g("#product-"+t+" form.cart[method=post],#product-"+t+" form.vtajaxform[method=post]").length?e=g("#product-"+t+" form.cart[method=post],#product-"+t+" form.vtajaxform[method=post]").eq(0):g('form.cart[method=post] button[name="add-to-cart"][value="'+t+'"],form.vtajaxform[method=post] button[name="add-to-cart"][value="'+t+'"]').length&&(e=g('form.cart[method=post] button[name="add-to-cart"][value="'+t+'"],form.vtajaxform[method=post] button[name="add-to-cart"][value="'+t+'"]').closest("form").eq(0)),new FormData);if(void 0!==e&&0<e.length?(a=new FormData(e.get(0))).delete("add-to-cart"):(e=r.closest(".product.post-"+t).find(".add_to_cart_button")).length&&(o.quantity=e.attr("data-quantity")),g.each(o,function(t,e){a.append(t,"object"===h(e)?JSON.stringify(e):e)}),jQuery(document.body).trigger("wlfmc_adding_to_wishlist"),g.fn.WLFMC.is_cookie_enabled())return g.ajax({url:wlfmc_l10n.ajax_url,data:a,type:"POST",contentType:!1,processData:!1,cache:!1,beforeSend:function(t){"rest_api"===wlfmc_l10n.ajax_mode&&t.setRequestHeader("X-WP-Nonce",wlfmc_l10n.nonce),c=!0,g.fn.WLFMC.loading(r)},complete:function(){c=!1,g.fn.WLFMC.unloading(r)},success:function(t){var e,o,a=t.result,i=t.message,n=!0;"true"!==a&&"exists"!==a||(g.fn.WLFMC.load_fragments(),t.item_id&&null!=u&&(u.push({wishlist_id:t.wishlist_id,item_id:t.item_id,product_id:parseInt(l)}),g.fn.WLFMC.set_products_hash(JSON.stringify(u))),(e=s.attr("data-popup-id"))&&(o={absolute:n=!1,color:"#333",transition:"all 0.3s",horizontal:(e=g("#"+e)).data("horizontal"),vertical:e.data("vertical")},e.popup(o),e.popup("show")),n&&""!==g.trim(wlfmc_l10n.labels.product_added_text)&&"true"===a&&toastr.success(wlfmc_l10n.labels.product_added_text),"true"===a&&g.fn.WLFMC.load_automations(l,t.wishlist_id,t.customer_id,"wishlist",t.load_automation_nonce)),"true"===a&&"add-redirect"===wlfmc_l10n.click_behavior&&(window.location.href=wlfmc_l10n.wishlist_page_url),n&&""!==g.trim(t.message)&&"true"!==a&&toastr.error(i),g.fn.WLFMC.init_handling_after_ajax(),g("body").trigger("wlfmc_added_to_wishlist",[r,s])}}),!1;c=!1,window.alert(wlfmc_l10n.labels.cookie_disabled)}}),e.on("click",".wlfmc_ajax_add_to_cart:not(.disabled)",function(t){var e=g(this),o=e.attr("data-item_id"),a=e.attr("data-wishlist_id"),o={action:wlfmc_l10n.actions.add_to_cart_action,nonce:e.data("nonce"),context:"frontend",lid:o,wid:a};return t.stopImmediatePropagation(),t.preventDefault(),e.removeClass("added"),e.addClass("loading"),!1===g(document.body).triggerHandler("should_send_ajax_request.adding_to_cart",[e])?(g(document.body).trigger("ajax_request_not_sent.adding_to_cart",[!1,!1,e]),!0):(g(document.body).trigger("adding_to_cart",[e,o]),g.ajax({url:wlfmc_l10n.admin_url,data:o,type:"POST",dataType:"json",success:function(t){if(t){if(t.error||t.success&&!g.fn.WLFMC.isTrue(t.success)){if(t.product_url)return void(window.location=t.product_url);""!==wlfmc_l10n.labels.failed_add_to_cart_message&&toastr.error(wlfmc_l10n.labels.failed_add_to_cart_message)}else{if(g.fn.WLFMC.isTrue(wc_add_to_cart_params.cart_redirect_after_add))return void(window.location=wc_add_to_cart_params.cart_url);g(document.body).trigger("wc_fragment_refresh"),g(document.body).trigger("added_to_cart",[t.fragments,t.cart_hash,e]),""!==wlfmc_l10n.labels.added_to_cart_message&&toastr.success(wlfmc_l10n.labels.added_to_cart_message)}t.message&&""!==t.message&&g(document.body).trigger("add_to_cart_message",[t.message,e])}}}),!1)}),e.on("click",".wlfmc-btn-login-need",function(t){return t.stopImmediatePropagation(),t.preventDefault(),toastr.error(wlfmc_l10n.labels.login_need),!1}),e.on("click",".wlfmc_already_in_wishlist",function(t){return t.stopImmediatePropagation(),t.preventDefault(),toastr.error(wlfmc_l10n.labels.already_in_wishlist_text),!1}),e.on("click",".wlfmc-wishlist-table .remove_from_wishlist",function(t){var i=g(this),t=(t.stopImmediatePropagation(),t.preventDefault(),i.parents(".wlfmc-wishlist-items-wrapper")),n=i.parents("[data-row-id]"),r=n.data("row-id"),l=t.data("id"),t=t.data("token"),t={action:wlfmc_l10n.actions.remove_from_wishlist_action,nonce:i.data("nonce"),context:"frontend",remove_from_wishlist:r,wishlist_id:l,wishlist_token:t};return g.ajax({url:wlfmc_l10n.ajax_url,data:t,method:"post",beforeSend:function(t){"rest_api"===wlfmc_l10n.ajax_mode&&t.setRequestHeader("X-WP-Nonce",wlfmc_l10n.nonce),g.fn.WLFMC.block(n)},complete:function(){g.fn.WLFMC.unblock(n)},success:function(t){if(g.fn.WLFMC.load_fragments(),g.fn.WLFMC.isTrue(t.result)){if(n.addClass("disabled-row"),null!=u){for(var e=u.length,o=0;o<=e-1;o++)if(void 0!==u[o]&&u[o].wishlist_id==l&&u[o].product_id==r){u.splice(o,1),g("body").trigger("wlfmc_removed_from_wishlist",[i,n,t]);break}g.fn.WLFMC.set_products_hash(JSON.stringify(u))}if(null!=_){var a=_.length;for(o=0;o<=a-1;o++)if(void 0!==_[o]&&_[o].wishlist_id==l&&_[o].product_id==r){_.splice(o,1),g("body").trigger("wlfmc_removed_from_waitlist",[i,n,t]);break}g.fn.WLFMC.set_waitlist_hash(JSON.stringify(_))}}}}),!1}),e.on("click touchend",".wlfmc-products-counter-wishlist .remove_from_wishlist,.wlfmc-products-counter-waitlist .remove_from_wishlist",function(t){var i=g(this),n=(t.stopImmediatePropagation(),t.preventDefault(),i.parents(".wlfmc-wishlist-items-wrapper")),r=i.parents("[data-row-id]"),l=r.data("row-id"),s=r.data("item-id"),c=r.data("wishlist-id"),t=r.data("wishlist-token"),d=g(".wlfmc-wishlist-form .wlfmc-wishlist-table"),t={action:wlfmc_l10n.actions.remove_from_wishlist_action,nonce:i.data("nonce"),context:"frontend",remove_from_wishlist:l,wishlist_id:c,wishlist_token:t,merge_lists:wlfmc_l10n.merge_lists};return g.ajax({url:wlfmc_l10n.ajax_url,data:t,method:"post",beforeSend:function(t){"rest_api"===wlfmc_l10n.ajax_mode&&t.setRequestHeader("X-WP-Nonce",wlfmc_l10n.nonce),g.fn.WLFMC.loading(i)},complete:function(){g.fn.WLFMC.unloading(i)},success:function(t){if(g.fn.WLFMC.isTrue(t.result)){var e=!1;if(null!=u){for(var o=u.length,a=0;a<=o-1;a++)if(void 0!==u[a]&&u[a].wishlist_id===c&&u[a].product_id===l){u.splice(a,1),g("body").trigger("wlfmc_removed_from_wishlist",[i,r,t]);break}g.fn.WLFMC.set_products_hash(JSON.stringify(u))}if(null!=_){for(o=_.length,a=0;a<=o-1;a++)if(void 0!==_[a]&&_[a].wishlist_id===c&&_[a].product_id===l){_.splice(a,1),g("body").trigger("wlfmc_removed_from_waitlist",[i,r,t]);break}g.fn.WLFMC.set_waitlist_hash(JSON.stringify(_))}0<i.closest(".wlfmc-products-counter-wrapper").length&&(g(".wlfmc-products-counter-wrapper").find('[data-item-id="'+s+'"]').remove(),g(".wlfmc-products-counter-wrapper  .products-counter-number").text(t.count),g(".wlfmc-products-counter-wishlist .total-products .wlfmc-total-count").text(t.count),g(".wlfmc-add-to-wishlist.wlfmc-add-to-wishlist-"+l).removeClass("exists")),0<i.closest(".wlfmc-waitlist-counter-wrapper").length&&(g(".wlfmc-waitlist-counter-wrapper").find('[data-item-id="'+s+'"]').remove(),g(".wlfmc-waitlist-counter-wrapper  .products-counter-number").text(t.count),g(".wlfmc-products-counter-waitlist .total-products .wlfmc-total-count").text(t.count),g(".wlfmc-add-to-waitlist.wlfmc-add-to-waitlist-"+l).removeClass("exists")),0<d.length&&parseInt(c)===parseInt(d.attr("data-id"))&&(d.find('[data-item-id="'+s+'"]').addClass("disabled-row"),e=!0),(e=t.count<1||!n.find("[data-row-id]").length?!0:e)&&g.fn.WLFMC.load_fragments()}g.fn.WLFMC.init_handling_after_ajax()}}),!1}),e.on("click",".wlfmc_delete_item",function(t){var o=g(this),e=o.attr("data-product-id"),a=o.attr("data-wishlist-id"),i=o.attr("data-item-id"),n=g(".wlfmc-add-to-wishlist-"+e),e={action:wlfmc_l10n.actions.delete_item_action,context:"frontend",wishlist_id:a,item_id:i};return t.stopImmediatePropagation(),t.preventDefault(),g.ajax({url:wlfmc_l10n.ajax_url,data:e,method:"post",dataType:"json",beforeSend:function(t){"rest_api"===wlfmc_l10n.ajax_mode&&t.setRequestHeader("X-WP-Nonce",wlfmc_l10n.nonce),g.fn.WLFMC.loading(o)},complete:function(){g.fn.WLFMC.unloading(o)},success:function(t){t.fragments;var e=t.message;"true"===t.result&&(n.removeClass("exists"),null!=u&&(u=g.grep(u,function(t){return t.item_id!==parseInt(i)}),g.fn.WLFMC.set_products_hash(JSON.stringify(u)))),o.closest(".wlfmc-remove-button").length||""===g.trim(e)||toastr.error(e),"true"===t.result&&""!==g.trim(wlfmc_l10n.labels.product_removed_text)&&toastr.error(wlfmc_l10n.labels.product_removed_text),g.fn.WLFMC.load_fragments(),g.fn.WLFMC.init_handling_after_ajax(),g("body").trigger("wlfmc_removed_from_wishlist",[o,n,t])}}),!1}),t.on("wlfmc_show_variation",function(t,e){g(t.target);var o,a,i,n,r,l,s=e.product_id,c=e.variation_id,t=g('.wlfmc-add-to-wishlist [data-parent-product-id="'+s+'"]'),d=t.closest(".wlfmc-add-to-wishlist").data("enable-outofstock");s&&c&&t.length&&(d||e.is_in_stock?t.closest(".wlfmc-add-to-wishlist").removeClass("hide"):t.closest(".wlfmc-add-to-wishlist").addClass("hide"),(d=t.closest(".wlfmc-add-to-wishlist").attr("data-popup-id"))&&(d=g("#"+d)).length&&(o=d.data("product-title"),l=wlfmc_l10n.labels.popup_content,a=wlfmc_l10n.labels.popup_title,i=d.data("image-size"),n=d.find(".wlfmc-popup-header img").data("src"),r=d.find(".wlfmc-parent-product-price").html(),r=""!==e.price_html?e.price_html:r,l=(l=l.replace("{product_price}",r)).replace("{product_name}",o),a=(a=a.replace("{product_price}",r)).replace("{product_name}",o),e.image_id&&"true"==d.data("use-featured")&&(n="large"===i?e.image.full_src:"thumbnail"===i?e.image.thumb_src:e.image.src),d.find(".wlfmc-popup-title").html(a),d.find(".wlfmc-popup-desc").html(l),d.find(".wlfmc-popup-header img").attr("src",n)),t.each(function(){var t=g(this),o=t.closest(".wlfmc-add-to-wishlist");t.attr("data-parent-product-id",s),t.attr("data-product-id",c),o.length&&o.removeClass(function(t,e){return e.match(/wlfmc-add-to-wishlist-\S+/g).join(" ")}).addClass("wlfmc-add-to-wishlist-"+c).removeClass("exists"),o.find(".wlfmc-addtowishlist a").attr("href",o.attr("data-add-url").replace("#product_id",c)),o.find(".wlfmc-removefromwishlist a").attr("href",o.attr("data-remove-url").replace("#product_id",c)),g.each(u,function(t,e){void 0!==e&&e.product_id&&e.product_id==c&&(o.addClass("exists"),o.find(".wlfmc_delete_item").attr("data-wishlist-id",e.wishlist_id),o.find(".wlfmc_delete_item").attr("data-item-id",e.item_id))})}))}),t.on("reset_data",function(t){var e,o,a,i,n,r,l=g(t.target).data("product_id"),t=g('.wlfmc-add-to-wishlist [data-parent-product-id="'+l+'"]');l&&t.length&&(t.closest(".wlfmc-add-to-wishlist").removeClass("hide"),(e=t.closest(".wlfmc-add-to-wishlist").attr("data-popup-id"))&&(e=g("#"+e)).length&&(o=e.find(".wlfmc-parent-product-price").html(),a=e.data("product-title"),r=wlfmc_l10n.labels.popup_content,i=wlfmc_l10n.labels.popup_title,n=e.find(".wlfmc-popup-header img").data("src"),r=(r=r.replace("{product_price}",o)).replace("{product_name}",a),i=(i=i.replace("{product_price}",o)).replace("{product_name}",a),e.find(".wlfmc-popup-title").html(i),e.find(".wlfmc-popup-desc").html(r),e.find(".wlfmc-popup-header img").attr("src",n)),t.each(function(){var t=g(this),o=t.closest(".wlfmc-add-to-wishlist");t.attr("data-parent-product-id",l),t.attr("data-product-id",l),o.length&&o.removeClass(function(t,e){return e.match(/wlfmc-add-to-wishlist-\S+/g).join(" ")}).addClass("wlfmc-add-to-wishlist-"+l).removeClass("exists"),o.find(".wlfmc-addtowishlist a").attr("href",o.attr("data-add-url").replace("#product_id",l)),o.find(".wlfmc-removefromwishlist a").attr("href",o.attr("data-remove-url").replace("#product_id",l)),g.each(u,function(t,e){void 0!==e&&e.product_id&&e.product_id==l&&(o.addClass("exists"),o.find(".wlfmc_delete_item").attr("data-wishlist-id",e.wishlist_id),o.find(".wlfmc_delete_item").attr("data-item-id",e.item_id))})}))}),e.on("click",".wlfmc-waitlist-btn-login-need",function(t){return t.stopImmediatePropagation(),t.preventDefault(),toastr.error(wlfmc_l10n.labels.waitlist_login_need),!1}),t.on("wlfmc_show_variation",function(t,e){var o=e.product_id,a=e.variation_id;g.fn.WLFMC.check_waitlist_modules(e,o,a)}),t.on("reset_data",function(t){t=g(t.target).data("product_id");g.fn.WLFMC.check_waitlist_modules(null,t,t),g.fn.WLFMC.isTrue(wlfmc_l10n.waitlist_required_product_variation)&&g(".wlfmc-add-to-waitlist-"+t).find(".wlfmc-popup-trigger").addClass("wlfmc-disabled")}),t.on("hide_variation",".variations_form",function(t){var e=g(".wlfmc-add-to-waitlist-"+g(this).data("product_id"));0<e.length&&g.fn.WLFMC.isTrue(wlfmc_l10n.waitlist_required_product_variation)&&(t.preventDefault(),e.find(".wlfmc-popup-trigger").addClass("wlfmc-disabled"))}),t.on("show_variation",".variations_form",function(t,e,o){var a=g(".wlfmc-add-to-waitlist-"+g(this).data("product_id"));0<a.length&&(t.preventDefault(),a.find(".wlfmc-popup-trigger").removeClass("wlfmc-disabled"))}),e.on("click",".wlfmc-add-to-waitlist .wlfmc-popup-trigger.wlfmc-disabled",function(t){return t.stopImmediatePropagation(),t.preventDefault(),toastr.error(wlfmc_l10n.labels.waitlist_make_a_selection_text),!1}),e.on("click",".wlfmc_add_to_waitlist",function(t){var e=g(this),i=e.attr("data-product-id"),o=e.attr("data-parent-product-id"),n=e.closest(".wlfmc-popup"),r=0<n.find(".wlfmc-waitlist-select-type input[name=list_on-sale]:checked").length?1:0,l=0<n.find(".wlfmc-waitlist-select-type input[name=list_back-in-stock]:checked").length?1:0,s=0<n.find(".wlfmc-waitlist-select-type input[name=list_price-change]:checked").length?1:0,c=0<n.find(".wlfmc-waitlist-select-type input[name=list_low-stock]:checked").length?1:0,a=0<n.find("input[name=wlfmc_email]").length&&n.find("input[name=wlfmc_email]").val().trim(),d={action:wlfmc_l10n.actions.add_product_to_waitlist_action,context:"frontend",add_to_waitlist:i,product_type:e.attr("data-product-type"),on_sale:r,back_in_stock:l,price_change:s,low_stock:c,wlfmc_email:a};if(t.stopImmediatePropagation(),t.preventDefault(),!1!==a&&""===a)toastr.error(wlfmc_l10n.labels.waitlist_email_required);else if(!1===a||g.fn.WLFMC.validateEmail(a)){null===g(document).triggerHandler("wlfmc_add_to_waitlist_data",[e,d])&&(d=null),g('form.cart[method=post][data-product_id="'+o+'"], form.vtajaxform[method=post][data-product_id="'+o+'"]').length?f=g('form.cart[method=post][data-product_id="'+o+'"], form.vtajaxform[method=post][data-product_id="'+o+'"]').eq(0):g(this).closest("form.cart[method=post], form.vtajaxform[method=post]").length?f=g(this).closest("form.cart[method=post], form.vtajaxform[method=post]").eq(0):g("#product-"+o+" form.cart[method=post],#product-"+o+" form.vtajaxform[method=post]").length?f=g("#product-"+o+" form.cart[method=post],#product-"+o+" form.vtajaxform[method=post]").eq(0):g('form.cart[method=post] button[name="add-to-cart"][value="'+o+'"],form.vtajaxform[method=post] button[name="add-to-cart"][value="'+o+'"]').length&&(f=g('form.cart[method=post] button[name="add-to-cart"][value="'+o+'"],form.vtajaxform[method=post] button[name="add-to-cart"][value="'+o+'"]').closest("form").eq(0));var f,m=new FormData;if(void 0!==f&&0<f.length&&(m=new FormData(f.get(0))).delete("add-to-cart"),g.each(d,function(t,e){m.append(t,"object"===h(e)?JSON.stringify(e):e)}),jQuery(document.body).trigger("wlfmc_adding_to_waitlist"),g.fn.WLFMC.is_cookie_enabled())return g.ajax({url:wlfmc_l10n.waitlist_ajax_url,data:m,type:"POST",contentType:!1,processData:!1,cache:!1,beforeSend:function(t){"rest_api"===wlfmc_l10n.ajax_mode&&t.setRequestHeader("X-WP-Nonce",wlfmc_l10n.nonce),g.fn.WLFMC.loading(e)},complete:function(){g.fn.WLFMC.unloading(e)},success:function(t){var e,o=t.result,a=t.message;"true"===o&&(g.fn.WLFMC.load_fragments(),n.popup("hide"),""!==g.trim(a)&&toastr.success(a),e="waitlist",1==r&&(e+=",on-sale"),1==s&&(e+=",price-change"),1==l&&(e+=",back-in-stock"),1==c&&(e+=",low-stock"),g.fn.WLFMC.load_automations(i,t.wishlist_id,t.customer_id,e,t.load_automation_nonce)),""!==g.trim(t.message)&&"true"!==o&&toastr.error(a)}}),!1;window.alert(wlfmc_l10n.labels.cookie_disabled)}else toastr.error(wlfmc_l10n.labels.waitlist_email_format)}),e.on("click",".wlfmc_add_to_outofstock",function(t){var e=g(this),a=e.attr("data-product-id"),o=e.attr("data-parent-product-id"),i=e.closest(".wlfmc-add-to-outofstock").find("input[name=wlfmc_email]"),i=0<i.length&&i.val().trim(),n={action:wlfmc_l10n.actions.add_product_to_waitlist_action,context:"frontend",add_to_waitlist:a,product_type:e.attr("data-product-type"),on_sale:0,back_in_stock:1,price_change:0,low_stock:0,wlfmc_email:i};if(t.stopImmediatePropagation(),t.preventDefault(),!1!==i&&""===i)toastr.error(wlfmc_l10n.labels.waitlist_email_required);else if(!1===i||g.fn.WLFMC.validateEmail(i)){null===g(document).triggerHandler("wlfmc_add_to_waitlist_data",[e,n])&&(n=null),g('form.cart[method=post][data-product_id="'+o+'"], form.vtajaxform[method=post][data-product_id="'+o+'"]').length?r=g('form.cart[method=post][data-product_id="'+o+'"], form.vtajaxform[method=post][data-product_id="'+o+'"]').eq(0):g(this).closest("form.cart[method=post], form.vtajaxform[method=post]").length?r=g(this).closest("form.cart[method=post], form.vtajaxform[method=post]").eq(0):g("#product-"+o+" form.cart[method=post],#product-"+o+" form.vtajaxform[method=post]").length?r=g("#product-"+o+" form.cart[method=post],#product-"+o+" form.vtajaxform[method=post]").eq(0):g('form.cart[method=post] button[name="add-to-cart"][value="'+o+'"],form.vtajaxform[method=post] button[name="add-to-cart"][value="'+o+'"]').length&&(r=g('form.cart[method=post] button[name="add-to-cart"][value="'+o+'"],form.vtajaxform[method=post] button[name="add-to-cart"][value="'+o+'"]').closest("form").eq(0));var r,l=new FormData;if(void 0!==r&&0<r.length&&(l=new FormData(r.get(0))).delete("add-to-cart"),g.each(n,function(t,e){l.append(t,"object"===h(e)?JSON.stringify(e):e)}),jQuery(document.body).trigger("wlfmc_adding_to_waitlist"),g.fn.WLFMC.is_cookie_enabled())return g.ajax({url:wlfmc_l10n.waitlist_ajax_url,data:l,type:"POST",contentType:!1,processData:!1,cache:!1,beforeSend:function(t){"rest_api"===wlfmc_l10n.ajax_mode&&t.setRequestHeader("X-WP-Nonce",wlfmc_l10n.nonce),g.fn.WLFMC.loading(e)},complete:function(){g.fn.WLFMC.unloading(e)},success:function(t){var e=t.result,o=t.message;"true"===e&&(g.fn.WLFMC.load_fragments(),""!==g.trim(o)&&toastr.success(o),g(".wlfmc-add-to-outofstock-"+a).addClass("exists"),g.fn.WLFMC.load_automations(a,t.wishlist_id,t.customer_id,"back-in-stock",t.load_automation_nonce)),""!==g.trim(t.message)&&"true"!==e&&toastr.error(o)}}),!1;window.alert(wlfmc_l10n.labels.cookie_disabled)}else toastr.error(wlfmc_l10n.labels.waitlist_email_format)}),e.on("click",".wlfmc_cancel_outofstock",function(t){var e=g(this),a=e.attr("data-product-id"),o=(e.attr("data-parent-product-id"),{action:wlfmc_l10n.actions.add_product_to_waitlist_action,context:"frontend",add_to_waitlist:a,product_type:e.attr("data-product-type"),on_sale:0,back_in_stock:0,price_change:0,low_stock:0});if(t.stopImmediatePropagation(),t.preventDefault(),g.fn.WLFMC.is_cookie_enabled())return g.ajax({url:wlfmc_l10n.waitlist_ajax_url,data:o,type:"POST",beforeSend:function(t){"rest_api"===wlfmc_l10n.ajax_mode&&t.setRequestHeader("X-WP-Nonce",wlfmc_l10n.nonce),g.fn.WLFMC.loading(e)},complete:function(){g.fn.WLFMC.unloading(e)},success:function(t){var e=t.result,o=t.message;"true"===e&&(""!==g.trim(o)&&toastr.error(o),g(".wlfmc-add-to-outofstock-"+a).removeClass("exists"),g.fn.WLFMC.load_fragments()),""!==g.trim(t.message)&&"true"!==e&&toastr.error(o)}}),!1;window.alert(wlfmc_l10n.labels.cookie_disabled)}),e.on("input",".wlfmc-popup-lists-wrapper .search-input",function(){var t=g(this).val().toLowerCase(),e=g(this).closest(".wlfmc-popup-lists-wrapper").find(".list"),o=g(this).closest(".wlfmc-popup-lists-wrapper").find(".no-results-row"),a=0;e.find(".list-item").length?(e.find(".list-item").each(function(){-1<g(this).text().toLowerCase().indexOf(t)?(g(this).show(),a++):g(this).hide()}),0===a?o.show():o.hide()):g(this).val("")}),e.on("click",".wlfmc-create-new-list",function(){var t=g("#"+g(this).attr("data-parent-popup-id")),e=g("#"+g(this).attr("data-child-popup-id")),o=(t.popup("hide"),{absolute:!1,color:"#333",transition:"all 0.1s",horizontal:e.data("horizontal"),vertical:e.data("vertical")});e.popup(w(w({},o),{},{onclose:function(){t.popup("show"),e.popup(w(w({},o),{},{onclose:null}))}})),e.popup("show")}),e.on("click",".wlfmc-toggle-privacy",function(t){t.stopImmediatePropagation(),t.preventDefault();var e=g(this),t=e.parents("[data-wishlist-id]"),o=parseInt(e.attr("data-privacy")),a=0===o?1:0,i=t.attr("data-wishlist-id"),n=e.find("i"),r=g("#edit_popup_"+i);return g.ajax({url:wlfmc_l10n.multi_list_ajax_url,data:{action:wlfmc_l10n.actions.change_privacy_action,nonce:e.data("nonce"),context:"frontend",wishlist_id:i,list_privacy:a},method:"post",beforeSend:function(t){"rest_api"===wlfmc_l10n.ajax_mode&&t.setRequestHeader("X-WP-Nonce",wlfmc_l10n.nonce),g.fn.WLFMC.loading(e)},complete:function(){g.fn.WLFMC.unloading(e)},success:function(t){t&&(n.removeClass("wlfmc-icon-unlock wlfmc-icon-lock"),n.addClass(0===o?"wlfmc-icon-lock":"wlfmc-icon-unlock"),r.find('input[name="list_privacy"][value="'+a+'"]').prop("checked","checked"),e.attr("data-privacy",a),0==a?(g('.wlfmc-popup-trigger[data-popup-id="share_popup_'+i+'"]').removeAttr("style"),g(".share-wrapper").show()):(g('.wlfmc-popup-trigger[data-popup-id="share_popup_'+i+'"]').css("display","none"),g(".share-wrapper").hide()))}}),!1}),e.on("click",".wlfmc-delete-list",function(t){t.stopImmediatePropagation(),t.preventDefault();var e=g(this),t=e.data("wishlist-id"),o=g("#"+e.data("popup-id")),a=g('ul.wlfmc-manage-lists li[data-wishlist-id="'+t+'"],a.list-row[data-list-id="'+t+'"], .wlfmc-dropdown-content li[data-wishlist-id="'+t+'"]'),i=g('.wlfmc-wishlist-table[data-id="'+t+'"]');return g.ajax({url:wlfmc_l10n.multi_list_ajax_url,data:{action:wlfmc_l10n.actions.delete_list_action,nonce:g("#wlfmc-lists").data("nonce"),context:"frontend",wishlist_id:t},method:"POST",cache:!1,beforeSend:function(t){"rest_api"===wlfmc_l10n.ajax_mode&&t.setRequestHeader("X-WP-Nonce",wlfmc_l10n.nonce),g.fn.WLFMC.loading(e)},complete:function(){g.fn.WLFMC.unloading(e)},success:function(t){t&&(t.result?(o.popup("hide"),a.remove(),0===g("#wlfmc_my_lists_dropdown li").length&&(g(".wlfmc-select-list-wrapper").addClass("hide"),g(".wlfmc-list-actions-wrapper .wlfmc-new-list").css("display","")),0<i.length&&(window.location.href=wlfmc_l10n.lists_page_url)):toastr.error(t.message),g.fn.WLFMC.load_fragments())}}),!1}),e.on("click",".wlfmc-save-list",function(t){t.stopImmediatePropagation(),t.preventDefault();var e=g(this),o=e.data("wishlist-id"),a=g('ul.wlfmc-manage-lists li[data-wishlist-id="'+o+'"],a.list-row[data-list-id="'+o+'"], .wlfmc-list-actions-wrapper'),i=g("#"+e.data("popup-id")),n=parseInt(i.find('input[name="list_privacy"]:checked').val()),r=i.find('input[name="list_name"]').val(),l=i.find('textarea[name="list_descriptions"]').val(),s=a.find(".wlfmc-toggle-privacy i");return""===g.trim(r)?toastr.error(wlfmc_l10n.labels.multi_list_list_name_required):g.ajax({url:wlfmc_l10n.multi_list_ajax_url,data:{action:wlfmc_l10n.actions.update_list_action,nonce:g("#wlfmc-lists").data("nonce"),context:"frontend",wishlist_id:o,list_privacy:n,list_name:r,list_descriptions:l},method:"POST",cache:!1,beforeSend:function(t){"rest_api"===wlfmc_l10n.ajax_mode&&t.setRequestHeader("X-WP-Nonce",wlfmc_l10n.nonce),g.fn.WLFMC.loading(e)},complete:function(){g.fn.WLFMC.unloading(e)},success:function(t){t&&(t.result?(i.popup("hide"),a.find(".list-name").text(r),a.find(".list-desc").text(l),a.find(".wlfmc-toggle-privacy").attr("data-privacy",n),s.removeClass("wlfmc-icon-unlock wlfmc-icon-lock"),s.addClass(0===n?"wlfmc-icon-unlock":"wlfmc-icon-lock"),0===n?(g('.wlfmc-popup-trigger[data-popup-id="share_popup_'+o+'"]').removeAttr("style"),g(".share-wrapper").show()):(g('.wlfmc-popup-trigger[data-popup-id="share_popup_'+o+'"]').css("display","none"),g(".share-wrapper").hide())):toastr.error(t.message))}}),!1}),e.on("click",".wlfmc-add-list",function(t){t.stopImmediatePropagation(),t.preventDefault();var e=g(this),a=g("#new_list_popup"),t=parseInt(a.find('input[name="list_privacy"]:checked').val()),o=a.find('input[name="list_name"]').val(),i=a.find('textarea[name="list_descriptions"]').val();return""===g.trim(o)?toastr.error(wlfmc_l10n.labels.multi_list_list_name_required):g.ajax({url:wlfmc_l10n.multi_list_ajax_url,data:{action:wlfmc_l10n.actions.create_new_list_action,nonce:e.data("nonce"),context:"frontend",list_privacy:t,list_name:o,list_descriptions:i,fragments:0<g(".wishlist-empty-row .wlfmc-new-list").length?g.fn.WLFMC.retrieve_fragments():g.fn.WLFMC.retrieve_fragments("list_counter")},method:"POST",cache:!1,beforeSend:function(t){"rest_api"===wlfmc_l10n.ajax_mode&&t.setRequestHeader("X-WP-Nonce",wlfmc_l10n.nonce),g.fn.WLFMC.loading(e)},complete:function(){g.fn.WLFMC.unloading(e)},success:function(t){var e,o;t&&(t.result?(g(".wlfmc-list-actions-wrapper .wlfmc-new-list").hide(),a.find('input[name="list_name"]').val(""),a.find('input[name="list_descriptions"]').val(""),a.popup("hide"),o=(e=wp.template("wlfmc-list-item"))(t),(0<g("#move_popup").length?(g("#move_popup ul.list").append(o),g("#move_popup ul.list").find('input.list-item-checkbox[value="'+t.wishlist_id+'"]').prop("checked","checked").trigger("change"),g("#move_popup .list-empty").hide(),g("#move_popup .no-results-row").hide(),g("#move_popup .wlfmc-search-lists").attr("style",""),g("#move_popup .wlfmc_move_to_list")):0<g("#copy_popup").length?(g("#copy_popup ul.list").append(o),g("#copy_popup ul.list").find('input.list-item-checkbox[value="'+t.wishlist_id+'"]').prop("checked","checked").trigger("change"),g("#copy_popup .list-empty").hide(),g("#copy_popup .no-results-row").hide(),g("#copy_popup .wlfmc-search-lists").attr("style",""),g("#copy_popup .wlfmc_copy_to_list")):(g("#add_to_list_popup ul.list").append(o),g("#add_to_list_popup ul.list").find('input.list-item-checkbox[value="'+t.wishlist_id+'"]').prop("checked","checked").trigger("change"),g("#add_to_list_popup .list-empty").hide(),g("#add_to_list_popup .no-results-row").hide(),g("#add_to_list_popup .wlfmc-search-lists").attr("style",""),g("#add_to_list_popup .wlfmc_add_to_multi_list").attr("style",""),g("#add_to_list_popup .wlfmc-manage-btn"))).attr("style",""),"function"==typeof(e=wp.template("wlfmc-dropdown-item"))&&0<g("#wlfmc_my_lists_dropdown").length&&(o=e(t),g("#wlfmc_my_lists_dropdown").append(o),g(".wlfmc-select-list-wrapper").removeClass("hide"),g.fn.WLFMC.init_dropdown_lists()),g.fn.WLFMC.init_popup_checkbox_handling(),0<g(".wlfmc-lists").length?(g.fn.WLFMC.block(g(".wlfmc-lists")),g.fn.WLFMC.load_fragments()):void 0!==t.fragments&&g.fn.WLFMC.replace_fragments(t.fragments)):toastr.error(t.message))}}),!1}),t.on("wlfmc_show_variation",function(t,e){g(t.target);var o=e.product_id,a=e.variation_id,t=g('.wlfmc-add-to-multi-list [data-parent-product-id="'+o+'"]'),i=t.closest(".wlfmc-add-to-multi-list").data("enable-outofstock");o&&a&&t.length&&(i||e.is_in_stock?t.closest(".wlfmc-add-to-multi-list").removeClass("hide"):t.closest(".wlfmc-add-to-multi-list").addClass("hide"),t.each(function(){var t=g(this);t.attr("data-parent-product-id",o),t.attr("data-product-id",a)}),g('.wlfmc-popup-trigger[data-popup-id="add_to_list_popup"][data-parent-product-id="'+o+'"]').attr("data-product-id",a))}),t.on("reset_data",function(t){var e=g(t.target).data("product_id"),t=g('.wlfmc-add-to-multi-list [data-parent-product-id="'+e+'"]');e&&t.length&&(t.closest(".wlfmc-add-to-multi-list").removeClass("hide"),t.each(function(){var t=g(this);t.attr("data-parent-product-id",e),t.attr("data-product-id",e)}),g('.wlfmc-popup-trigger[data-popup-id="add_to_list_popup"][data-parent-product-id="'+e+'"]').attr("data-product-id",e))}),e.on("click",'.wlfmc-popup-trigger[data-popup-id="move_popup"]',function(t){var e=g(this),o=g("#move_popup"),e=e.data("item-id");return o.find(".wlfmc_move_to_list").attr("data-item-ids",e),!1}),e.on("click",'.wlfmc-popup-trigger[data-popup-id="copy_popup"]',function(t){var e=g(this),o=g("#copy_popup"),e=e.data("item-id");return o.find(".wlfmc_copy_to_list").attr("data-item-ids",e),!1}),e.on("click",'.wlfmc-popup-trigger[data-popup-id="add_to_list_popup"]',function(t){var e=g(this),o=e.attr("data-product-id"),a=e.attr("data-parent-product-id"),i=e.attr("data-product-type"),n=e.attr("data-exclude-default"),r=e.attr("data-cart_item_key"),e=e.attr("data-save-cart"),s=g("#add_to_list_popup"),n={action:wlfmc_l10n.actions.load_lists_action,context:"frontend",product_id:o,exclude_default:n};if(void 0!==r&&(n.cart_item_key=r,s.find(".wlfmc_add_to_multi_list").attr("data-cart_item_key",r)),void 0!==e&&s.find(".wlfmc_add_to_multi_list").attr("data-save-cart",e),s.find(".wlfmc_add_to_multi_list").attr("data-product-type",i).attr("data-product-id",o).attr("data-parent-product-id",a),g.fn.WLFMC.is_cookie_enabled())return g.ajax({url:wlfmc_l10n.multi_list_ajax_url,data:n,type:"POST",beforeSend:function(t){"rest_api"===wlfmc_l10n.ajax_mode&&t.setRequestHeader("X-WP-Nonce",wlfmc_l10n.nonce),g.fn.WLFMC.block(s.find(".wlfmc-add-to-list-container"))},complete:function(){g.fn.WLFMC.unblock(s.find(".wlfmc-add-to-list-container"))},success:function(t){var e=t.result,o=t.message,a=t.data,i=t.product_lists;if("true"===e&&0<a.length){for(var n=wp.template("wlfmc-list-item"),r="",l=0;l<a.length;l++)r+=n(a[l]);s.find(".wlfmc-search-lists").show(),s.find(".list").html(r),s.find(".wlfmc-number").text(i.length),s.find(".list-empty").hide(),s.find(".wlfmc_add_to_multi_list").attr("data-list-ids",JSON.stringify(i)).attr("style",""),s.find(".wlfmc-manage-btn").attr("style","")}else s.find(".wlfmc-manage-btn").css("display","none !important"),s.find(".wlfmc-search-lists").hide(),s.find(".list").html(""),s.find(".list-empty").show(),s.find(".wlfmc-number").text(0),s.find(".wlfmc_add_to_multi_list").css("display","none !important");""!==g.trim(t.message)&&"true"!==e&&(toastr.error(o),s.popup("hide"))}}),!1;t.preventDefault(),window.alert(wlfmc_l10n.labels.cookie_disabled)}),e.on("click",".wlfmc_add_to_multi_list",function(t){var e,o=g(this),a=o.attr("data-product-id"),i=o.attr("data-parent-product-id"),n=o.attr("data-cart_item_key"),r=o.attr("data-save-cart"),l=g("#add_to_list_popup"),s=JSON.parse(o.attr("data-list-ids")),c=l.find("input.list-item-checkbox:checked").map(function(){return this.value}).get(),s={action:wlfmc_l10n.actions.add_product_to_list_action,context:"frontend",add_to_list:a,product_type:o.attr("data-product-type"),current_lists:s,wishlist_ids:c,remove_from_cart_item:wlfmc_l10n.remove_from_cart_item,remove_from_cart_all:wlfmc_l10n.remove_from_cart_all},d=(void 0!==n&&(s.cart_item_key=n),void 0!==r&&(s.save_cart=r),null===g(document).triggerHandler("wlfmc_add_to_multi_list_data",[o,s])&&(s=null),g('form.cart[method=post][data-product_id="'+i+'"], form.vtajaxform[method=post][data-product_id="'+i+'"]').length?e=g('form.cart[method=post][data-product_id="'+i+'"], form.vtajaxform[method=post][data-product_id="'+i+'"]').eq(0):g(this).closest("form.cart[method=post], form.vtajaxform[method=post]").length?e=g(this).closest("form.cart[method=post], form.vtajaxform[method=post]").eq(0):g("#product-"+i+" form.cart[method=post],#product-"+i+" form.vtajaxform[method=post]").length?e=g("#product-"+i+" form.cart[method=post],#product-"+i+" form.vtajaxform[method=post]").eq(0):g('form.cart[method=post] button[name="add-to-cart"][value="'+i+'"],form.vtajaxform[method=post] button[name="add-to-cart"][value="'+i+'"]').length&&(e=g('form.cart[method=post] button[name="add-to-cart"][value="'+i+'"],form.vtajaxform[method=post] button[name="add-to-cart"][value="'+i+'"]').closest("form").eq(0)),new FormData);if(void 0!==e&&0<e.length?(d=new FormData(e.get(0))).delete("add-to-cart"):(c=o.closest(".product.post-"+i).find(".add_to_cart_button")).length&&(s.quantity=c.attr("data-quantity")),g.each(s,function(t,e){d.append(t,"object"===h(e)?JSON.stringify(e):e)}),t.stopImmediatePropagation(),t.preventDefault(),jQuery(document.body).trigger("wlfmc_adding_to_multi_list"),g.fn.WLFMC.is_cookie_enabled())return g.ajax({url:wlfmc_l10n.multi_list_ajax_url,data:d,type:"POST",contentType:!1,processData:!1,cache:!1,beforeSend:function(t){"rest_api"===wlfmc_l10n.ajax_mode&&t.setRequestHeader("X-WP-Nonce",wlfmc_l10n.nonce),g.fn.WLFMC.loading(o)},complete:function(){g.fn.WLFMC.unloading(o)},success:function(t){var e=t.result,o=t.message;"true"===e&&(g.fn.WLFMC.isTrue(t.update_cart)&&g(document).trigger("wc_update_cart"),t.exists&&""!==g.trim(t.exists)&&toastr.error(t.exists),g.fn.WLFMC.load_fragments(),l.popup("hide"),""!==g.trim(wlfmc_l10n.labels.multi_list_saved_text)&&toastr.success(wlfmc_l10n.labels.multi_list_saved_text),t.default_wishlist_id&&"false"!==t.default_wishlist_id||t.default_wishlist_id&&t.last_list_id&&t.default_wishlist_id===t.last_list_id?g.fn.WLFMC.load_automations(a,t.default_wishlist_id,t.customer_id,"wishlist",t.load_automation_nonce):t.last_list_id&&"false"!==t.last_list_id&&g.fn.WLFMC.load_automations(a,t.last_list_id,t.customer_id,"lists",t.load_automation_nonce)),""!==g.trim(t.message)&&"true"!==e&&toastr.error(o)}}),!1;window.alert(wlfmc_l10n.labels.cookie_disabled)}),e.on("click",".wlfmc_move_to_list",function(t){var o=g(this),e=o.attr("data-item-ids"),a=g("#move_popup"),i=o.attr("data-wishlist-id"),n=a.find("input.list-item-checkbox:checked").val(),e={action:wlfmc_l10n.actions.move_to_another_list,nonce:g("#wlfmc-wishlist-form table.wlfmc-wishlist-table").data("nonce"),context:"frontend",item_ids:e,current_list:i,destination_wishlist_id:n};if(""!==e.current_list&&""!==e.destination_wishlist_id&&""!==e.item_ids)return null===g(document).triggerHandler("wlfmc_move_to_list_data",[o,e])&&(e=null),t.stopImmediatePropagation(),t.preventDefault(),g.ajax({url:wlfmc_l10n.admin_url,data:e,dataType:"json",method:"post",beforeSend:function(t){g.fn.WLFMC.loading(o)},success:function(t){var e=t.result,t=wlfmc_l10n.labels.multi_list_successfully_move_message.replace("{wishlist_name}",t.wishlist_name);g.fn.WLFMC.isTrue(e)&&g.fn.WLFMC.load_fragments("",function(t,e){g("#move_popup").popup("hide"),g("#move_popup_background").remove(),g("#move_popup_wrapper").remove(),t&&""!==g.trim(e)&&toastr.success(e)},[!0,t]),g.fn.WLFMC.isTrue(e)||(a.popup("hide"),g.fn.WLFMC.unloading(o))}}),!1}),e.on("click",".wlfmc_copy_to_list",function(t){var o=g(this),e=o.attr("data-item-ids"),a=g("#copy_popup"),i=o.attr("data-wishlist-id"),n=a.find("input.list-item-checkbox:checked").val(),e={action:wlfmc_l10n.actions.copy_to_another_list,nonce:g("#wlfmc-wishlist-form table.wlfmc-wishlist-table").data("nonce"),context:"frontend",item_ids:e,current_list:i,wishlist:n};if(""!==e.current_list&&""!==e.destination_wishlist_id&&""!==e.item_ids)return null===g(document).triggerHandler("wlfmc_copy_to_list_data",[o,e])&&(e=null),t.stopImmediatePropagation(),t.preventDefault(),g.ajax({url:wlfmc_l10n.admin_url,data:e,dataType:"json",method:"post",beforeSend:function(t){g.fn.WLFMC.loading(o)},success:function(t){var e=t.result,t=wlfmc_l10n.labels.successfully_copy_message.replace("{wishlist_name}",t.wishlist_name);g.fn.WLFMC.isTrue(e)&&g.fn.WLFMC.load_fragments("",function(t,e){g("#copy_popup_background").remove(),g("#copy_popup_wrapper").remove(),t&&""!==g.trim(e)&&toastr.success(e)},[!0,t]),g.fn.WLFMC.isTrue(e)||(a.popup("hide"),g.fn.WLFMC.unloading(o))}}),!1}),e.on("click",".wlfmc_copy_to_default_list",function(t){var o=g(this),e=o.attr("data-item-id"),a=o.attr("data-wishlist-id"),e={action:wlfmc_l10n.actions.copy_to_another_list,nonce:g("#wlfmc-wishlist-form table.wlfmc-wishlist-table").data("nonce"),context:"frontend",item_ids:e,wishlist:"default",current_list:a};if(""!==e.current_list&&""!==e.item_ids)return null===g(document).triggerHandler("wlfmc_copy_to_default_list_data",[o,e])&&(e=null),t.stopImmediatePropagation(),t.preventDefault(),g.ajax({url:wlfmc_l10n.admin_url,data:e,dataType:"json",method:"post",beforeSend:function(t){g.fn.WLFMC.loading(o)},success:function(t){var e=t.result,t=wlfmc_l10n.labels.successfully_copy_message.replace("{wishlist_name}",t.wishlist_name);g.fn.WLFMC.isTrue(e)&&(g.fn.WLFMC.load_fragments("list_counter"),""!==g.trim(t)&&toastr.success(t)),g.fn.WLFMC.isTrue(e)||g.fn.WLFMC.unloading(o)}}),!1}),e.on("click",".wlfmc-multi-list-btn-login-need",function(t){return t.stopImmediatePropagation(),t.preventDefault(),toastr.error(wlfmc_l10n.labels.multi_list_login_need),!1}),e.on("click",".wlfmc-list .remove-all-from-save-for-later-btn",function(t){var e=g(this).closest("form").find("input.qty");0<e.length&&e.attr("disabled",!0)}),e.on("click",".wlfmc_add_to_save_for_later",function(t){t.stopImmediatePropagation(),t.preventDefault();var t=g(this),e=t.attr("data-cart_item_key");return g.fn.WLFMC.add_to_save_for_later(e,t),!1}),e.on("click",".wlfmc_remove_from_save_for_later",function(t){t.stopImmediatePropagation(),t.preventDefault();var e=g(this),o=e.parents("[data-item-id]"),t=o.data("item-id"),t={action:wlfmc_l10n.actions.remove_from_save_for_later_action,nonce:wlfmc_l10n.ajax_nonce.remove_from_save_for_later_nonce,context:"frontend",remove_from_save_for_later:t};return g.ajax({url:wlfmc_l10n.save_for_later_ajax_url,data:t,method:"post",beforeSend:function(t){"rest_api"===wlfmc_l10n.ajax_mode&&t.setRequestHeader("X-WP-Nonce",wlfmc_l10n.nonce),g.fn.WLFMC.loading(e)},complete:function(){g.fn.WLFMC.unloading(e)},success:function(t){t&&(g.fn.WLFMC.load_fragments(),"undefined"!==t.count&&g(".wlfmc-tabs-wrapper").attr("data-count",t.count),"true"===t.result&&""!==g.trim(wlfmc_l10n.labels.sfl_product_removed_text)&&toastr.error(wlfmc_l10n.labels.sfl_product_removed_text),"undefined"!==t.count&&0===t.count&&g(".wlfmc-save-for-later-table-wrapper").empty(),g.fn.WLFMC.init_handling_after_ajax(),g("body").trigger("wlfmc_removed_from_save_for_later",[e,o,t]))}}),!1}),e.on("click",".wlfmc_save_for_later_ajax_add_to_cart",function(t){var e=g(this),o=e.attr("data-item_id"),o={action:wlfmc_l10n.actions.save_for_later_add_to_cart_action,nonce:wlfmc_l10n.ajax_nonce.add_to_cart_from_sfl_nonce,context:"frontend",item_id:o};return t.stopImmediatePropagation(),t.preventDefault(),e.removeClass("added"),e.addClass("loading"),!1===g(document.body).triggerHandler("should_send_ajax_request.adding_to_cart",[e])?(g(document.body).trigger("ajax_request_not_sent.adding_to_cart",[!1,!1,e]),!0):(g(document.body).trigger("adding_to_cart",[e,{}]),g.ajax({url:wlfmc_l10n.save_for_later_ajax_url,data:o,method:"post",beforeSend:function(t){"rest_api"===wlfmc_l10n.ajax_mode&&t.setRequestHeader("X-WP-Nonce",wlfmc_l10n.nonce)},success:function(t){t&&(void 0!==t.fragments&&g.fn.WLFMC.replace_fragments(t.fragments),t.error?toastr.error(t.error):g("form.woocommerce-cart-form").length?(void 0!==t.fragments&&"undefined"!==t.fragments.wlfmc_save_for_later_count&&g(".wlfmc-tabs-wrapper").attr("data-count",t.fragments.wlfmc_save_for_later_count),g(document.body).trigger("wc_fragment_refresh"),g(document.body).trigger("added_to_cart",[t.fragments,t.cart_hash,e])):location.reload())}}),!1)}),e.on("click","#add_to_save_for_later_popup #add_item",function(t){t.stopImmediatePropagation(),t.preventDefault(),g("#add_to_save_for_later_popup").popup("hide");var t=g.fn.WLFMC.getUrlParameter(a,"remove_item"),e=g('a[href="'+a+'"]').closest("tr");return g.fn.WLFMC.add_to_save_for_later(t,e),!1}),e.on("click","#add_to_save_for_later_popup #remove_item",function(t){return t.stopImmediatePropagation(),t.preventDefault(),g("#add_to_save_for_later_popup").popup("hide"),window.location.href=a,!1}),e.on("click",".wlfmc-sfl-btn-login-need",function(t){return t.stopImmediatePropagation(),t.preventDefault(),toastr.error(wlfmc_l10n.labels.sfl_login_need),!1}),e.on("click",".wlfmc-accordion-header",function(t){return t.stopImmediatePropagation(),t.preventDefault(),g(this).hasClass("active")?(g(this).removeClass("active"),g(this).next(".wlfmc-accordion-panel").slideUp()):(g(this).addClass("active"),g(this).next(".wlfmc-accordion-panel").slideDown()),!1}),e.on("click",".wlfmc-save-for-later-form a.wlfmc-close-notice",function(t){if(t.stopImmediatePropagation(),t.preventDefault(),g.fn.WLFMC.is_cookie_enabled())return g.fn.WLFMC.setCookie("wlfmc_save_for_later_notice",!0),g(this).closest(".wlfmc-notice-wrapper").animate({opacity:0},"slow").remove(),!1;window.alert(wlfmc_l10n.labels.cookie_disabled)}),t.on("adding_to_cart","body",function(t,e,o){void 0!==e&&void 0!==o&&e.closest(".wlfmc-wishlist-table,.wlfmc-save-for-later-table").length&&(o.wishlist_id=e.closest(".wlfmc-wishlist-table,.wlfmc-save-for-later-table").data("id"),o.wishlist_type=e.closest(".wlfmc-wishlist-table,.wlfmc-save-for-later-table").data("wishlist-type"),o.customer_id=e.closest(".wlfmc-wishlist-table,.wlfmc-save-for-later-table").data("customer-id"),o.is_owner=e.closest(".wlfmc-wishlist-table,.wlfmc-save-for-later-table").data("is-owner"),"undefined"!=typeof wc_add_to_cart_params&&(wc_add_to_cart_params.cart_redirect_after_add=wlfmc_l10n.redirect_to_cart))}),t.on("added_to_cart","body",function(t,e,o,a){if(void 0!==a&&a.closest(".wlfmc-wishlist-table").length){"undefined"!=typeof wc_add_to_cart_params&&(wc_add_to_cart_params.cart_redirect_after_add=p);var i=(m=(f=a.closest("[data-row-id]")).closest(".wlfmc-wishlist-fragment")).data("fragment-options"),n=f.data("row-id"),r=m.find(".wlfmc-wishlist-table").data("id"),l=(m.find(".wlfmc-wishlist-table").data("token"),m.find(".wlfmc-wishlist-table").data("wishlist-type"));if(a.removeClass("added"),f.find(".added_to_cart").remove(),wlfmc_l10n.remove_from_wishlist_after_add_to_cart&&i.is_user_owner){if(g(".wlfmc-wishlist-form").find('[data-row-id="'+n+'"]').remove(),"wishlist"===l&&null!=u){for(var s=u.length,c=0;c<=s-1;c++)void 0!==u[c]&&u[c].wishlist_id==r&&u[c].product_id==n&&u.splice(c,1);g.fn.WLFMC.set_products_hash(JSON.stringify(u)),g(".wlfmc-products-counter-wrapper").find('[data-row-id="'+n+'"]').remove(),g(".wlfmc-products-counter-wrapper .products-counter-number").text(u.length),g(".wlfmc-products-counter-wishlist .total-products .wlfmc-total-count").text(u.length),g(".wlfmc-add-to-wishlist.wlfmc-add-to-wishlist-"+n).removeClass("exists"),u.length&&0!==u.length&&m.find("[data-row-id]").length||(g(".wlfmc-wishlist-table-wrapper").empty(),g.fn.WLFMC.reload_fragment=!0)}if("waitlist"===l&&null!=_){for(var d=_.length,c=0;c<=d-1;c++)void 0!==_[c]&&_[c].wishlist_id==r&&_[c].product_id==n&&_.splice(c,1);g.fn.WLFMC.set_waitlist_hash(JSON.stringify(_)),g(".wlfmc-waitlist-counter-wrapper").find('[data-row-id="'+n+'"]').remove(),g(".wlfmc-waitlist-counter-wrapper .products-counter-number").text(_.length),g(".wlfmc-waitlist-counter-wrapper .total-products .wlfmc-total-count").text(_.length),g(".wlfmc-add-to-waitlist.wlfmc-add-to-waitlist-"+n).removeClass("exists"),_.length&&0!==_.length&&m.find("[data-row-id]").length||(g(".wlfmc-wishlist-table-wrapper").empty(),g.fn.WLFMC.reload_fragment=!0)}"lists"===l&&(g.fn.WLFMC.reload_fragment=!0)}}else{var f,m;void 0!==a&&a.closest(".wlfmc-save-for-later-table").length&&(i=(m=(f=a.closest("[data-item-id]")).closest(".wlfmc-wishlist-fragment")).data("fragment-options"),l=f.data("item-id"),a.removeClass("added"),f.find(".added_to_cart").remove(),i.is_user_owner&&(g(".wlfmc-save-for-later-form").find('[data-item-id="'+l+'"]').remove(),g(".wlfmc-save-for-later-items-wrapper .save-for-later-items-wrapper tr").length||g(".wlfmc-save-for-later-table-wrapper").empty()))}}),t.on("add_to_cart_message","body",function(t,e,o){var a=g(".woocommerce-notices-wrapper .woocommerce-error,.woocommerce-notices-wrapper .woocommerce-message");o.removeClass("loading"),0===a.length?g("#wlfmc-wishlist-form").prepend(e):a.fadeOut(300,function(){g(this).closest(".woocommerce-notices-wrapper").replaceWith(e).fadeIn()})}),t.on("cart_page_refreshed","body",g.fn.WLFMC.init_handling_after_ajax),"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch?(e.on("touchstart",".wlfmc-counter-wrapper.show-list-on-hover,.wlfmc-counter-wrapper.show-list-on-click",function(t){o=!1}),e.on("touchmove",".wlfmc-counter-wrapper.show-list-on-hover,.wlfmc-counter-wrapper.show-list-on-click",function(t){o=!0}),e.on("touchend",".wlfmc-counter-wrapper.show-list-on-hover .wlfmc-counter.has-dropdown,.wlfmc-counter-wrapper.show-list-on-click  .wlfmc-counter.has-dropdown",function(t){var e=g(this).closest(".wlfmc-counter-wrapper");e.hasClass("wlfmc-first-touch")?o||g.fn.WLFMC.hide_mini_wishlist.call(g(".wlfmc-counter-wrapper"),t):(ev.stopImmediatePropagation(),ev.preventDefault(),g.fn.WLFMC.show_mini_wishlist.call(this,t),e.addClass("wlfmc-first-touch"))}),e.on("touchend",":not(.wlfmc-counter-wrapper.show-list-on-hover):not(.wlfmc-counter-wrapper.show-list-on-click)",function(t){0===g(t.target).closest(".wlfmc-counter-wrapper").length&&g.fn.WLFMC.hide_mini_wishlist.call(g(".wlfmc-counter-wrapper"),t)}),e.on("touchend",".wlfmc-counter-wrapper .wlfmc-counter.has-dropdown a:not(.remove_from_wishlist)",function(t){return t.stopImmediatePropagation(),t.preventDefault(),window.location.href=g(this).attr("href"),!1})):(e.on("click",".wlfmc-counter-wrapper.show-list-on-click .wlfmc-counter.has-dropdown",function(t){t.stopImmediatePropagation(),t.preventDefault();t=g(".dropdown_"+g(this).attr("data-id"))||g(this).closest(".wlfmc-counter-wrapper").find(".wlfmc-counter-dropdown");return g.fn.WLFMC.appendtoBody(t.closest(".wlfmc-counter-wrapper")),g.fn.WLFMC.prepare_mini_wishlist(t),t.toggleClass("lists-show"),!1}),t.on("click",function(t){var e=g(".wlfmc-counter-wrapper.show-list-on-click .wlfmc-counter.has-dropdown");e===t.target||e.has(t.target).length||g(".wlfmc-counter-dropdown").removeClass("lists-show")}),e.on("mouseover",".wlfmc-counter-wrapper.show-list-on-hover .wlfmc-counter-dropdown",function(t){return t.stopImmediatePropagation(),t.preventDefault(),g(this).addClass("lists-show"),!1}),e.on("mouseout",".wlfmc-counter-wrapper.show-list-on-hover .wlfmc-counter-dropdown",function(t){return t.stopImmediatePropagation(),t.preventDefault(),g(this).removeClass("lists-show"),!1}),e.on("mouseover",".wlfmc-counter-wrapper.show-list-on-hover .wlfmc-counter.has-dropdown",function(t){t.stopImmediatePropagation(),t.preventDefault();t=g(".dropdown_"+g(this).attr("data-id"))||g(this).closest(".wlfmc-counter-wrapper").find(".wlfmc-counter-dropdown");return g(t).addClass("lists-show"),g.fn.WLFMC.appendtoBody(t.closest(".wlfmc-counter-wrapper")),g.fn.WLFMC.prepare_mini_wishlist(t),!1}),e.on("mouseout",".wlfmc-counter-wrapper.show-list-on-hover .wlfmc-counter.has-dropdown",function(t){t.stopImmediatePropagation(),t.preventDefault();t=g(".dropdown_"+g(this).attr("data-id"));return g(t).removeClass("lists-show"),!1}),g(".wlfmc-counter-wrapper.show-list-on-hover .wlfmc-counter.has-dropdown").hoverIntent({interval:0,timeout:100,over:g.fn.WLFMC.show_mini_wishlist,out:g.fn.WLFMC.hide_mini_wishlist})),g.fn.WLFMC.init_prepare_qty_links(),g.fn.WLFMC.init_wishlist_popup(),g.fn.WLFMC.init_quantity(),g.fn.WLFMC.init_checkbox_handling(),g.fn.WLFMC.init_copy_wishlist_link(),g.fn.WLFMC.init_tooltip(),g.fn.WLFMC.init_components(),g.fn.WLFMC.init_popups(),g.fn.WLFMC.init_layout(),g.fn.WLFMC.init_drag_n_drop(),g.fn.WLFMC.init_popup_checkbox_handling(),g.fn.WLFMC.init_dropdown_lists()}).trigger("wlfmc_init"),g(document).on("jet-filter-content-rendered",g.fn.WLFMC.reInit_wlfmc).on("jet-woo-builder-content-rendered",g.fn.WLFMC.reInit_wlfmc).on("jet-engine/listing-grid/after-load-more",g.fn.WLFMC.reInit_wlfmc).on("jet-engine/listing-grid/after-lazy-load",g.fn.WLFMC.reInit_wlfmc).on("jet-cw-loaded",g.fn.WLFMC.reInit_wlfmc),g(document).on("ready",g.fn.WLFMC.load_fragments);new MutationObserver(function(t){t.forEach(function(t){0<g(".woocommerce-product-gallery__wrapper .wlfmc-top-of-image").length&&g.fn.WLFMC.init_fix_on_image_single_position(),0<g(".pp-single-product .entry-summary > .wlfmc-top-of-image").length&&0<g(".pp-single-product .entry-summary .single-product-image").length&&g(".pp-single-product").each(function(){var t=g(this).find(".wlfmc-top-of-image"),e=g(this).find(".single-product-image");0<t.length&&0<e.length&&t.appendTo(e)})})}).observe(g("body")[0],{childList:!0,subtree:!0}),g(window).on("scroll resize",function(){g(".wlfmc-counter-dropdown").each(function(){g.fn.WLFMC.prepare_mini_wishlist(g(this))})});var r,l=!0,s=wlfmc_l10n.wishlist_hash_key,d=s+"_products",f=s+"_waitlist",m=s+"_lang";try{l="sessionStorage"in window&&null!==window.sessionStorage,window.sessionStorage.setItem("wlfmc","test"),window.sessionStorage.removeItem("wlfmc"),window.localStorage.setItem("wlfmc","test"),window.localStorage.removeItem("wlfmc")}catch(t){l=!1}if(wlfmc_l10n.is_cache_enabled&&wlfmc_l10n.is_page_cache_enabled&&g.fn.WLFMC.table_block(),l){g(window).on("storage onstorage",function(t){(d===t.originalEvent.key&&localStorage.getItem(d)!==sessionStorage.getItem(d)||f===t.originalEvent.key&&localStorage.getItem(f)!==sessionStorage.getItem(f))&&g.fn.WLFMC.load_fragments()}),g(window).on("pageshow",function(t){t.originalEvent.persisted&&g.fn.WLFMC.load_fragments()});try{if(wlfmc_l10n.is_cache_enabled)throw"Need Update wishlist data";if(wlfmc_l10n.update_wishlists_data||null!==e&&e!==localStorage.getItem(m)||localStorage.getItem(d)!==JSON.stringify(o)||localStorage.getItem(f)!==JSON.stringify(i))throw localStorage.setItem(d,""),localStorage.setItem(f,""),localStorage.setItem(m,""),g.fn.WLFMC.check_products(o),g.fn.WLFMC.check_waitlist_products(i),"Need Update wishlist data";localStorage.getItem(d)&&(r=JSON.parse(localStorage.getItem(d)),"object"===_typeof(r)&&null!==r&&g.fn.WLFMC.check_products(r)),localStorage.getItem(f)&&(r=JSON.parse(localStorage.getItem(f)),"object"===_typeof(r)&&null!==r&&g.fn.WLFMC.check_waitlist_products(r)),g.fn.WLFMC.unblock(g(".wlfmc-wishlist-table-wrapper, .wlfmc-save-for-later-table-wrapper")),g("#wlfmc-lists,#wlfmc-wishlist-form").addClass("on-first-load")}catch(t){console.log(t),g.fn.WLFMC.load_fragments()}}else g.fn.WLFMC.load_fragments();"undefined"!=typeof wp&&wp.customize&&wp.customize.selectiveRefresh&&wp.customize.widgetsPreview&&wp.customize.widgetsPreview.WidgetPartial&&wp.customize.selectiveRefresh.bind("partial-content-rendered",function(){g.fn.WLFMC.load_fragments()})})},{}]},{},[1]);